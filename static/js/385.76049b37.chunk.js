(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[385],{39500:function(e,n,t){"use strict";t(47313);var r=t(94469),i=t(69625),a=t(47605),o=t(9506),l=t(61474),u=t(46417);n.Z=function(e){var n=e.modalMessage,t=e.handleConfirm,s=e.isOpen,c=e.closeModal,d=e.confirmText,v=void 0===d?"Delete":d,f=e.cancelText,h=void 0===f?"Cancel":f,p=e.warning,m=void 0===p?"":p,g=n||"Are you sure you want to delete this record?";return(0,u.jsx)("div",{children:(0,u.jsx)(r.Z,{open:!!s,children:(0,u.jsxs)(i.Z,{children:[(0,u.jsx)(a.Z,{children:g}),(0,u.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[!m&&(0,u.jsx)(l.AG,{handleClick:c,label:h}),(0,u.jsx)(l.k4,{label:m?"Ok":v,handleClick:t})]})]})})})}},36936:function(e,n,t){"use strict";t.d(n,{Yl:function(){return c},bS:function(){return u},hr:function(){return s},mB:function(){return l}});var r=t(1413),i=t(80571),a=JSON.parse(sessionStorage.getItem("logInUserData")),o=i.g.injectEndpoints({endpoints:function(e){return{getNominees:e.query({query:function(){return"/backendapi/nominee/list/".concat(a._id)},providesTags:["Nominee"]}),addNominees:e.mutation({query:function(e){return{url:"backendapi/nominee/add",method:"POST",body:(0,r.Z)((0,r.Z)({},e),{},{userId:a._id})}},invalidatesTags:["Nominee"]}),deleteNominees:e.mutation({query:function(e){return{url:"/backendapi/nominee/delete",method:"POST",body:e}},invalidatesTags:["Nominee"]}),updateNominees:e.mutation({query:function(e){return{url:"/backendapi/nominee/update",method:"POST",body:(0,r.Z)((0,r.Z)({},e),{},{userId:a._id})}},invalidatesTags:["Nominee"]})}}}),l=o.useGetNomineesQuery,u=o.useUpdateNomineesMutation,s=o.useAddNomineesMutation,c=o.useDeleteNomineesMutation},54727:function(e,n,t){"use strict";t.d(n,{Yd:function(){return r},cc:function(){return a},p6:function(){return i}});n.ZP=function(e){var n=(null===e||void 0===e?void 0:e.keyCode)||(null===e||void 0===e?void 0:e.which);n=String.fromCharCode(n);if(!/^[0-9]*$/.test(n))return e.preventDefault(),!1};var r=RegExp(/^[6-9]{1}[0-9]{9}$/),i=function(e,n){var t="";if(!e)return t;var r=new Date(e),i=r.getFullYear(),a="".concat(r.getMonth()+1),o="".concat(r.getDate());if(a.length<2&&(a="0".concat(a)),o.length<2&&(o="0".concat(o)),"dd/mm/yyyy"===n)t=[o,a,i].join("/");else t=[o,a,i].join("-");return t},a=function(e){var n="".concat(e.getMonth()+1);1===n.length&&(n="0".concat(n));var t="".concat(e.getDate());return 1===t.length&&(t="0".concat(t)),[e.getFullYear(),n,t].join("-")}},97729:function(e,n,t){"use strict";t.d(n,{Gf:function(){return u},Y:function(){return s},c_:function(){return l},mq:function(){return c}});var r=t(74165),i=t(15861),a=t(42612),o=t.n(a),l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",o().md.sha512.create().update(n).digest().toHex());case 4:e.prev=4,e.t0=e.catch(0),console.log("Error while hashing: ",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,a,l,u,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===n||void 0===n?void 0:n.length)>0)){e.next=19;break}return i=sessionStorage.getItem("secretkey"),a=null!==t&&void 0!==t?t:i,l=o().random.getBytesSync(32),u=o().cipher.createCipher("AES-GCM",a),e.prev=5,u.start({iv:l,additionalData:"binary-encoded string"}),u.update(o().util.createBuffer(n)),u.finish(),s={iv:l,tag:u.mode.tag.toHex(),output:u.output.toHex()},e.abrupt("return",JSON.stringify(s));case 13:return e.prev=13,e.t0=e.catch(5),console.log("Error while encrypting data: ",e.t0),e.abrupt("return","");case 17:e.next=20;break;case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(n,t){return e.apply(this,arguments)}}(),s=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,a,l,u,s,c,d,v;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:i=sessionStorage.getItem("secretkey"),a=null!==t&&void 0!==t?t:i;try{l=JSON.parse(n)}catch(r){console.log(r)}if(u=l.iv,s=o().util.hexToBytes(l.tag),!(c=l.output)){e.next=28;break}if(e.prev=9,(d=o().cipher.createDecipher("AES-GCM",a)).start({iv:u,additionalData:"binary-encoded string",tag:s}),v=o().util.hexToBytes(c),d.update(o().util.createBuffer(v)),!d.finish()){e.next=19;break}return e.abrupt("return",d.output.toString());case 19:console.log("Error authentication tag didn't match ");case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(9),console.log("Error while decrypting data: ",e.t0),e.abrupt("return","");case 26:e.next=29;break;case 28:return e.abrupt("return",n);case 29:case"end":return e.stop()}}),e,null,[[9,22]])})));return function(n,t){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,a,l,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n&&n.length>0)){e.next=18;break}return i=o().md.sha256.create().update(t),a=o().random.getBytesSync(32),l=o().cipher.createCipher("AES-GCM",i.digest()),e.prev=4,l.start({iv:a,additionalData:"binary-encoded string"}),l.update(o().util.createBuffer(n)),l.finish(),u={iv:a,tag:l.mode.tag.toHex(),output:l.output.toHex()},e.abrupt("return",JSON.stringify(u));case 12:return e.prev=12,e.t0=e.catch(4),console.log("Error while encrypting data: ",e.t0),e.abrupt("return","");case 16:e.next=19;break;case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(n,t){return e.apply(this,arguments)}}()},29748:function(e,n,t){"use strict";t.d(n,{Z:function(){return M}});var r=t(1413),i=t(74165),a=t(93433),o=t(15861),l=t(29439),u=t(47313),s=t(9506),c=t(49920),d=t(19641),v=t(47605),f=t(19536),h=t(71003),p=t(35898),m=t(52156),g=t(8586),Z=t(85585),x=t(54727),y=t(61474),b=t(79428),C=t(94469),j=t(33604),S=t(69625),k=t(46417);function w(e){var n=e.modal,t=e.toggleModal,i=e.fname,a=e.setfname,o=e.ftype,l=e.setftype,u=e.editID,s=e.clearCustomField,c=e.handleSecrets,d=e.secrets;return(0,k.jsxs)(C.Z,{open:n,fullWidth:!0,maxWidth:"xs",onClose:t,children:[(0,k.jsxs)(j.Z,{children:[u?"Update Secret":"Add Secret"," "]}),(0,k.jsxs)(S.Z,{children:[(0,k.jsx)(y.gc,{name:"relation",options:b.DD.filter((function(e){var n,t,r;return e.value!==(null===d||void 0===d||null===(n=d[0])||void 0===n?void 0:n.question)&&e.value!==(null===d||void 0===d||null===(t=d[1])||void 0===t?void 0:t.question)&&e.value!==(null===d||void 0===d||null===(r=d[2])||void 0===r?void 0:r.question)})),onChange:function(e,n){return function(e){var n=null===e||void 0===e?void 0:e.value;a(n)}(n)},value:(0,b.NA)(b.DD,i),renderInput:function(e){return(0,k.jsx)(m.Z,(0,r.Z)((0,r.Z)({},e),{},{placeholder:" Secret Question"}))}}),(0,k.jsx)(m.Z,{type:"text",name:"Answer",margin:"normal",size:"small",fullWidth:!0,error:(null===o||void 0===o?void 0:o.length)<4||" "===o.charAt(0),value:o,placeholder:"Answer",onChange:function(e){l(e.target.value)}}),(0,k.jsxs)(p.Z,{spacing:3,direction:"row",sx:{mt:3,justifyContent:"start"},children:[(0,k.jsx)(y.ZP,{varient:"outlined",label:"Cancel",onClick:function(e){s()}}),(0,k.jsx)(y.ZP,{varient:"contained",label:u?"Update":"Add",disabled:!(null!==i&&void 0!==i&&i.length)||o.length<4,onClick:c})]})]})]})}var E,N=t(69173),D=t(49969),A=t(97729),O=t(36936),I=t(54285),P=null===(E=JSON.parse(sessionStorage.getItem("dropdowns")))||void 0===E?void 0:E.nomineeRelation;function M(e){var n=(0,O.bS)(),t=(0,l.Z)(n,2),C=t[0],j=t[1],S=(0,I.Z)().setSnack,E=(0,O.hr)(),M=(0,l.Z)(E,2),q=M[0],T=M[1],_=e.currentData,R=e.setcurrentData,z=(0,u.useState)(),B=(0,l.Z)(z,2),V=B[0],Y=B[1],G=(0,u.useState)(""),L=(0,l.Z)(G,2),U=L[0],W=L[1],H=(0,u.useState)(""),J=(0,l.Z)(H,2),F=J[0],Q=J[1],$=(0,u.useState)(""),K=(0,l.Z)($,2),X=K[0],ee=K[1],ne=(0,u.useState)(""),te=(0,l.Z)(ne,2),re=te[0],ie=te[1],ae=(0,u.useState)(""),oe=(0,l.Z)(ae,2),le=oe[0],ue=oe[1],se=(0,u.useState)(""),ce=(0,l.Z)(se,2),de=ce[0],ve=ce[1],fe=(0,u.useState)(!0),he=(0,l.Z)(fe,2),pe=he[0],me=he[1],ge=(0,u.useState)(""),Ze=(0,l.Z)(ge,2),xe=Ze[0],ye=Ze[1],be=(0,u.useState)(""),Ce=(0,l.Z)(be,2),je=Ce[0],Se=Ce[1],ke=(0,u.useState)(""),we=(0,l.Z)(ke,2),Ee=we[0],Ne=we[1],De=(0,u.useState)(""),Ae=(0,l.Z)(De,2),Oe=Ae[0],Ie=Ae[1],Pe=(0,u.useState)(""),Me=(0,l.Z)(Pe,2),qe=Me[0],Te=Me[1],_e=(0,u.useState)(""),Re=(0,l.Z)(_e,2),ze=Re[0],Be=Re[1],Ve=(0,u.useState)(""),Ye=(0,l.Z)(Ve,2),Ge=Ye[0],Le=Ye[1],Ue=(0,u.useState)(""),We=(0,l.Z)(Ue,2),He=We[0],Je=We[1],Fe=(0,u.useState)([]),Qe=(0,l.Z)(Fe,2),$e=Qe[0],Ke=Qe[1],Xe=(0,u.useState)(!1),en=(0,l.Z)(Xe,2),nn=en[0],tn=en[1],rn=(0,u.useState)(""),an=(0,l.Z)(rn,2),on=an[0],ln=an[1],un=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n,t,r,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(on){e.next=9;break}return n=(0,a.Z)($e),e.next=4,(0,A.c_)(He);case 4:t=e.sent,n.push({id:(null===n||void 0===n?void 0:n.length)+1,question:Ge,answer:t}),Ke((0,a.Z)(n)),e.next=17;break;case 9:return r=(0,a.Z)($e),o=r.findIndex((function(e){return e.id===on})),r[o].question=Ge,e.next=14,(0,A.c_)(He);case 14:r[o].answer=e.sent,Ke((0,a.Z)(r)),ln("");case 17:tn(!1),Le(""),Je("");case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sn=function(){Le(""),Je(""),tn(!nn)};(0,u.useEffect)((function(){if(_){var e=_.name,n=_.relation,t=_.relation1,r=_.address,i=_.email,o=_.primaryContact,l=_.secondaryContact,u=_.secrets;Q(e),Y(n),"Others"===n&&W(t),ie(r),ee(i),ue(o),ve(l),(null===u||void 0===u?void 0:u.length)&&Ke((0,a.Z)(u))}}),[]),(0,u.useEffect)((function(){null!==T&&void 0!==T&&T.isSuccess&&(S({msg:"Liability added successfully",severity:"success"}),yn(),R(null)),null!==T&&void 0!==T&&T.isError&&S({msg:T.error,severity:"error"})}),[T]),(0,u.useEffect)((function(){null!==j&&void 0!==j&&j.isSuccess&&(S({msg:"Nominee updated successfully",severity:"success"}),yn(),R(null)),null!==j&&void 0!==j&&j.isError&&S({msg:j.error,severity:"error"})}),[j]);var cn=function(){nn&&sn(),tn(!nn)},dn=function(){return ye("Enter Valid Name")},vn=function(){return Se("Enter Valid Email")},fn=function(){return Te("Enter Valid Contact No.")},hn=function(){return Ne("Enter Valid Relation")},pn=function(){return Ie("Enter Valid Relation")},mn=function(e){var n,t=e.target.name,r=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value;switch(t){case"name":Q(r),null!==r&&void 0!==r&&r.length&&r.trim()?ye(""):dn();break;case"email":ee(r);var i=r.match(/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/);r&&i&&r.trim()?Se(""):vn();break;case"address":ie(r);break;case"phone":ue(r),pe&&ve(r),null!==r&&void 0!==r&&r.length&&10===r.length&&r.trim()&&x.Yd.test(r)?Te(""):fn();break;case"phoneC":ve(r),10===r.length&&r.trim()&&x.Yd.test(r)?Be(""):Be("Enter Valid whatsapp No."),(null===r||void 0===r||!r.length)&&Be("");break;case"relation":null!==r&&void 0!==r&&r.length&&r.trim()?Ne(""):hn();break;case"relation1":W(r),null!==r&&void 0!==r&&r.length&&r.trim()?Ie(""):pn()}},gn=function(e){e.preventDefault();var n=((null===F||void 0===F||!F.length)&&dn(),(null===X||void 0===X||!X.length)&&vn(),(null===le||void 0===le||!le.length)&&fn(),(null===V||void 0===V||!V.length)&&hn(),"Others"===V&&(null===U||void 0===U||!U.length)&&pn(),xe||!(null!==F&&void 0!==F&&F.length)||Ee||!(null!==V&&void 0!==V&&V.length)||Oe||"Others"===V&&!(null!==U&&void 0!==U&&U.length)||je||!(null!==X&&void 0!==X&&X.length)||qe||!(null!==le&&void 0!==le&&le.length)||ze);if(n||null!==T&&void 0!==T&&T.isLoading)console.log(n,"inValid",Ee,"errorrelation",Oe);else{var t={relation:null===V||void 0===V?void 0:V.trim(),relation1:null===U||void 0===U?void 0:U.trim(),email:null===X||void 0===X?void 0:X.trim(),address:null===re||void 0===re?void 0:re.trim(),primaryContact:null===le||void 0===le?void 0:le.trim(),secondaryContact:null===de||void 0===de?void 0:de.trim(),name:null===F||void 0===F?void 0:F.trim(),secrets:$e};null!==_?(t._id=_._id,t.usage=_.usage,C(t)):(q(t),xn())}},Zn=function(){Q(""),Ke([]),Y(""),W(""),ee(""),ie(""),ue(""),ve("")},xn=function(){ye(""),Te(""),Be(""),Se(""),Ie("")},yn=e.handleSidebar,bn=e.data;return(0,k.jsx)(c.Z,{anchor:"right",open:!0,onOpen:function(){},onClose:function(){return R(null)},children:(0,k.jsxs)(s.Z,{sx:{mt:8,width:350,px:2},component:"form",children:[(0,k.jsxs)(d.ZP,{item:!0,sx:{display:"flex",justifyContent:"space-between",p:1},children:[(0,k.jsx)(v.Z,{color:"primary",children:null!==bn?"UPDATE NOMINEE":"ADD NEW NOMINEE"}),(0,k.jsx)(g.Z,{size:20,onClick:function(){yn(),R(null),Zn(),xn()}})]}),(0,k.jsx)(f.Z,{}),(0,k.jsx)(m.Z,{name:"name",value:F,margin:"dense",error:!!xe,placeholder:"Name*",onChange:mn,id:"data-name"}),(0,k.jsx)(d.ZP,{item:!0,children:(0,k.jsx)(y.gc,{id:"relationID",name:"relation",onChange:function(e,n){return function(e){var n=null===e||void 0===e?void 0:e.value;Y(n),"Others"!==n&&(Ie(""),W("")),null!==n&&void 0!==n&&n.length&&n.trim()&&Ne("")}(n)},options:P,value:(0,b.NA)(P,V),error:Ee,renderInput:function(e){return(0,k.jsx)(m.Z,(0,r.Z)((0,r.Z)({},e),{},{placeholder:"Relation*"}))}})}),"Others"===V&&(0,k.jsx)(m.Z,{margin:"dense",name:"relation1",value:U,error:!!Oe,placeholder:"Relation Name*",onChange:mn,id:"data-Relation",style:{borderColor:Oe?"red":""}}),(0,k.jsx)(m.Z,{type:"email",name:"email",margin:"dense",value:X,error:!!je,placeholder:"Email*",onChange:mn,id:"data-email"}),(0,k.jsx)(m.Z,{type:"tel",maxLength:10,margin:"dense",value:le,error:!!qe,name:"phone",onChange:mn,onKeyPress:function(e){return(0,x.ZP)(e)},id:"data-price1",placeholder:"Contact No.*"}),(0,k.jsx)(N.Z,{sx:{margin:0},control:(0,k.jsx)(D.Z,{sx:{padding:0},color:"primary",name:"whatsapp",size:"small",checked:null!==bn?de===le:pe,onChange:function(){return ve(pe?"":le),void me(!pe)}}),label:(0,k.jsx)(v.Z,{fontSize:"15px",children:"Whatsapp same as Contact"})}),(0,k.jsx)(m.Z,{type:"tel",maxLength:10,value:pe?le:de,name:"phoneC",error:!!ze,disabled:null!==bn?de===le:pe,onChange:mn,onKeyPress:function(e){return(0,x.ZP)(e)},id:"data-price",placeholder:"WhatsApp"}),(0,k.jsx)(m.Z,{value:re,margin:"dense",name:"address",placeholder:"Address",onChange:function(e){return mn(e)},id:"data-Address",multiline:!0,minRows:2}),(0,k.jsx)("div",{children:$e.map((function(e){return(0,k.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,k.jsxs)(v.Z,{sx:{color:"blue",cursor:"pointer"},onClick:function(){return n=e.id,ln(n),tn(!0),void $e.forEach((function(e){e.id===n&&Le(e.question)}));var n},children:["".concat(e.id,". ").concat(e.question)," "]})," ",(0,k.jsx)(Z.Z,{size:"1",onClick:function(){return function(e){var n,t=(0,a.Z)($e);t=t.filter((function(n){return n.id!==e})),null!==(n=t)&&void 0!==n&&n.length&&t.forEach((function(e,n){e.id=n+1})),Ke((0,a.Z)(t))}(e.id)}})]},e.id)}))}),(null===$e||void 0===$e?void 0:$e.length)<32&&(0,k.jsx)(h.Z,{disabled:3===(null===$e||void 0===$e?void 0:$e.length),onClick:cn,children:"Add Secret Questions"}),(0,k.jsxs)(p.Z,{spacing:3,direction:"row",sx:{mt:2,justifyContent:"end"},children:[(0,k.jsx)(y.ZP,{varient:"outlined",label:null!==bn?"Cancel":"Reset",onClick:function(){null!==bn&&yn(),Zn(),xn()}}),(0,k.jsx)(y.ZP,{onClick:function(e){return gn(e)},disabled:!(null!==$e&&void 0!==$e&&$e.length),label:null!==_?"Update":"Add",isLoading:null===T||void 0===T?void 0:T.isLoading})]}),(0,k.jsx)(w,{modal:nn,secrets:$e,toggleModal:cn,fname:Ge,setfname:Le,ftype:He,setftype:Je,editID:on,clearCustomField:sn,handleSecrets:un})]})})}},25819:function(){}}]);