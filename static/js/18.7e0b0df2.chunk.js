(this.webpackJsonplastArzi=this.webpackJsonplastArzi||[]).push([[18,3],{509:function(e,t,a){"use strict";a.d(t,"h",(function(){return m})),a.d(t,"g",(function(){return p})),a.d(t,"j",(function(){return b})),a.d(t,"b",(function(){return v})),a.d(t,"c",(function(){return f})),a.d(t,"i",(function(){return g})),a.d(t,"f",(function(){return E})),a.d(t,"d",(function(){return O})),a.d(t,"e",(function(){return j})),a.d(t,"a",(function(){return y})),a.d(t,"k",(function(){return S})),a.d(t,"l",(function(){return N}));var n=a(512),l=a(18),r=a.n(l),c=a(26),o=a(25),i=a.n(o),s=a(81),u=a(17),d=JSON.parse(sessionStorage.getItem("logInUserData")),m=function(e){var t=e.user,a=e.token;return function(){var e=Object(c.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"GET_ALL_DOCS_LOADING",data:!0}),i.a.get("/backendapi/documents/".concat(null===t||void 0===t?void 0:t._id),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){n({type:"GET_ALL_DOCS_LOADING",data:!1});for(var t=e.data,a=0;a<t.length;a+=1)t[a].desc=Object(u.a)(t[a].desc),t[a].id=a+1,t[a].expiry=Object(u.a)(t[a].expiry),t[a].alias=Object(u.a)(t[a].alias);n({type:"GET_ALL_DOCS",resp:t})})).catch((function(e){console.log("err get docs",e),n({type:"GET_ALL_DOCS_ERROR",err:"Error getting docs"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"GET_ALL_DATA_LOADING",data:!0}),t.next=3,i.a.get("/backendapi/nominee/list/".concat(d._id),{params:e,headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(t){if(a({type:"GET_ALL_DATA_LOADING",data:!1}),null===t||void 0===t?void 0:t.data){var l,r=Object(n.a)(null===t||void 0===t?void 0:t.data);try{for(r.s();!(l=r.n()).done;){var c=l.value;c.nomineeId=(null===c||void 0===c?void 0:c.nomineeId)&&Object(u.a)(c.nomineeId,!0),c.name=(null===c||void 0===c?void 0:c.name)&&Object(u.a)(c.name,!0),c.relation=(null===c||void 0===c?void 0:c.relation)&&Object(u.a)(c.relation,!0),c.relation1=(null===c||void 0===c?void 0:c.relation1)&&Object(u.a)(c.relation1,!0),c.email=(null===c||void 0===c?void 0:c.email)&&Object(u.a)(c.email,!0),c.primaryContact=(null===c||void 0===c?void 0:c.primaryContact)&&Object(u.a)(c.primaryContact,!0),c.secondaryContact=(null===c||void 0===c?void 0:c.secondaryContact)&&Object(u.a)(c.secondaryContact,!0),c.address=(null===c||void 0===c?void 0:c.address)&&Object(u.a)(c.address,!0)}}catch(o){r.e(o)}finally{r.f()}a({type:"GET_DATA",data:t.data,totalPages:t.length,params:e})}})).catch((function(e){console.log(e),a({type:"GET_ALL_DATA_LOADING",data:!1})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USER_ALL_DATA_LOADING",data:!0}),e.next=3,i.a.post("/backendapi/users/get",{id:d._id},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){if(t({type:"GET_USER_ALL_DATA_LOADING",data:!1}),null===e||void 0===e?void 0:e.data){var a=e.data[0];t({type:"GET_USER_ALL_DATA",data:a})}})).catch((function(e){console.log(e,"err"),t({type:"GET_USER_ALL_DATA_LOADING",data:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GET_ALL_ASSET_DATA_LOADING",data:!0}),i.a.get("/backendapi/user/assets/".concat(null===d||void 0===d?void 0:d._id),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){t({type:"GET_ALL_ASSET_DATA_LOADING",data:!1});var a=JSON.parse(Object(u.a)(e.data[0]));t({type:"GET_ALL_ASSET_DATA",data:a})})).catch((function(e){t({type:"ERROR_ALL_ASSET_DATA",data:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GET_ALL_LIABILITY_DATA_LOADING",data:!0}),i.a.get("/backendapi/user/liabilities/".concat(null===d||void 0===d?void 0:d._id),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){t({type:"GET_ALL_LIABILITY_DATA_LOADING",data:!1});var a=JSON.parse(Object(u.a)(e.data[0]));t({type:"GET_ALL_LIABILITY_DATA",data:a})})).catch((function(e){t({type:"ERROR_ALL_LIABILITY_DATA",data:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var l,c,o,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"GET_SPEND_DATA_LOADING",data:!0}),(null===t||void 0===t?void 0:t.year)&&(l=new Date,c=h(l),o=Number(t.year?t.year:3),l.setMonth(l.getMonth()-o),l.setDate(1),s=h(l),e.dateRangeStart=s,e.dateRangeEnd=c),(null===t||void 0===t?void 0:t.labels)&&(e.labels=t.labels),a.next=5,i.a.get("/backendapi/spend/list/".concat(d._id),{params:e,headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(t){n({type:"GET_SPEND_DATA_LOADING",data:!1}),n({type:"GET_DATA",data:null===t||void 0===t?void 0:t.data,totalPages:t.length,params:e})})).catch((function(e){n({type:"GET_SPEND_DATA_LOADING",data:!1})}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},h=function(e){var t="".concat(e.getMonth()+1);1===t.length&&(t="0".concat(t));var a="".concat(e.getDate());return 1===a.length&&(a="0".concat(a)),[e.getFullYear(),t,a].join("-")},E=function(e){return function(t){return t({type:"FILTER_DATA",value:e})}},O=function(e){return function(t){i.a.post("/backendapi/nominee/delete",e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(a){t({type:"DELETE_DATA",obj:e})}))}},j=function(e){return function(t){i.a.post("/backendapi/spend/delete",e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(a){t({type:"DELETE_DATA",obj:e})}))}},y=function(e){var t={userId:d._id,name:Object(u.b)(e.name,!0),relation:Object(u.b)(e.relation,!0),relation1:Object(u.b)(e.relation1,!0),email:Object(u.b)(e.email,!0),primaryContact:Object(u.b)(e.contact1,!0),secondaryContact:Object(u.b)(e.contact2,!0),address:Object(u.b)(e.address,!0),secrets:e.secrets};return function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/backendapi/nominee/add",t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){"Success"===e.data?s.b.success("Nominee Added Successfully"):s.b.error(e.data),a(p())}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(e){var t={_id:e._id,usage:e.usage?e.usage:"Unused",userId:d._id,name:Object(u.b)(e.name,!0),relation:Object(u.b)(e.relation,!0),relation1:Object(u.b)(e.relation1,!0),email:Object(u.b)(e.email,!0),primaryContact:Object(u.b)(e.contact1,!0),secondaryContact:Object(u.b)(e.contact2,!0),address:Object(u.b)(e.address,!0),secrets:e.secrets};return function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/backendapi/nominee/update",t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){s.b.success("Nominee Updated Successfully")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.post("/backendapi/update/secrets",{secrets:e,_id:d._id},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){s.b.success("Secret Updated Successfully")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},510:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(465),c=(a(110),a(12)),o=(a(111),a(526)),i=a.n(o),s={effect:"cube",grabCursor:!0,autoplay:{delay:2e3,disableOnInteraction:!0},cubeEffect:{shadow:!0,slideShadows:!0,shadowOffset:20,shadowScale:.94},pagination:{el:".swiper-pagination"}};t.a=function(){return l.a.createElement(r.a,{lg:"4",md:"6",sm:"12"},l.a.createElement("div",{className:"swipermobile"},l.a.createElement(i.a,s,l.a.createElement("div",{style:{backgroundImage:"url(".concat(c.s,")"),backgroundSize:"contain"}}),l.a.createElement("div",{style:{backgroundImage:"url(".concat(c.t,")"),backgroundSize:"contain"}}),l.a.createElement("div",{style:{backgroundImage:"url(".concat(c.u,")"),backgroundSize:"contain"}}),l.a.createElement("div",{style:{backgroundImage:"url(".concat(c.v,")"),backgroundSize:"contain"}}),l.a.createElement("div",{style:{backgroundImage:"url(".concat(c.w,")"),backgroundSize:"contain"}}))))}},530:function(e,t,a){"use strict";var n=a(36),l=a(7),r=a(0),c=a.n(r),o=a(109),i=a(71),s=a(147),u=a(107),d=a(466),m=a(470),p=a(464),b=a(562),v=a(148),f=a(82),g=a(8),h=a.n(g),E=a(12),O=a(81),j=a(507),y=a(493),S=a(494);function N(e){var t=e.modal,a=e.toggleModal,n=e.fname,l=e.setfname,r=e.ftype,u=e.setftype,d=e.editID,m=e.clearCustomField,p=e.handleSecrets,b=c.a.createRef();return c.a.createElement(j.a,{isOpen:t,toggle:a,centered:!0},c.a.createElement(y.a,{toggle:a,tag:"div",style:{color:"var(--warning)",fontSize:"1.45rem",fontWeight:"bold",letterSpacing:"1px",justifyContent:"center"}},"Add a secret question"),c.a.createElement(S.a,null,c.a.createElement(o.a,{className:"form-label-group mt-2"},c.a.createElement(f.a,{name:"relation",selectRelationRef:b,options:E.D,value:null===E.D||void 0===E.D?void 0:E.D.filter((function(e){return e.value===n})),placeholder:" Secret Question",onChange:function(e){return function(e){var t=null===e||void 0===e?void 0:e.value;l(t)}(e)}}),c.a.createElement(s.a,{className:E.c?"dark-label select-label":"light-label select-label"},"Secret Question")),c.a.createElement(o.a,{className:"form-label-group"},c.a.createElement(i.a,{type:"text",name:"Answer",value:r,placeholder:"Answer",onChange:function(e){u(e.target.value)}}),c.a.createElement(s.a,null,"Answer")),c.a.createElement(o.a,{className:"form-label-group mb-0",style:{textAlign:"right"}},c.a.createElement(f.b,{label:"Reset",handleClick:function(e){m()}}),c.a.createElement(f.c,{label:d?"Update":"Add",disabled:!(null===n||void 0===n?void 0:n.length)||""===r.trim(),handleClick:p}))))}var w=JSON.parse(sessionStorage.getItem("dropdowns")).nomineeRelation;t.a=function(e){var t=c.a.createRef(),a=Object(r.useState)(),g=Object(l.a)(a,2),j=g[0],y=g[1],S=Object(r.useState)(""),A=Object(l.a)(S,2),x=A[0],k=A[1],D=Object(r.useState)(""),C=Object(l.a)(D,2),_=C[0],L=C[1],R=Object(r.useState)(""),I=Object(l.a)(R,2),T=I[0],z=I[1],M=Object(r.useState)(""),G=Object(l.a)(M,2),V=G[0],B=G[1],U=Object(r.useState)(!0),P=Object(l.a)(U,2),F=P[0],W=P[1],J=Object(r.useState)(""),q=Object(l.a)(J,2),Z=q[0],H=q[1],K=Object(r.useState)(""),Y=Object(l.a)(K,2),Q=Y[0],$=Y[1],X=Object(r.useState)(""),ee=Object(l.a)(X,2),te=ee[0],ae=ee[1],ne=Object(r.useState)(""),le=Object(l.a)(ne,2),re=le[0],ce=le[1],oe=Object(r.useState)(!1),ie=Object(l.a)(oe,2),se=ie[0],ue=ie[1],de=Object(r.useState)(""),me=Object(l.a)(de,2),pe=me[0],be=me[1],ve=Object(r.useState)(""),fe=Object(l.a)(ve,2),ge=fe[0],he=fe[1],Ee=Object(r.useState)(""),Oe=Object(l.a)(Ee,2),je=Oe[0],ye=Oe[1],Se=Object(r.useState)(""),Ne=Object(l.a)(Se,2),we=Ne[0],Ae=Ne[1],xe=Object(r.useState)(""),ke=Object(l.a)(xe,2),De=ke[0],Ce=ke[1],_e=Object(r.useState)(""),Le=Object(l.a)(_e,2),Re=Le[0],Ie=Le[1],Te=Object(r.useState)(""),ze=Object(l.a)(Te,2),Me=ze[0],Ge=ze[1],Ve=Object(r.useState)(""),Be=Object(l.a)(Ve,2),Ue=Be[0],Pe=Be[1],Fe=Object(r.useState)([]),We=Object(l.a)(Fe,2),Je=We[0],qe=We[1],Ze=Object(r.useState)(!1),He=Object(l.a)(Ze,2),Ke=He[0],Ye=He[1],Qe=Object(r.useState)(""),$e=Object(l.a)(Qe,2),Xe=$e[0],et=$e[1],tt=function(){Ge(""),Pe("")},at=function(){Ke&&tt(),Ye(!Ke)};Object(r.useEffect)((function(){if(e.data){var t=e.data,a=t.id,l=t.name,r=t.relation,c=t.relation1,o=t.address,i=t.email,s=t.primaryContact,u=t.secondaryContact,d=e.data.secrets;ut(),ae(a),ce(l),y(r),"Others"===r&&k(c),z(o),L(i),B(s),H(u),(null===d||void 0===d?void 0:d.length)&&qe(Object(n.a)(d))}else(null===e.data||se)&&(st(),ut());ue(!1)}),[e.data]);var nt=function(){return Ie("Enter Valid Name")},lt=function(){return ye("Enter Valid Email")},rt=function(){return Ae("Enter Valid Contact No.")},ct=function(){return he("Enter Valid Relation")},ot=function(){return be("Enter Valid Relation")},it=function(e){var t,a=e.target.name,n=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;switch(a){case"name":ce(n),(null===n||void 0===n?void 0:n.length)&&n.trim()?Ie(""):nt();break;case"email":L(n);var l=n.match(/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/);n&&l&&n.trim()?ye(""):lt();break;case"address":n&&z(n);break;case"phone":B(n),F&&H(n),(null===n||void 0===n?void 0:n.length)&&10===n.length&&n.trim()&&v.c.test(n)?Ae(""):rt();break;case"phoneC":H(n),10===n.length&&n.trim()&&v.c.test(n)?Ce(""):Ce("Enter Valid whatsapp No."),!(null===n||void 0===n?void 0:n.length)&&Ce("");break;case"relation":(null===n||void 0===n?void 0:n.length)&&n.trim()?he(""):ct();break;case"relation1":k(n),(null===n||void 0===n?void 0:n.length)&&n.trim()?be(""):ot()}},st=function(){ce(""),qe([]),y(""),k(""),L(""),z(""),B(""),H("")},ut=function(){Ie(""),Ae(""),Ce(""),ye(""),be("")},dt=e.show,mt=e.handleSidebar,pt=e.data;return c.a.createElement("div",{className:h()("data-list-sidebar",{show:dt})},c.a.createElement("div",{className:"data-list-sidebar-header mt-4 px-2 d-flex justify-content-between"},c.a.createElement("h4",{style:{color:"var(--warning)"}},null!==pt?"UPDATE NOMINEE":"ADD NEW NOMINEE"),c.a.createElement(m.a,{size:20,onClick:function(){mt(!1,!0),st(),ut()}})),c.a.createElement("div",{className:"p-2"},c.a.createElement(o.a,{className:"form-label-group mt-1"},c.a.createElement(i.a,{className:"input-label placeholder ",type:"text",name:"name",value:re,invalid:!!Re,placeholder:"Name*",onChange:it,id:"data-name",style:{borderColor:Re?"red":""}}),c.a.createElement(s.a,{className:E.c?"dark-label":"light-label"},"Name*")),c.a.createElement(o.a,{className:"form-label-group mt-2"},c.a.createElement(f.a,{name:"relation",selectRelationRef:t,options:w,value:null===w||void 0===w?void 0:w.filter((function(e){return e.value===j})),placeholder:"Relation*",onChange:function(e){return function(e){var t=null===e||void 0===e?void 0:e.value;y(t),"Others"!==t&&(be(""),k("")),(null===t||void 0===t?void 0:t.length)&&t.trim()&&he("")}(e)}})),"Others"===j&&c.a.createElement(o.a,{className:"form-label-group mt-2"},c.a.createElement(i.a,{type:"text",className:"placeholder",name:"relation1",value:x,invalid:!!pe,placeholder:"Relation Name*",onChange:it,id:"data-Relation",style:{borderColor:pe?"red":""}})),c.a.createElement(o.a,{className:"form-label-group mt-2"},c.a.createElement(i.a,{className:"input-label placeholder ",type:"email",name:"email",value:_,invalid:!!je,placeholder:"Email*",onChange:it,id:"data-email",style:{borderColor:je?"red":""}}),c.a.createElement(s.a,{className:E.c?"dark-label":"light-label"},"Email*")),c.a.createElement(o.a,{className:"form-label-group mt-2"},c.a.createElement(i.a,{className:"input-label placeholder ",type:"tel",maxLength:10,value:V,invalid:!!we,name:"phone",onChange:it,onKeyPress:function(e){return Object(v.a)(e)},id:"data-price1",placeholder:"Contact No.*",style:{borderColor:we?"red":""}}),c.a.createElement(s.a,{className:E.c?"dark-label":"light-label"},"Contact No.")),c.a.createElement(o.a,{className:"form-label-group mt-2"},c.a.createElement(i.a,{className:"input-label placeholder ",type:"text",maxLength:10,value:Z,name:"phoneC",invalid:!!De,disabled:null!==pt?Z===V:F,onChange:it,onKeyPress:function(e){return Object(v.a)(e)},id:"data-price",placeholder:"WhatsApp"}),c.a.createElement(s.a,{className:E.c?"dark-label":"light-label"},"Whatsapp")),c.a.createElement(o.a,{check:!0,inline:!0,className:"ml-25"},c.a.createElement(i.a,{type:"checkbox",className:"w-max",checked:null!==pt?Z===V:F,onChange:function(){return H(F?"":V),void W(!F)}}),c.a.createElement(s.a,{check:!0},"Whatsapp same as contact no.")),c.a.createElement(o.a,{className:"form-label-group mt-2"},c.a.createElement(i.a,{className:"input-label placeholder",type:"textarea",value:T,name:"address",placeholder:"Address",onChange:function(e){return it(e)},id:"data-Address"}),c.a.createElement(s.a,{className:E.c?"dark-label":"light-label"},"Address")),c.a.createElement("div",null,Je.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,{className:"form-label-group mt-15"},c.a.createElement("div",{className:"input-label",type:"input",style:{boxShadow:"0 0 0 0.06rem #cccccc",borderRadius:"0.25rem",padding:"5.25px 10.5px"}},c.a.createElement("span",null,e.id,"."),c.a.createElement("span",{style:{marginLeft:"5px"}},e.question),c.a.createElement("b",null,c.a.createElement(p.a,{color:"var(--warning)",size:"20",className:"float-right",onClick:function(){return function(e){var t,a=Object(n.a)(Je);(null===(t=a=a.filter((function(t){return t.id!==e})))||void 0===t?void 0:t.length)&&a.forEach((function(e,t){e.id=t+1})),qe(Object(n.a)(a))}(e.id)}}),c.a.createElement(b.a,{color:"coral",size:"20",className:"float-right",onClick:function(){return function(e){et(e),Ye(!0),Je.forEach((function(t){t.id===e&&(Pe(t.answer),Ge(t.question))}))}(e.id)}})))))}))),(null===Je||void 0===Je?void 0:Je.length)<3&&c.a.createElement("div",{className:"d-flex justify-content-space-between mt-1 p-1"},c.a.createElement(u.a,{color:"white",outline:!0,disabled:3===(null===Je||void 0===Je?void 0:Je.length),onClick:at,className:"add-button",id:"addButton",style:{backgroundColor:"var(--warning)"}},"+"),c.a.createElement(s.a,{style:{padding:"8px",fontSize:"16px"},className:E.c?"dark-label":"light-label"},"Add Secret Questions")),e.thumbView&&Q.length<=0?c.a.createElement("label",{className:"btn btn-primary",htmlFor:"upload-image",color:"primary"},"Upload Image",c.a.createElement("input",{type:"file",id:"upload-image",hidden:!0,onChange:function(e){return $(URL.createObjectURL(e.target.files[0]))}})):null),c.a.createElement("div",{className:"data-list-sidebar-footer mt-2 px-2 d-flex justify-content-start align-items-center mt-1"},c.a.createElement(f.b,{label:null!==pt?"Cancel":"Reset",handleClick:function(){null!==pt&&mt(!1,!0),st(),ut()}}),c.a.createElement(f.c,{disabled:!(null===Je||void 0===Je?void 0:Je.length),label:null!==pt?e.isLoading?c.a.createElement(d.a,{color:"white",size:"sm"}):"Update":e.isLoading?c.a.createElement(d.a,{color:"white",size:"sm"}):"Add",handleClick:function(){if(!(null===re||void 0===re?void 0:re.length)&&nt(),!(null===_||void 0===_?void 0:_.length)&&lt(),!(null===V||void 0===V?void 0:V.length)&&rt(),!(null===j||void 0===j?void 0:j.length)&&ct(),"Others"===j&&!(null===x||void 0===x?void 0:x.length)&&ot(),"Others"!==j&&be(""),Re||!(null===re||void 0===re?void 0:re.length)||ge||!(null===j||void 0===j?void 0:j.length)||pe||"Others"===j&&!(null===x||void 0===x?void 0:x.length)||je||!(null===_||void 0===_?void 0:_.length)||we||!(null===V||void 0===V?void 0:V.length)||De)O.b.error("Kindly Fill Mandatory fields");else if(e.isLoading)null!==e.data?O.b.warning("Updating still in process"):O.b.warning("Adding nominee in process");else{var t={relation:null===j||void 0===j?void 0:j.trim(),relation1:null===x||void 0===x?void 0:x.trim(),email:null===_||void 0===_?void 0:_.trim(),address:null===T||void 0===T?void 0:T.trim(),contact1:null===V||void 0===V?void 0:V.trim(),contact2:null===Z||void 0===Z?void 0:Z.trim(),id:null===te||void 0===te?void 0:te.trim(),name:null===re||void 0===re?void 0:re.trim(),secrets:Je};null!==e.data?(t._id=e.data._id,t.usage=e.data.usage,e.updateData(t)):(ue(!0),e.addData(t),st(),ut())}}}),c.a.createElement(N,{modal:Ke,toggleModal:at,fname:Me,setfname:Ge,ftype:Ue,setftype:Pe,editID:Xe,clearCustomField:tt,handleSecrets:function(){if(Xe){var e=Object(n.a)(Je),t=e.findIndex((function(e){return e.id===Xe}));e[t].question=Me,e[t].answer=Ue,qe(Object(n.a)(e)),et("")}else{var a=Object(n.a)(Je);a.push({id:(null===a||void 0===a?void 0:a.length)+1,question:Me,answer:Ue}),qe(Object(n.a)(a))}Ye(!1),Ge(""),Pe("")}})))}},544:function(e,t,a){"use strict";a.d(t,"c",(function(){return w})),a.d(t,"a",(function(){return x})),a.d(t,"b",(function(){return k}));var n=a(36),l=a(7),r=a(0),c=a.n(r),o=a(712),i=a(713),s=a(506),u=a(589),d=a(517),m=a(465),p=a(511),b=a(524),v=a(525),f=a(503),g=a(109),h=a(71),E=a(147),O=a(515),j=a(12),y=a(519),S=a.n(y),N=a(82),w=function(e){var t=Object(r.useState)(e.file?e.file:[]),a=Object(l.a)(t,2),s=a[0],d=a[1],m=Object(u.a)({maxFiles:e.notMulti?1:5,multiple:!e.notMulti,onDrop:function(t){1===e.notMulti?(e.setfilesOndrop(t),d(t.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))):(e.setfilesOndrop([].concat(Object(n.a)(s),Object(n.a)(t))),d([].concat(Object(n.a)(s),Object(n.a)(t))))}}),p=m.getInputProps,b=m.open,v=s.map((function(t){return c.a.createElement(c.a.Fragment,{key:t.name},c.a.createElement("span",{className:"text-truncate"},"".concat(t.name.length>40?t.name.slice(0,40)+"...":t.name)),c.a.createElement("span",{style:{marginLeft:"2px",marginRight:"8px",color:"red"}},c.a.createElement(o.a,{size:15,onClick:function(a){a.stopPropagation(),function(t){e.isMulti?d(s.filter((function(e){return e!==t}))):d([])}(t)}})))}));return Object(r.useEffect)((function(){return function(){s.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[s]),Object(r.useEffect)((function(){e.resetDropzone&&d([])}),[e.resetDropzone]),c.a.createElement("section",null,c.a.createElement("div",{onClick:b},c.a.createElement("input",p()),c.a.createElement("div",{className:"input-label placeholder  form-control d-flex justify-content-between",style:{height:"auto"}},v.length>0?c.a.createElement("aside",{className:"input-label placeholder"},v):c.a.createElement("span",null," ","Drag `n` drop some files here, or ",c.a.createElement("b",null,"Click to Browse files")),c.a.createElement("span",null,c.a.createElement(i.a,null)))))},A=[{value:"Asset",label:"Asset"},{value:"Daily Spends",label:"Daily Spends"},{value:"Vault",label:"Document Vault"},{value:"Liability",label:"Liability"},{value:"Postman",label:"Postman"}],x=function(e){var t=e.alias,a=e.setalias,n=e.expiry,l=e.setexpiry,r=e.desc,o=e.setdesc,i=e.handleReset,s=e.isDisabled,u=e.submitDropzone,y=e.setfilesOndrop,S=e.resetDropzone;return c.a.createElement(d.a,null,c.a.createElement(m.a,{lg:"8",md:"6",sm:"12"}," ",c.a.createElement(p.a,null,c.a.createElement(b.a,null,c.a.createElement(v.a,null,"Upload any file, scans, documents")),c.a.createElement(f.a,null,c.a.createElement(d.a,null,c.a.createElement(m.a,{md:"6",sm:"12"},c.a.createElement(g.a,{className:"form-label-group"},c.a.createElement(h.a,{className:"input-label placeholder",type:"text",name:"AttachmentName",id:"AttachmentName",placeholder:"Attachment Name / Alias",value:t,onChange:function(e){var t;return a(null===(t=e.target.value)||void 0===t?void 0:t.trim())}}),c.a.createElement(E.a,{className:j.c?"dark-label":"light-label"},"Attachment Name / Alias"))),c.a.createElement(m.a,{md:"6",sm:"12"},c.a.createElement(g.a,{className:"form-label-group"},c.a.createElement(h.a,{className:new Date(n)>new Date||""===n?"input-label placeholder":"input-label placeholder is-invalid",type:"Date",name:"Date",id:"nameMultiExpiry",placeholder:"Expiry Date",min:Object(j.r)(),max:"9999-12-31",value:n,onChange:function(e){return l(e.target.value)}}),c.a.createElement(E.a,{className:j.c?"dark-label":"light-label"},"Expiry Date")))),c.a.createElement(d.a,null,c.a.createElement(m.a,{md:"12",sm:"12"},c.a.createElement(g.a,{className:"form-label-group"},c.a.createElement(h.a,{className:"input-label placeholder ",type:"textarea",name:"name1",id:"nameMultiDescription1",placeholder:"Description",value:r,onChange:function(e){var t;return o(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)}}),c.a.createElement(E.a,{className:j.c?"dark-label":"light-label"},"Description")))),c.a.createElement(d.a,null,c.a.createElement(m.a,{md:"12",sm:"12"},c.a.createElement(g.a,{className:"form-label-group"},c.a.createElement(w,{setfilesOndrop:y,resetDropzone:S,isMulti:!0,notMulti:!1})))),c.a.createElement(d.a,null,c.a.createElement(m.a,{md:"6",sm:"12"}),c.a.createElement(m.a,{md:"6",sm:"12"},c.a.createElement(g.a,{style:{textAlign:"right",marginBottom:"0px",paddingTop:"5px"}},c.a.createElement(N.b,{label:"Reset",handleClick:function(){return i()}}),c.a.createElement(N.c,{label:"Add",disabled:s,handleClick:function(e){u(e)}}))))))," "),c.a.createElement(O.a,null))},k=function(e){var t,a=e.filter,n=e.handleFilter,l=e.search,r=e.columns,o=e.searchresult,i=e.selectedStyle;return c.a.createElement(p.a,null,c.a.createElement(f.a,null,c.a.createElement(d.a,null,c.a.createElement(m.a,{sm:"12"},c.a.createElement(p.a,null,c.a.createElement("div",null,c.a.createElement(d.a,null,c.a.createElement("h3",{style:{paddingLeft:"1.5rem"}},"Documents List")),c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement(m.a,{className:"form-label-group",lg:"4",md:"6",sm:"12"},c.a.createElement(N.a,{isMulti:!0,id:"optionSelect",value:a.map((function(e){var t=A.filter((function(t){return t.value===e.id}));return{value:t[0].value,label:t[0].label}})),options:A,placeholder:"Field Type...",onChange:function(e){n(e)}}),c.a.createElement(E.a,null,"Field Type")),c.a.createElement(m.a,{className:"form-label-group",lg:"4",md:"6",sm:"12"},c.a.createElement(h.a,{type:"text",className:"searchPlaceholder",onChange:function(e){return l(e.target.value)},placeholder:"Search"})))),c.a.createElement("div",{id:"scroll-y",className:"data-list ".concat(e.thumbView?"thumb-view":"list-view")},c.a.createElement(S.a,{columns:r,data:(null===o||void 0===o?void 0:o.length)?o:(null===(t=e.documentList)||void 0===t?void 0:t.length)?e.documentList:[],noHeader:!0,responsive:!0,pointerOnHover:!1,selectableRowsHighlight:!0,customStyles:i,sortIcon:c.a.createElement(s.a,null)})))))))}},547:function(e,t,a){"use strict";var n=a(7),l=a(0),r=a.n(l),c=a(82),o=a(529),i=function(e){var t=e.stream,a=Object(l.useRef)(null);return Object(l.useEffect)((function(){a.current&&t&&(a.current.srcObject=t)}),[t]),t?r.a.createElement("video",{ref:a,width:400,height:300,autoPlay:!0,controls:!0}):null};t.a=function(e){var t=e.setRecVideo,a=e.recVideo,s=Object(l.useState)(!0),u=Object(n.a)(s,2),d=u[0],m=u[1],p=Object(l.useState)(!1),b=Object(n.a)(p,2),v=b[0],f=b[1],g=Object(l.useState)(!1),h=Object(n.a)(g,2),E=h[0],O=h[1],j={background:"#ff7f50",color:"#fff",transition:"all ease-in-out 400ms"};return r.a.createElement("div",{style:{border:"initial",boxShadow:"0 0 0 0.06rem #cccccc",borderRadius:"2px",margin:"0 0 10px 0",padding:"2px"}},r.a.createElement(o.ReactMediaRecorder,{screen:E,video:!E,audio:d,onStop:function(e,a){console.log(a),function(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))}(a).then((function(e){console.log(e),t(e)}))},render:function(e){var t=e.status,n=e.startRecording,l=e.pauseRecording,o=e.stopRecording,s=e.clearBlobUrl,u=e.mediaBlobUrl,p=e.previewStream;return r.a.createElement("div",null,r.a.createElement("p",{className:"pl-2"},"Status : ",t),r.a.createElement("div",{className:"video-holder w-100"},r.a.createElement("div",null,v&&p&&r.a.createElement(i,{stream:p}),!v&&(u||a)&&r.a.createElement("video",{src:u||a,controls:!0,autoPlay:!1,width:300,height:300})),r.a.createElement("div",{className:"bottom-section d-flex flex-wrap justify-content-center"},r.a.createElement("div",{className:"icon-card cursor-pointer text-center mb-1 mt-1 mx-50 card"},r.a.createElement("div",{className:"card-body","data-toggle":"tooltip","data-placement":"top",onClick:function(){return m(!d)},title:d?"Mute":" Unmute"},d?r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),r.a.createElement("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),r.a.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),r.a.createElement("line",{x1:"8",y1:"23",x2:"16",y2:"23"})):r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}),r.a.createElement("path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"}),r.a.createElement("path",{d:"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"}),r.a.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),r.a.createElement("line",{x1:"8",y1:"23",x2:"16",y2:"23"})))),r.a.createElement("div",{className:"icon-card cursor-pointer text-center mb-1 mt-1 mx-50 card",style:E?j:{"":""},"data-toggle":"tooltip","data-placement":"top",title:"Record Screen",onClick:function(e){O(!0)}},r.a.createElement("div",{className:"card-body"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),r.a.createElement("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),r.a.createElement("line",{x1:"12",y1:"17",x2:"12",y2:"21"})))),r.a.createElement("div",{className:"icon-card cursor-pointer text-center mb-1 mt-1 mx-50 card",style:E?{"":""}:j},r.a.createElement("div",{className:"card-body","data-toggle":"tooltip","data-placement":"top",title:"Record Video",onClick:function(e){O(!1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),r.a.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})))))),r.a.createElement("div",{className:"d-flex mb-2 justify-content-center"},r.a.createElement(c.c,{label:v?"Pause":"paused"===t?"Resume":"Start",handleClick:function(){v?l():n(),f(!v)}}),r.a.createElement(c.b,{label:"Stop",handleClick:function(){o(),f(!1)}}),r.a.createElement(c.b,{label:"Clear",handleClick:function(){s(),f(!1)}})))}}))}},549:function(e,t,a){"use strict";var n=a(7),l=a(529),r=a(0),c=a.n(r),o=a(517),i=a(465),s=a(82);t.a=function(e){var t=Object(r.useState)("00"),a=Object(n.a)(t,2),u=a[0],d=a[1],m=Object(r.useState)("00"),p=Object(n.a)(m,2),b=p[0],v=p[1],f=Object(r.useState)(!1),g=Object(n.a)(f,2),h=g[0],E=g[1],O=Object(r.useState)(0),j=Object(n.a)(O,2),y=j[0],S=j[1];Object(r.useEffect)((function(){var e;return h&&(e=setInterval((function(){var e=y%60,t=Math.floor(y/60),a=1===String(e).length?"0".concat(e):e,n=1===String(t).length?"0".concat(t):t;d(a),v(n),S((function(e){return e+1}))}),650)),function(){return clearInterval(e)}}),[h,y]);var N=Object(l.useReactMediaRecorder)({video:!1,audio:!0,echoCancellation:!0,onStop:function(t,a){console.log(a),function(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))}(a).then((function(t){e.setRecVideo(t)}))}}),w=N.status,A=N.startRecording,x=N.stopRecording,k=N.pauseRecording,D=N.clearBlobUrl,C=N.mediaBlobUrl;return c.a.createElement("div",{style:{border:"initial",boxShadow:"0 0 0 0.06rem #cccccc",borderRadius:"2px",margin:"0 0 10px 0",padding:"2px"}},c.a.createElement(o.a,{className:"text-center"},c.a.createElement(i.a,{className:"mt-2"},c.a.createElement("div",{style:{background:"#f1f3f4",borderRadius:"50px",padding:"15px"}},"Recording Status : ",w)),(C||e.recVideo)&&c.a.createElement(i.a,{className:"mt-2"},c.a.createElement("audio",{src:C||e.recVideo,controls:!0,style:{marginLeft:"-10px"}}))),c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement("div",{style:{border:"initial",boxShadow:"0 0 0 0.06rem #cccccc",borderRadius:"2px",margin:"4px",padding:"2px"}},c.a.createElement("span",{className:"minute"},b),c.a.createElement("span",null,":"),c.a.createElement("span",{className:"second"},u))),c.a.createElement("div",{className:"d-flex mb-2 justify-content-center"},c.a.createElement(s.c,{label:h?"Pause":"paused"===w?"Resume":"Start",handleClick:function(){h?k():A(),E(!h)}}),c.a.createElement(s.b,{label:"Stop",handleClick:function(){x(),E(!1)}}),c.a.createElement(s.b,{label:"Clear",handleClick:function(){E(!1),S(0),d("00"),v("00"),D(),E(!1)}})))}},566:function(e,t,a){},736:function(e,t,a){"use strict";a.r(t);var n=a(18),l=a.n(n),r=a(26),c=a(7),o=a(0),i=a.n(o),s=a(517),u=a(465),d=a(16),m=a(8),p=a.n(m),b=a(25),v=a.n(b),f=a(81),g=sessionStorage.getItem("authtoken"),h=function(){if(JSON.parse(sessionStorage.getItem("logInUserData"))){var e=sessionStorage.getItem("logInUserData")?JSON.parse(sessionStorage.getItem("logInUserData")):{};return function(){var t=Object(r.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"LOAD_MSG"}),t.next=3,v.a.get("/backendapi/sender/getlist/".concat(e._id),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){a({type:"GET_MSG",getmesssages:e.data})})).catch((function(e){a({type:"ERR_MSG"})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},E=a(509),O=(a(514),a(305),a(515)),j=a(624),y=a.n(j),S=a(625),N=a(107),w=a(511),A=a(524),x=a(525),k=a(550),D=a(503),C=a(466),_=a(507),L=a(493),R=a(494),I=a(71),T=a(725),z=a(726),M=a(513),G=(a(304),a(532)),V=a(531),B=a(506),U=a(148),P=function(e){var t=Object(o.useState)(!1),a=Object(c.a)(t,2),n=a[0],l=a[1],r=Object(o.useState)(""),d=Object(c.a)(r,2),m=d[0],b=d[1],g=Object(o.useState)("Closed"),h=Object(c.a)(g,2),E=h[0],O=h[1],j=Object(o.useState)(""),P=Object(c.a)(j,2),F=P[0],W=P[1],J=Object(o.useState)(!1),q=Object(c.a)(J,2),Z=q[0],H=q[1],K=Object(o.useState)(),Y=Object(c.a)(K,2),Q=Y[0],$=Y[1],X=Object(o.useState)(!1),ee=Object(c.a)(X,2),te=ee[0],ae=ee[1],ne=Object(o.useState)([]),le=Object(c.a)(ne,2),re=le[0],ce=le[1],oe=Object(o.useState)(""),ie=Object(c.a)(oe,2),se=ie[0],ue=ie[1],de=Object(o.useState)(),me=Object(c.a)(de,2),pe=me[0],be=me[1],ve=function(){l(!n)},fe=function(t){var a,n,l="";return(null===t||void 0===t||null===(a=t.nominees)||void 0===a?void 0:a.length)&&t.nominees.forEach((function(e,a){a===t.nominees.length-1?l+=null===e||void 0===e?void 0:e.name:l="".concat(l+(null===e||void 0===e?void 0:e.name),", ")})),i.a.createElement("div",null,i.a.createElement(s.a,null,i.a.createElement(u.a,{md:"5",sm:"12"},i.a.createElement(S.a,null,i.a.createElement("b",null," Type : ")," ",t.type,i.a.createElement("br",null),i.a.createElement("b",null," Description : ")," ",t.desc,i.a.createElement("br",null),i.a.createElement("b",null," Date : ")," ",(null===t||void 0===t?void 0:t.date)?Object(U.b)(null===t||void 0===t||null===(n=t.date)||void 0===n?void 0:n.split("T")[0]):"After Death",(null===t||void 0===t?void 0:t.time)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("b",null," Time : ")," e.time")),("Video"===t.type||"Voice"===t.type)&&i.a.createElement(N.a.Ripple,{className:"button-label",style:{width:"100%",marginTop:"-2px"},color:"warning",icon:"play-circle",onClick:function(){!function(e,t){H(!0),ae("Video"===t),ve();var a=sessionStorage.getItem("authtoken");v.a.get("/backendapi/sender/msg/".concat(e),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){var t;if(e.data&&(null===(t=e.data[0])||void 0===t?void 0:t.media)){for(var a,n,l=null===(a=e.data[0])||void 0===a||null===(n=a.media)||void 0===n?void 0:n.split("base64,"),r=l[0].substring(5,l[0].length-1),c=atob(l[1]),o=new Array(c.length),i=0;i<c.length;i++)o[i]=c.charCodeAt(i);var s=new Uint8Array(o),u=new Blob([s],{type:r}),d=URL.createObjectURL(u);$(d),H(!1)}}))}(t.msg,t.type)}},"Video"===t.type?"Play Video":"Play Audio")),i.a.createElement(u.a,{md:"5",sm:"12"},i.a.createElement(S.a,null,i.a.createElement("b",null,"Status :")," ",0===t.status?i.a.createElement("span",{style:{color:"var(--warning)"}},"Pending"):1===t.status?i.a.createElement("span",{style:{color:"lightgreen"}},"Delivered"):i.a.createElement("span",{style:{color:"var(--warning)"}},"Failed : ",t.failReason)," ",i.a.createElement("br",null),i.a.createElement("b",null,"Receiver Name :")," ",t.rname,i.a.createElement("br",null),i.a.createElement("b",null,"Receiver Email :")," ",t.remail,i.a.createElement("br",null),i.a.createElement("b",null,"Receiver Phone :")," ",t.rphone)),i.a.createElement(u.a,{md:"2",sm:"12"},i.a.createElement(S.a,null,i.a.createElement("b",null," ",i.a.createElement(G.a,{className:"cursor-pointer mr-1",size:window.screen.width<500?13:20,onClick:function(){e.editItem(t)}})),i.a.createElement("br",null),i.a.createElement("b",null,i.a.createElement(V.a,{className:"cursor-pointer",size:window.screen.width<500?13:20,onClick:function(){ue(t._id),W(!0)}}))))))},ge=(null===pe||void 0===pe?void 0:pe.length)>0?re:e.collapseItems,he=(null===ge||void 0===ge?void 0:ge.length)>0?ge.map((function(t){return i.a.createElement("div",{className:"collapse-margin",key:t._id},i.a.createElement(M.a,{handleConfirm:function(){var t;t=se,v.a.delete("/backendapi/sender/deletebyid/".concat(t),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){f.b.success("Message deleted successfully!")})).catch(),W(!1),e.refreshData.callFunc(!e.refreshData.value)},isOpen:F,closeModal:function(){return W(!1)}}),i.a.createElement(w.a,{onClick:function(){return e=t._id,void b(m!==e?e:"");var e},className:p()({"collapse-collapsed":"Closed"===E&&m===t._id,"collapse-shown":"Opened"===E&&m===t._id,closing:"Closing"===E&&m===t._id,opening:"Opening"===E&&m===t._id})},i.a.createElement(A.a,null,i.a.createElement(x.a,{className:"lead collapse-title collapsed"},function(t){var a;return(null===(a=e.colorOption)||void 0===a?void 0:a[t])?e.colorOption[t]:t}(t.title)),i.a.createElement(B.a,{size:15,className:"collapse-icon"})),i.a.createElement(k.a,{isOpen:t._id===m,onEntering:function(){t._id===m&&O("Opening")},onEntered:function(){t._id===m&&O("Opened")},onExiting:function(){t._id===m&&O("Closing")},onExited:function(){t._id===m&&O("Closed")}},i.a.createElement(D.a,null,fe(t)))))})):i.a.createElement("span",{style:{fontSize:"12px",marginTop:"-10px"}},"No Messages Found");return i.a.createElement(s.a,null,i.a.createElement(u.a,{md:"8"},e.loadingmsg&&null===e.collapseItems?i.a.createElement(C.a,{color:"warning",size:"lg"}):i.a.createElement(i.a.Fragment,null,i.a.createElement(_.a,{isOpen:n,toggle:ve,centered:!0},i.a.createElement(L.a,{toggle:ve,tag:"div",style:{color:"var(--warning)",fontSize:"1.45rem",fontWeight:"bold",letterSpacing:"1px",justifyContent:"center"}},"Message"),i.a.createElement(R.a,null,Z&&i.a.createElement(C.a,{color:"warning",size:"sm"}),!Z&&te&&i.a.createElement("video",{src:Q,controls:!0,autoPlay:!0,width:"100%",height:300}),!Z&&!te&&i.a.createElement(y.a,{src:Q,controls:!0}))),i.a.createElement(w.a,{style:{paddingBottom:"1.5rem",paddingRight:"0.5rem",marginBottom:"portfolio"===e.page?"2.2rem":"1rem",overflow:"auto",height:"100%"}},i.a.createElement(A.a,{className:"d-flex"},i.a.createElement(x.a,{className:"actions-left"},e.heading),i.a.createElement(u.a,{className:"actions-right form-label-group mb-0",lg:"4",md:"6",sm:"12"},i.a.createElement(I.a,{type:"text",className:"searchPlaceholder",onChange:function(t){return function(t){be(t);var a=e.collapseItems.filter((function(e){var a=e.desc.toLowerCase().startsWith(t.toLowerCase())||e.type.toLowerCase().startsWith(t.toLowerCase())||e.title.toLowerCase().startsWith(t.toLowerCase()),n=e.desc.toLowerCase().includes(t.toLowerCase())||e.type.toLowerCase().includes(t.toLowerCase())||e.title.toLowerCase().includes(t.toLowerCase());return!(!a&&!n)}));ce(a)}(t.target.value)},placeholder:"Search"}))),i.a.createElement(D.a,{className:"card_body",style:{maxHeight:"portfolio"===e.page?"260px":" calc(100vh - 435px)"}},i.a.createElement(T.a,{activeTab:"1"},i.a.createElement(z.a,{tabId:"1"},i.a.createElement("div",{className:"vx-collapse"},he)),i.a.createElement(z.a,{className:"component-code",tabId:"2"},"hey")))))))},F=a(530),W=a(547),J=a(549),q=a(3),Z=a(12),H=(a(566),function(e){var t=e.userInputGlobal,a=e.edititem,n=e.setuserInputGlobal,l=e.suggestions,r=e.rname,s=Object(o.useState)(0),u=Object(c.a)(s,2),d=u[0],m=u[1],p=Object(o.useState)({label:"",value:""}),b=Object(c.a)(p,2),v=b[0],f=b[1],g=Object(o.useState)([]),h=Object(c.a)(g,2),E=h[0],O=h[1],j=Object(o.useState)(!1),y=Object(c.a)(j,2),S=y[0],N=y[1];Object(o.useEffect)((function(){a&&(null===r||void 0===r?void 0:r.length)?f({label:r,value:r}):f({label:"",value:""})}),[a]);var w;return Object(o.useEffect)((function(){document.addEventListener("mouseup",(function(e){var t=document.getElementById("postman-select");t&&!t.contains(e.target)&&(t.style.display="none")}))})),S&&v&&E.length&&(w=i.a.createElement("div",{className:"select__menu-list css-4ljt47-MenuList menu-list-postman",id:"postman-select"},E.map((function(e,t){var a=t===d?"select__option select__option--is-focused css-1n7v3ny-option option-focused":"select__option css-yt9ioa-option option-postman";return i.a.createElement("div",{className:a,key:e.value,onClick:function(){return function(e){m(0),O([]),N(!1),f(e),n(e)}(e)}},e.label)})))),Object(o.useEffect)((function(){""===t&&f(Object(q.a)(Object(q.a)({},v),{},{label:"",value:""}))}),[t]),i.a.createElement(o.Fragment,null,i.a.createElement("div",{className:"form-label-group form-group"},i.a.createElement("input",{id:"title",placeholder:"Receiver *",type:"text",className:"input-label placeholder  form-control",onChange:function(e){var t=document.getElementById("postman-select");t&&!t.contains(e.target)&&(t.style.display="block");var a=e.currentTarget.value,r=l.filter((function(e){return e.label.toLowerCase().indexOf(a.toLowerCase())>-1}));m(0),O(r),N(!0),f(e.currentTarget.value),n(e.currentTarget.value)},onKeyDown:function(e){if(13===e.keyCode)m(0),N(!1),f(E[d]),n(E[d]);else if(38===e.keyCode){if(0===d)return;m(d-1)}else if(40===e.keyCode){if(d-1===E.length)return;m(d+1)}},value:v.label}),i.a.createElement("label",{className:Z.c?"dark-label":"light-label"},"Receiver *")),i.a.createElement("div",{className:"select__menu css-26l3qy-menu menu-postman"},w))}),K=a(82),Y=a(109),Q=a(147),$=a(544),X=(a(510),[{value:"Attachment",label:"Attachment",color:"#00B8D9",isFixed:!0},{value:"Text",label:"Text",color:"#00B8D9",isFixed:!0},{value:"Voice",label:"Voice",color:"#0052CC",isFixed:!0},{value:"Video",label:"Video",color:"#0052CC",isFixed:!0}]),ee=function(e){var t,a=e.oldMsg,n=e.rname,l=e.sameAsAbove,r=e.setRecVideo,d=e.rphone,m=e.setrphone,p=e.selecttype,b=e.edititem,v=e.settype,f=e.settitle,g=e.nomineeOption2,h=e.userInput,E=e.setuserInput,O=e.remail,j=e.setremail,y=e.setdesc,S=e.desc,N=e.type,k=e.title,C=e.setdate,_=e.date,L=e.setsignature,R=e.signature,T=e.handleCheck,z=e.handleReset,M=e.handleSubmit,G=e.validEmail,V=e.validPhone,B=e.validDate,P=e.recVideo,F=e.setfilesOndrop,q=e.resetDropzone,ee=Object(o.useState)(""),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],le=!(null===n||void 0===n?void 0:n.length)||!(null===d||void 0===d?void 0:d.length)||!(null===O||void 0===O?void 0:O.length)||!(null===N||void 0===N?void 0:N.length)||!(null===k||void 0===k?void 0:k.length)||!l&&!(null===_||void 0===_?void 0:_.length)||!G||!V||!l&&!B||_===(null===a||void 0===a||null===(t=a.date)||void 0===t?void 0:t.split("T")[0])&&S===(null===a||void 0===a?void 0:a.desc)&&n===(null===a||void 0===a?void 0:a.rname)&&O===(null===a||void 0===a?void 0:a.remail)&&d===(null===a||void 0===a?void 0:a.rphone)&&R===(null===a||void 0===a?void 0:a.signature)&&k===(null===a||void 0===a?void 0:a.title),re=function(e){e.length<=10&&(m(e),(null===e||void 0===e?void 0:e.length)&&10===e.length&&e.trim()&&U.c.test(e)?ne(""):ne("Enter Valid Contact No."))};return i.a.createElement(s.a,null,i.a.createElement(u.a,{lg:"8",md:"6",sm:"12"},i.a.createElement(w.a,null,i.a.createElement(A.a,null,i.a.createElement(x.a,null,b?"Edit Message":"Schedule Message")),i.a.createElement(D.a,null,i.a.createElement(s.a,{className:"match-height"},i.a.createElement(u.a,{md:"12"},i.a.createElement(s.a,null,i.a.createElement(u.a,{sm:""},i.a.createElement(Y.a,{className:"form-label-group"},i.a.createElement(K.a,{name:"color",options:X,selectRelationRef:p,value:X.filter((function(e){return e.value===N})),isDisabled:b,placeholder:b?N:"Message Type *",onChange:function(e){return v(null===e||void 0===e?void 0:e.value)}}))),i.a.createElement(u.a,{sm:""},i.a.createElement(Y.a,{className:"form-label-group"},i.a.createElement(H,{userInputGlobal:h,rname:n,setuserInputGlobal:E,suggestions:g,edititem:b})))),i.a.createElement(s.a,null,i.a.createElement(u.a,{sm:""},i.a.createElement(Y.a,{className:"form-label-group"},i.a.createElement(I.a,{type:"email",id:"remail",className:G?"input-label placeholder":"input-label placeholder is-invalid",placeholder:"Receiver Email *",value:O,onChange:function(e){return j(e.target.value)}}),i.a.createElement(Q.a,{className:Z.c?"dark-label":"light-label"},"Receiver Email *"))),i.a.createElement(u.a,{sm:""},i.a.createElement(Y.a,{className:"form-label-group"},i.a.createElement(I.a,{type:"number",id:"phone",maxLength:10,invalid:!!ae,className:V?"input-label placeholder":"input-label placeholder is-invalid",placeholder:"Receiver Phone *",value:d,onChange:function(e){re(e.target.value)},onKeyPress:function(e){return Object(U.a)(e)}}),i.a.createElement(Q.a,{className:Z.c?"dark-label":"light-label"},"Receiver Phone *")))),i.a.createElement(s.a,null,i.a.createElement(u.a,{sm:""},i.a.createElement(Y.a,{className:"form-label-group"},i.a.createElement(I.a,{type:"text",id:"title",className:"input-label placeholder ",placeholder:"Subject *",value:k,onChange:function(e){return f(e.target.value)}}),i.a.createElement(Q.a,{className:Z.c?"dark-label":"light-label"},"Subject *"))),i.a.createElement(u.a,{sm:""},i.a.createElement(Y.a,{className:"form-label-group"},i.a.createElement(I.a,{className:B?"input-label placeholder":"input-label placeholder is-invalid",type:"Date",name:"Date",value:_,id:"exampleDate",placeholder:"Enter Date",disabled:!!l,min:Object(Z.r)(),max:"9999-12-31",onChange:function(e){return C(e.target.value)}}),i.a.createElement(Q.a,{className:Z.c?"dark-label":"light-label"},"Date of Delivery *")))),"Attachment"===N&&i.a.createElement(Y.a,{className:"form-label-group"},i.a.createElement($.c,{notMulti:1,setfilesOndrop:F,resetDropzone:q,file:P})),"Voice"===N&&i.a.createElement(J.a,e),"Video"===N&&i.a.createElement(W.a,{setRecVideo:r,recVideo:P}),i.a.createElement(Y.a,{className:"form-label-group"},i.a.createElement(I.a,{type:"textarea",placeholder:"Description",className:"input-label placeholder ",rows:"3",id:"description",value:S,onChange:function(e){return y(e.target.value)}}),i.a.createElement(Q.a,{className:Z.c?"dark-label":"light-label"},"Description")),i.a.createElement(s.a,null,i.a.createElement(u.a,{sm:""},i.a.createElement(Y.a,{className:"form-label-group"},i.a.createElement(I.a,{type:"textarea",placeholder:"Signature",className:"input-label placeholder ",rows:"1",id:"signature",value:R,onChange:function(e){return L(e.target.value)}}),i.a.createElement(Q.a,{className:Z.c?"dark-label":"light-label"},"Signature"))),i.a.createElement(u.a,{sm:"6"},i.a.createElement(Y.a,{style:{textAlign:"right",marginBottom:"0px"}},i.a.createElement(K.b,{label:b?"Cancel":"Reset",handleClick:function(){return z()}}),i.a.createElement(K.c,{label:b?"Update":"Add",handleClick:M,disabled:le})))),i.a.createElement(Y.a,{check:!0,inline:!0,className:"pl-2  text-20"},i.a.createElement(I.a,{type:"checkbox",checked:l,onChange:function(){return T()},className:"w-max"}),i.a.createElement(Q.a,{check:!0},"Deliver after my death"))))))))};t.default=Object(d.b)((function(e){var t,a=e.dataList,n=e.sender,l=(null===n||void 0===n||null===(t=n.getmesssages)||void 0===t?void 0:t.length)?n.getmesssages:[];return{dataList:a,listLoading:a.totalRecordsLoading,messages:l,loadingmsg:n.loadingmsg}}),{scheduleNewMessage:function(e){return function(t){var a=JSON.parse(sessionStorage.getItem("logInUserData"))._id;e.user=a,v.a.post("/backendapi/sender/schedulenew",e,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(a){t({type:"ADD_MSG",getmesssages:e}),t(h()),f.b.success("Message Scheduled Successfully!!")})).catch((function(e){return console.log(e)}))}},getData:E.g,editMessage:function(e){return function(t){v.a.post("/backendapi/sender/update",e,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(a){t({type:"ADD_MSG",getmesssages:[e]}),t(h()),f.b.success("Message Updated Successfully!!")})).catch((function(e){return console.log(e)}))}},addData:E.a,getScheduledMessages:h})((function(e){var t,a=i.a.createRef(),n=Object(o.useState)(""),d=Object(c.a)(n,2),m=d[0],b=d[1],v=Object(o.useState)(""),g=Object(c.a)(v,2),h=g[0],E=g[1],j=Object(o.useState)(!1),y=Object(c.a)(j,2),S=y[0],N=y[1],w=Object(o.useState)(""),A=Object(c.a)(w,2),x=A[0],k=A[1],D=Object(o.useState)(""),C=Object(c.a)(D,2),_=C[0],L=C[1],R=Object(o.useState)(""),I=Object(c.a)(R,2),T=I[0],z=I[1],M=Object(o.useState)(!1),G=Object(c.a)(M,2),V=G[0],B=G[1],W=Object(o.useState)(null),J=Object(c.a)(W,2),q=J[0],Z=J[1],H=Object(o.useState)(null),K=Object(c.a)(H,2),Y=K[0],Q=K[1],$=Object(o.useState)([]),X=Object(c.a)($,2),te=X[0],ae=X[1],ne=Object(o.useState)(!1),le=Object(c.a)(ne,2),re=le[0],ce=le[1],oe=Object(o.useState)(!1),ie=Object(c.a)(oe,2),se=ie[0],ue=ie[1],de=Object(o.useState)(""),me=Object(c.a)(de,2),pe=me[0],be=me[1],ve=Object(o.useState)(!1),fe=Object(c.a)(ve,2),ge=fe[0],he=fe[1],Ee=Object(o.useState)(null),Oe=Object(c.a)(Ee,2),je=Oe[0],ye=Oe[1],Se=Object(o.useState)(!1),Ne=Object(c.a)(Se,2),we=Ne[0],Ae=Ne[1],xe=Object(o.useState)([]),ke=Object(c.a)(xe,2),De=ke[0],Ce=ke[1],_e=Object(o.useState)([]),Le=Object(c.a)(_e,2),Re=Le[0],Ie=Le[1],Te=Object(o.useState)(""),ze=Object(c.a)(Te,2),Me=ze[0],Ge=ze[1],Ve=Object(o.useState)(""),Be=Object(c.a)(Ve,2),Ue=Be[0],Pe=Be[1],Fe=Object(o.useState)(""),We=Object(c.a)(Fe,2),Je=We[0],qe=We[1],Ze=Object(o.useState)(""),He=Object(c.a)(Ze,2),Ke=He[0],Ye=He[1],Qe=Object(o.useState)([]),$e=Object(c.a)(Qe,2),Xe=$e[0],et=$e[1],tt=Object(o.useState)(!1),at=Object(c.a)(tt,2),nt=at[0],lt=at[1],rt=Object(o.useState)(!0),ct=Object(c.a)(rt,2),ot=ct[0],it=ct[1],st=Object(o.useState)(!0),ut=Object(c.a)(st,2),dt=ut[0],mt=ut[1],pt=Object(o.useState)(!0),bt=Object(c.a)(pt,2),vt=bt[0],ft=bt[1];Object(o.useEffect)((function(){if(console.log(Ke),null===Ke||void 0===Ke?void 0:Ke.value){var e=Re.filter((function(e){return e._id===Ke.value}));Ge(null===e||void 0===e?void 0:e[0].name),Pe(null===e||void 0===e?void 0:e[0].email),qe(null===e||void 0===e?void 0:e[0].primaryContact)}else 0===Ke.length?(Ge(Ke),Pe(""),qe("")):Ge(Ke)}),[Ke]);Object(o.useEffect)((function(){e.getScheduledMessages(),!e.listLoading&&e.getData()}),[nt]);var gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ue(e),t&&(ye(null),he(!0))};Object(o.useEffect)((function(){if(e.dataList.data.length){var t=[];Ie(e.dataList.data),e.dataList.data.forEach((function(e){var a={value:e._id,label:"".concat(e.name," - ").concat(e.relation),color:"#00B8D9",isFixed:!1};t.push(a)})),et(t)}}),[e.dataList.data]);var ht=function(){var t=Object(r.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ae(!0),t.prev=1,t.next=4,e.addData(a);case 4:Ge(""),qe(""),Pe(""),gt(!1,!0),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),f.b.error("Add Nominee Failed! Please contact admin");case 13:return t.prev=13,Ae(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})));return function(e){return t.apply(this,arguments)}}(),Et=function(){B(!1),Ge(""),qe(""),Pe(""),be(""),z(""),L(""),E(""),N(!1),k(""),Ce([]),Ye(""),b(""),ae("")};return i.a.createElement("div",{className:"data-list ".concat(e.thumbView?"thumb-view":"list-view")},i.a.createElement(F.a,{show:se,data:je,updateData:e.addData,addData:ht,isLoading:we,handleSidebar:gt,thumbView:e.thumbView,getData:e.getData,dataParams:e.parsedFilter,addNew:ge}),i.a.createElement("div",{className:p()("data-list-overlay",{show:se}),onClick:function(){return gt(!1,!0)}}),i.a.createElement(s.a,null,i.a.createElement(u.a,{lg:"8",md:"6",sm:"12"},i.a.createElement("div",{style:{width:window.screen.width<500?"100%":"150%"}},i.a.createElement(ee,{oldMsg:Y,handleReset:Et,handleSubmit:function(){V?e.editMessage({_id:q,desc:_,type:T,title:pe,date:h,signature:x,rname:Me,remail:Ue,rphone:Je,msg:("Voice"===T||"Video"===T||"Attachment"===T)&&m||te.length&&te||""}):e.scheduleNewMessage({desc:_,type:T,title:pe,date:h,signature:x,rname:Me,remail:Ue,rphone:Je,msg:("Voice"===T||"Video"===T||"Attachment"===T)&&m||te.length&&te||""}),Et()},sameAsAbove:S,setdate:function(e){var t=new Date(e)>new Date||""===e;E(e),ft(t)},setfilesOndrop:function(e){ce(!1),ae(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))},resetDropzone:re,setRecVideo:b,setdesc:L,setsignature:k,rphone:Je,setrphone:function(e){var t=U.c.test(e);qe(e),mt(t)},validPhone:dt,selecttype:a,edititem:V,settype:z,settitle:be,nomineeOption2:Xe,remail:Ue,validEmail:ot,rname:Me,setremail:function(e){var t=String(e).toLowerCase().match(/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/);Pe(e),it(t)},desc:_,type:T,title:pe,date:h,validDate:vt,signature:x,handleCheck:function(){!S&&E(""),N(!S)},userInput:Ke,setuserInput:Ye,recVideo:m}),i.a.createElement(P,{heading:"Messages History",collapseItems:e.messages,colorOption:null===(t=e.messages)||void 0===t?void 0:t.colorOption,editItem:function(e){var t;Q(e);var a=e.date,n=e.desc,l=e.rname,r=e.remail,c=e.rphone,o=e.signature,i=e.title,s=e.type,u=e._id,d=e.mediaDetails;B(!0),Z(u),E(null===a||void 0===a?void 0:a.split("T")[0]),L(n),Ce(De),Pe(r),Ge(l),qe(c),k(o),be(i),z(s),N(!a),b("Attachment"===s?d:null===(t=d[0])||void 0===t?void 0:t.media)},loadingmsg:e.loadingmsg,handleFilter:function(){console.log("Call filter function")},refreshData:{value:nt,callFunc:lt}}))),i.a.createElement(O.a,null)))}))}}]);