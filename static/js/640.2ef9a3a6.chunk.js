"use strict";(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[640],{55328:function(e,t,n){n.d(t,{Y0:function(){return o},gl:function(){return c},jt:function(){return d},li:function(){return u},sW:function(){return l}});var a=n(74165),r=n(15861),s=n(31881),i=n.n(s),o=function(e){return function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"VALIDATING_MOBILE_NUMBER"}),t.next=3,i().post("/backendapi/otp/newuser/send",e).then((function(e){n({type:"VALIDATED_MOBILE_NUMBER",data:e.data})})).catch((function(e){n({type:"INVALID_MOBILE_NUMBER",data:null===e||void 0===e?void 0:e.response})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"REQUEST_CHANGE_PASSWORD"}),t.next=3,i().post("/backendapi/user/changepassword",e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){"ok"===e.data&&n({type:"RECEIVE_CHANGE_PASSWORD"})})).catch((function(e){n({type:"FAILURE_CHANGE_PASSWORD"})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},c=function(e){var t=e.otp,n=e.key;return function(){var e=(0,r.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"VALIDATING_OTP"}),e.next=3,i().post("/backendapi/otp/verify",{otp:t,key:n}).then((function(e){r({type:"VALIDATED_OTP",data:e.data})})).catch((function(e){r({type:"INVALID_OTP",data:null===e||void 0===e?void 0:e.response})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(e,t){return function(){var n=(0,r.Z)((0,a.Z)().mark((function n(r){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"VALIDATING_OTP"}),n.next=3,i().post("/backendapi/otp/send",e).then((function(e){t&&r({type:"RECEIVE_RECOVERY_ID",data:{recoveryId:t,recoveryOtp:e.data}}),r({type:"VALIDATED_OTP",data:e.data})})).catch((function(e){r({type:"INVALID_OTP",data:null===e||void 0===e?void 0:e.response}),t&&r({type:"FAILURE_RECOVERY_ID",data:null===e||void 0===e?void 0:e.response})}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},u=function(e){return function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"REQUEST_RECOVERY_ID"}),t.next=3,i().post("/backendapi/user/recovercheck",e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(t){var a=null===t||void 0===t?void 0:t.data[0];n(d(e,a))})).catch((function(e){n({type:"FAILURE_RECOVERY_ID",data:null===e||void 0===e?void 0:e.response})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},51427:function(e,t,n){n.d(t,{EL:function(){return m},cm:function(){return p},is:function(){return h},qi:function(){return u}});var a=n(74165),r=n(15861),s=n(31881),i=n.n(s),o=n(58470),l=n(97729),c=n(46417),d=JSON.parse(sessionStorage.getItem("logInUserData")),u=function(e){var t=e.user,n=e.token;return function(){var e=(0,r.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:"GET_ALL_DOCS_LOADING",data:!0}),i().get("/backendapi/documents/".concat(null===t||void 0===t?void 0:t._id),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){r({type:"GET_ALL_DOCS_LOADING",data:!1});for(var t=e.data,n=0;n<t.length;n+=1)t[n].desc=(0,l.Y)(t[n].desc),t[n].id=n+1,t[n].expiry=(0,l.Y)(t[n].expiry),t[n].alias=(0,l.Y)(t[n].alias);r({type:"GET_ALL_DOCS",resp:t})})).catch((function(e){r({type:"GET_ALL_DOCS_ERROR",err:"Error getting docs"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USER_ALL_DATA_LOADING",data:!0}),e.next=3,i().post("/backendapi/users/get",{id:d._id},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){if(t({type:"GET_USER_ALL_DATA_LOADING",data:!1}),null!==e&&void 0!==e&&e.data){var n=e.data[0];t({type:"GET_USER_ALL_DATA",data:n})}})).catch((function(e){t({type:"GET_USER_ALL_DATA_LOADING",data:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(t){return t({type:"FILTER_DATA",value:e})}},m=function(e){return function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().post("/backendapi/update/secrets",{secrets:e,_id:d._id},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){return(0,c.jsx)(o.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Secret Updated Successfully"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},89709:function(e,t,n){var a=n(1413),r=n(29439),s=n(47313),i=n(66135),o=n(55328),l=n(71535),c=n(40229),d=n(89870),u=n(97729),h=n(39653),p=n(2127),m=n(8586),x=n(46417);t.Z=(0,i.$j)((function(e){var t,n,a=e.reducer.auth,r=void 0===a?{}:a,s=null===r||void 0===r?void 0:r.phoneotp;return{validatedotp:null===s||void 0===s||null===(t=s.validatedotp)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.toLowerCase(),validatingotp:null===s||void 0===s?void 0:s.validatingotp}}),{forgotpwd:o.sW})((function(e){var t={specialChars:/(?=.*?[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~])/,digit:/[0-9]/,lowercase:/[a-z]/,uppercase:/[A-Z]/,noWhitespace:/^\S*$/},n="Invalid input",i="Password and confirm password did not match.",o="Password should be less than 64 characters",v="Are Madatory fields blank?",f=(0,s.useState)(!1),g=(0,r.Z)(f,2),j=g[0],Z=g[1],y=(0,s.useState)(""),b=(0,r.Z)(y,2),w=b[0],S=b[1],C=(0,s.useState)(""),P=(0,r.Z)(C,2),A=P[0],k=P[1],_=(0,s.useState)(!1),D=(0,r.Z)(_,2),I=D[0],E=D[1],N=(0,s.useState)({}),L=(0,r.Z)(N,2),O=L[0],M=L[1],F=(0,s.useState)(""),R=(0,r.Z)(F,2),B=R[0],z=R[1],T=function(e){var t=e.show;return(0,x.jsx)("span",{style:{marginRight:"5px"},children:t?(0,x.jsx)(p.Z,{size:"15",color:"green"}):(0,x.jsx)(m.Z,{size:"15",color:"red"})})},G=function(){return(0,x.jsx)(l.ZP,{item:!0,children:(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)(T,{show:O.minimumLength}),(0,x.jsx)("span",{style:{color:O.minimumLength?"grey":"red"},children:"Minimum 8 characters"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(T,{show:O.uppercase}),(0,x.jsx)("span",{style:{color:O.uppercase?"grey":"red"},children:"Upper case alphabet"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(T,{show:O.lowercase}),(0,x.jsx)("span",{style:{color:O.lowercase?"grey":"red"},children:"Lower case alphabet"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(T,{show:O.digit}),(0,x.jsx)("span",{style:{color:O.digit?"grey":"red"},children:"Numeric"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(T,{show:O.noWhitespace}),(0,x.jsx)("span",{style:{color:O.noWhitespace?"grey":"red"},children:"No spaces"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(T,{show:O.specialChars}),(0,x.jsx)("span",{style:{color:O.specialChars?"grey":"red"},children:"Special character"})]})]})})},W=function(e,t){e&&(t.minimumLength&&t.specialChars&&t.digit&&t.lowercase&&t.uppercase&&t.noWhitespace?t.newPassword===n&&delete t.newPassword:t.newPassword=n)},U=function(){var t=(0,a.Z)({},O);e.fromChangePassword&&function(e,t){0===e.length?(t.currentPassword=v,Z(v)):(Z(""),delete t.currentPassword)}(B,t),function(e,t){e.length>64?(t.newPassword=o,Z(o)):0===e.length?(t.newPassword=v,Z(v)):(delete t.newPassword,Z(""))}(w,t),W(w,t),function(e,t){0===e.length?(t.confirmNewPassword=v,Z(v)):w!==e?(t.confirmNewPassword=i,Z(i)):(Z(""),delete t.confirmNewPassword)}(A,t),M(t);var n=Object.values(t);return 6===n.length&&n.every((function(e){return!0===e}))},Q=function(n){var r,s;n.preventDefault();var i=null===(r=n.target)||void 0===r?void 0:r.name,o=null===(s=n.target)||void 0===s?void 0:s.value,l=(0,a.Z)({},O);"newPassword"===i?(E(!0),function(e,n){e.length>=8?n.minimumLength=!0:delete n.minimumLength,t.specialChars.test(e)?n.specialChars=!0:delete n.specialChars,t.digit.test(e)?n.digit=!0:delete n.digit,t.lowercase.test(e)?n.lowercase=!0:delete n.lowercase,t.uppercase.test(e)?n.uppercase=!0:delete n.uppercase,t.noWhitespace.test(e)?n.noWhitespace=!0:delete n.noWhitespace}(o,l),W(o,l)):E(!1),"newPassword"===i?e.signup?e.setpassword(o):S(o):e.signup?e.setconfirmPass(o):k(o),M(l)};return(0,x.jsxs)(c.Z,{type:"form",children:[e.fromChangePassword&&(0,x.jsx)(h.Z,{margin:"normal",required:!0,type:"password",value:B,placeholder:"Current Password",name:"currentPassword",onChange:function(e){return z(e.target.value)},onBlur:function(e){return z(e.target.value)},onFocus:function(e){z(e.target.value)},id:"password"}),(0,x.jsx)(h.Z,{margin:"normal",required:!0,fullWidth:!0,type:"password",inputProps:{autocomplete:"new-password",form:{autocomplete:"off"}},value:e.signup?e.password:w,placeholder:"New Password",name:"newPassword",onChange:Q,onBlur:Q,onFocus:Q}),(0,x.jsx)(h.Z,{margin:"normal",required:!0,fullWidth:!0,type:"password",inputProps:{autocomplete:"new-password",form:{autocomplete:"off"}},value:e.signup?e.confirmPass:A,placeholder:"Confirm Password",name:"confirmPassword",onChange:Q,onBlur:Q,onFocus:Q}),I&&(0,x.jsx)(c.Z,{children:(0,x.jsx)(G,{})}),j&&(0,x.jsx)("div",{style:{color:"red",textAlign:"center"},children:j}),e.error&&(0,x.jsx)("div",{style:{color:"red",textAlign:"center"},children:e.error}),!e.signup&&(0,x.jsx)(d.Z,{variant:"contained",sx:{mt:3,mb:2},type:"submit",fullWidth:!0,onClick:function(t){if(t.preventDefault(),U())if(e.fromChangePassword)e.changePassword({currentPass:B,newPass:w});else{var n=(0,u.G)(e.changePass,!1,w),a={_id:e.userId,password:n};console.log("body",a),e.forgotpwd(a)}else console.log("formErrors",O)},children:"Change"})]})}))},98640:function(e,t,n){n.r(t),n.d(t,{default:function(){return oe}});var a=n(29439),r=n(1413),s=n(45987),i=n(47313),o=n(38424),l=n(3204),c=n(71363),d=n(40229),u=n(71535),h=n(95716),p=n(58470),m=n(61474),x=n(46417),v=[{value:"Male",label:"Male",isFixed:!1},{value:"Female",label:"Female",isFixed:!0},{value:"Others",label:"Others",isFixed:!1}],f=[{value:"Mr",label:"Mr",isFixed:!1},{value:"Mx",label:"Mx",isFixed:!0},{value:"Ms",label:"Ms",isFixed:!0}],g=[{value:"3",label:"3 Seconds",isFixed:!1},{value:"5",label:"5 Seconds",isFixed:!0},{value:"10",label:"10 Seconds",isFixed:!0}],j=[{value:"1",label:"1 Month Inactivity",isFixed:!1},{value:"2",label:"2 Months Inactivity",isFixed:!0},{value:"3",label:"3 Months Inactivity",isFixed:!0}],Z=[{value:"light",label:"Light",isFixed:!0},{value:"dark",label:"Dark",isFixed:!1}],y=function(e){var t=e.salutation,n=e.setsalutation,a=e.gender,s=e.setGender,i=e.dob,o=e.handledob,l=e.firstname,c=e.setfirstname,d=e.middlename,h=e.setmiddlename,g=e.lastname,j=e.setlastname;return(0,x.jsxs)(u.ZP,{container:!0,spacing:2,sx:{p:1},children:[(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(m.gc,{options:f,id:"Salutation",name:"Salutation",value:{value:t,label:t||"Salutation",isFixed:!1},onChange:function(e,t){return n(t&&t.value?t.value:null)},isDisabled:!1,renderInput:function(e){return(0,x.jsx)(p.nv,(0,r.Z)((0,r.Z)({},e),{},{placeholder:"Salutation"}))}})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(m.gc,{options:v,id:"gender",name:"gender",value:{value:a,label:a||"Gender",isFixed:!1},onChange:function(e,t){return s(t&&t.value?t.value:null)},isDisabled:!1,renderInput:function(e){return(0,x.jsx)(p.nv,(0,r.Z)((0,r.Z)({},e),{},{placeholder:"Gender"}))}})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(p.nv,{type:"Date",name:"dob",placeholder:"Date of birth",value:i,onChange:function(e){return o(e.target.value)},readOnly:!1})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(p.nv,{type:"text",placeholder:"First Name",required:!0,value:l,onChange:function(e){return c(e.target.value)},readOnly:!1})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(p.nv,{placeholder:"Middle Name",type:"text",value:d,onChange:function(e){return h(e.target.value)},readOnly:!1})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(p.nv,{type:"text",placeholder:"Last Name",required:!0,value:g,onChange:function(e){return j(e.target.value)},readOnly:!1})})]})},b=function(e){var t=e.mobile,n=e.setmobile,a=e.secondarymobile,r=e.setsecondarymobile,s=e.emailPrimary,i=e.secondaryemail,o=e.setsecondaryemail;return(0,x.jsxs)(u.ZP,{container:!0,spacing:2,sx:{p:1},children:[(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(p.nv,{type:"tel",placeholder:"Primary Contact",required:!0,value:t,onChange:function(e){return n(e.target.value)},readOnly:!1})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(p.nv,{type:"number",placeholder:"Secondary Contact",required:!0,value:a,onChange:function(e){return r(e.target.value)},readOnly:!1})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(p.nv,{type:"email",placeholder:"Primary Email",required:!0,value:s,readOnly:!1})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(p.nv,{type:"email",placeholder:"Secondary Email",required:!0,value:i,onChange:function(e){return o(e.target.value)},readOnly:!1})})]})},w=function(e){e.setlastname;var t=e.address1,n=e.setaddress1,a=e.address2,r=e.setaddress2,s=e.city,i=e.setcity,o=e.state,l=e.setstate,c=e.country,d=e.setcountry,h=e.postalCode,m=e.setpostalCode;return(0,x.jsxs)(u.ZP,{container:!0,spacing:2,sx:{p:1},children:[(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(p.nv,{id:"address1",placeholder:"House No.",value:t,onChange:function(e){return n(e.target.value)},readOnly:!1})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(p.nv,{id:"address1",placeholder:"Address Line 1",value:a,onChange:function(e){return r(e.target.value)},readOnly:!1})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(p.nv,{id:"city",placeholder:"City",value:s,onChange:function(e){return i(e.target.value)},readOnly:!1})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(p.nv,{id:"State",placeholder:"State",value:o,onChange:function(e){return l(e.target.value)},readOnly:!1})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(p.nv,{id:"Country",placeholder:"Country",value:c,onChange:function(e){return d(e.target.value)},readOnly:!1})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(p.nv,{type:"number",id:"postcode",placeholder:"Postcode",value:h,onChange:function(e){return m(e.target.value)},readOnly:!1})})]})},S=function(e){var t=e.theme,n=e.settheme,a=e.deadtime,s=e.deadtimeChange,i=e.pwdtime,o=e.pwdtimeChange;return(0,x.jsxs)(u.ZP,{container:!0,spacing:2,sx:{p:1},children:[(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(m.gc,{defaultValue:Z.filter((function(e){return e.value===t})),id:"theme",name:"theme",options:Z,isDisabled:!1,onChange:function(e,t){return t&&t.value&&n(t,t.value)},renderInput:function(e){return(0,x.jsx)(p.nv,(0,r.Z)((0,r.Z)({},e),{},{placeholder:"Default theme"}))}})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(m.gc,{defaultValue:j.filter((function(e){return e.value===a})),id:"deathTime",name:"deathTime",options:j,onChange:function(e,t){return t&&t.value&&s(t,t.value)},isDisabled:!1,renderInput:function(e){return(0,x.jsx)(p.nv,(0,r.Z)((0,r.Z)({},e),{},{placeholder:"Assume me dead after"}))}})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:5,children:(0,x.jsx)(m.gc,{defaultValue:g.filter((function(e){return e.value===i})),id:"pwdVisibility",name:"pwdVisibility",options:g,isDisabled:!1,onChange:function(e,t){return t&&t.value&&o(t,t.value)},renderInput:function(e){return(0,x.jsx)(p.nv,(0,r.Z)((0,r.Z)({},e),{},{placeholder:"Password Visibility"}))}})}),(0,x.jsxs)(u.ZP,{item:!0,xs:10,sm:5,children:[(0,x.jsx)(c.Z,{children:"Receive Updates Via"}),(0,x.jsxs)(d.Z,{children:[(0,x.jsx)(h.Z,{color:"primary",label:"Email",disabled:!1,defaultChecked:!0}),(0,x.jsx)(h.Z,{color:"primary",label:"SMS",disabled:!1,defaultChecked:!0}),(0,x.jsx)(h.Z,{color:"primary",label:"Phone",disabled:!1,defaultChecked:!0})]})]})]})},C=n(31881),P=n.n(C),A=n(34725),k=n(62463),_=["children","value","index"];function D(e){var t=e.children,n=e.value,a=e.index,i=(0,s.Z)(e,_);return(0,x.jsx)("div",(0,r.Z)((0,r.Z)({role:"tabpanel",hidden:n!==a,id:"vertical-tabpanel-".concat(a),"aria-labelledby":"vertical-tab-".concat(a)},i),{},{children:n===a&&(0,x.jsx)(d.Z,{sx:{p:3},children:(0,x.jsx)(c.Z,{children:t})})}))}function I(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}var E=JSON.parse(sessionStorage.getItem("logInUserData"));function N(){var e=i.useState(0),t=(0,a.Z)(e,2),n=t[0],s=t[1],c="Mr"===(null===E||void 0===E?void 0:E.salutation)?"male":"Ms"===(null===E||void 0===E?void 0:E.salutation)?"female":"Mx"===(null===E||void 0===E?void 0:E.salutation)?"others":"",u=(0,i.useState)(c),h=(0,a.Z)(u,2),p=h[0],v=h[1],f=(0,i.useState)("light"),g=(0,a.Z)(f,2),j=g[0],Z=g[1],C=(null!==E&&void 0!==E?E:"").address,_=void 0===C?"":C,N=(0,i.useState)("Save Changes"),L=(0,a.Z)(N,2),O=L[0],M=L[1],F=(0,i.useState)(""),R=(0,a.Z)(F,2),B=R[0],z=R[1],T=(0,i.useState)(""),G=(0,a.Z)(T,2),W=G[0],U=G[1],Q=(0,i.useState)(""),V=(0,a.Z)(Q,2),Y=V[0],q=V[1],H=(0,i.useState)(""),J=(0,a.Z)(H,2),$=J[0],K=J[1],X=(0,i.useState)(""),ee=(0,a.Z)(X,2),te=ee[0],ne=ee[1],ae=(0,i.useState)(""),re=(0,a.Z)(ae,2),se=re[0],ie=re[1],oe=(0,i.useState)(""),le=(0,a.Z)(oe,2),ce=le[0],de=le[1],ue=(0,i.useState)(""),he=(0,a.Z)(ue,2),pe=he[0],me=he[1],xe=(0,i.useState)(""),ve=(0,a.Z)(xe,2),fe=ve[0],ge=ve[1],je=(0,i.useState)("1"),Ze=(0,a.Z)(je,2),ye=Ze[0],be=Ze[1],we=(0,i.useState)(null===_||void 0===_?void 0:_.postalCode),Se=(0,a.Z)(we,2),Ce=Se[0],Pe=Se[1],Ae=(0,i.useState)(null===_||void 0===_?void 0:_.address1),ke=(0,a.Z)(Ae,2),_e=ke[0],De=ke[1],Ie=(0,i.useState)(null===_||void 0===_?void 0:_.address2),Ee=(0,a.Z)(Ie,2),Ne=Ee[0],Le=Ee[1],Oe=(0,i.useState)(null===_||void 0===_?void 0:_.city),Me=(0,a.Z)(Oe,2),Fe=Me[0],Re=Me[1],Be=(0,i.useState)(null===_||void 0===_?void 0:_.state),ze=(0,a.Z)(Be,2),Te=ze[0],Ge=ze[1],We=(0,i.useState)(null===_||void 0===_?void 0:_.country),Ue=(0,a.Z)(We,2),Qe=Ue[0],Ve=Ue[1],Ye=(0,i.useState)(""),qe=(0,a.Z)(Ye,2),He=qe[0],Je=qe[1];(0,i.useEffect)((function(){var e=null!==E&&void 0!==E&&E.name?null===E||void 0===E?void 0:E.name.split(" "):null===E||void 0===E?void 0:E.username.split(" "),t="",n="",a="";if(1===(null===e||void 0===e?void 0:e.length)?t=e[0]:2===(null===e||void 0===e?void 0:e.length)&&(t=e[0],a=e[1]),3===(null===e||void 0===e?void 0:e.length)&&(t=e[0],a=e[2],n=e[1]),(null===e||void 0===e?void 0:e.length)>3){t=e[0];for(var r=1;r<(null===e||void 0===e?void 0:e.length)-1;r+=1)n="".concat(n," ").concat(e[r]);a=e[2],n=e[(null===e||void 0===e?void 0:e.length)-1]}ie(t),de(n),me(a),K(null===E||void 0===E?void 0:E.email),U(null===E||void 0===E?void 0:E.mobile)}),[]);return(0,x.jsxs)(A.Z,{children:[(0,x.jsxs)(d.Z,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex"},children:[(0,x.jsxs)(o.Z,{orientation:window.screen.width<400?"vertical":"horizontal",value:n,onChange:function(e,t){s(t)},variant:"fullWidth",sx:{borderRight:1,borderColor:"divider",minWidth:150},size:"small",children:[(0,x.jsx)(l.Z,(0,r.Z)({label:"Basic Info"},I(0))),(0,x.jsx)(l.Z,(0,r.Z)({label:"Contacts"},I(1))),(0,x.jsx)(l.Z,(0,r.Z)({label:"Address"},I(2))),(0,x.jsx)(l.Z,(0,r.Z)({label:"Settings"},I(3)))]}),(0,x.jsx)(D,{sx:{minHeight:150},value:n,index:0,children:(0,x.jsx)(y,{salutation:He,setsalutation:Je,gender:p,setGender:v,dob:B,handledob:function(e){z(e)},firstname:se,setfirstname:ie,middlename:ce,setmiddlename:de,lastname:pe,setlastname:me})}),(0,x.jsx)(D,{sx:{minHeight:150},value:n,index:1,children:(0,x.jsx)(b,{mobile:W,setmobile:U,secondarymobile:Y,setsecondarymobile:q,emailPrimary:$,secondaryemail:te,setsecondaryemail:ne})}),(0,x.jsx)(D,{sx:{minHeight:150},value:n,index:2,children:(0,x.jsx)(w,{setlastname:me,address1:_e,setaddress1:De,address2:Ne,setaddress2:Le,city:Fe,setcity:Re,state:Te,setstate:Ge,country:Qe,setcountry:Ve,postalCode:Ce,setpostalCode:Pe})}),(0,x.jsx)(D,{sx:{minHeight:150},value:n,index:3,children:(0,x.jsx)(S,{theme:j,settheme:Z,deadtime:ye,deadtimeChange:function(e,t){be(t)},pwdtime:fe,pwdtimeChange:function(e,t){ge(t)}})})]}),(0,x.jsx)(k.Z,{direction:"row",justifyContent:"end",children:(0,x.jsx)(m.k4,{handleClick:function(e){!function(e){e.preventDefault(),M("Saving "),E.dob=B,E.pwdtime=fe,E.theme=null===j||void 0===j?void 0:j.value,E.secondarymobile=Y,E.secondaryemail=te,E.salutation=He,E.name="".concat(se," ").concat(ce," ").concat(pe),E.mobile=W;var t={address1:_e,address2:Ne,postalCode:Ce,city:Fe,state:Te,country:Qe};E.address=t,sessionStorage.setItem("logInUserData",JSON.stringify(E)),P().post("/backendapi/adddetails",{_id:null===E||void 0===E?void 0:E._id,user:E},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){M("Save Changes"),window.location.reload()})).catch()}(e)},label:O,type:"button"})})]})}var L=n(93433),O=n(74165),M=n(15861),F=n(86282),R=function(e){var t=(0,i.useState)([{id:0,type:"Basic",price:100,attachments:10,attachmentSize:"2.5 MB",recordings:10,recordingSize:"2.5 MB",legalWill:!1,selected:!1,highlighted:!1},{id:1,type:"Premium",price:200,attachments:25,attachmentSize:"5 MB",recordings:25,recordingSize:"25 MB",legalWill:!1,selected:!1,highlighted:!0},{id:2,type:"Elite",price:300,attachments:"Unlimited",attachmentSize:"5 MB",recordings:50,recordingSize:"50 MB",legalWill:!0,selected:!1,highlighted:!1}]),n=(0,a.Z)(t,2),r=n[0],s=n[1];return(0,x.jsx)("div",{className:"row",children:r.map((function(e,t){return(0,x.jsx)("div",{className:"col-md-6 mb-lg-0 col-lg-4 mb-2",onClick:function(){return function(e){var t=(0,L.Z)(r);t.map((function(t){return t.id===e?t.selected=!0:t.selected=!1,t})),s(t)}(e.id)},children:(0,x.jsx)("div",{className:"pricing-four__card",children:(0,x.jsx)("div",{className:"card ".concat(e.highlighted&&"overlay"," ").concat(e.selected&&"plan-selected"),children:(0,x.jsx)("div",{className:"card-body",children:(0,x.jsxs)("div",{className:"pricing-four__contents",children:[(0,x.jsx)("div",{className:"text-center ".concat(e.highlighted?"pricing-four__titles--white":"pricing-four__titles"),children:(0,x.jsx)("h2",{className:"font-weight-bold mt-4 mb-4 ".concat(e.highlighted&&"text-white"),children:e.type})}),(0,x.jsx)("div",{className:"pricing-four__values text-center mt-4 mb-3 ".concat(e.highlighted&&"text-white"),children:(0,x.jsxs)("p",{className:"text-25",children:["\u20b9",(0,x.jsxs)("span",{className:"text-40 font-weight-bold",children:[e.price," "]}),"/ month"]})}),(0,x.jsxs)("ul",{className:"list-group list-group-flush mt-3 mb-3 text-center ".concat(e.highlighted&&"text-white"),children:[(0,x.jsxs)("li",{className:"list-group-item bg-transparent border-0 pb-0",children:[(0,x.jsx)("span",{className:"font-weight-700 text-20",children:"Attachment"}),(0,x.jsx)("br",{}),(0,x.jsxs)("span",{className:!e.highlighted&&"text-secondary",children:[e.attachments,"(",e.attachmentSize," Each)"]})]}),(0,x.jsxs)("li",{className:"list-group-item bg-transparent border-0 pb-0",children:[(0,x.jsx)("span",{className:"font-weight-700 text-20",children:"Recording"}),(0,x.jsx)("br",{}),(0,x.jsxs)("span",{className:!e.highlighted&&"text-secondary",children:[e.recordings,"(",e.recordingSize," Each)"]})]}),(0,x.jsxs)("li",{className:"list-group-item bg-transparent border-0 pb-0",children:[(0,x.jsx)("span",{className:"font-weight-700 text-20",children:"Legal Will"}),(0,x.jsx)("br",{}),(0,x.jsx)("span",{className:!e.highlighted&&"text-secondary",children:(0,x.jsx)("span",{children:e.legalWill?"Supported":"No"})})]})]})]})})})})},t)}))})},B=function(e){return new Promise((function(t){var n=document.createElement("script");n.src=e,document.body.appendChild(n),n.onload=function(){t(!0)},n.onerror=function(){t(!1)}}))},z=function(e){var t=(0,i.useState)(null),n=(0,a.Z)(t,2),r=n[0],s=n[1],o="lastarzi.com"===document.domain,l=(0,i.useState)([{id:0,type:"Basic",price:100,attachments:10,attachmentSize:"2.5 MB",recordings:10,recordingSize:"2.5 MB",legalWill:!1,selected:!1,highlighted:!1},{id:1,type:"Premium",price:200,attachments:25,attachmentSize:"5 MB",recordings:25,recordingSize:"25 MB",legalWill:!1,selected:!1,highlighted:!0},{id:2,type:"Elite",price:300,attachments:"Unlimited",attachmentSize:"5 MB",recordings:50,recordingSize:"50 MB",legalWill:!0,selected:!1,highlighted:!1}]),c=(0,a.Z)(l,2),d=c[0],u=c[1],h=function(){var e=(0,M.Z)((0,O.Z)().mark((function e(t){var n,a,r;return(0,O.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.amount,a=t.id,e.next=3,B("https://checkout.razorpay.com/v1/checkout.js");case 3:if(e.sent){e.next=6;break}return e.abrupt("return",alert("Loading Failed"));case 6:r={key:o?"unavailable":"rzp_test_ppuCw11USIQQym",amount:null===n||void 0===n?void 0:n.toString(),currency:"INR",name:"LastArzi",description:"Pay Dev",image:F.TR,order_id:a,callback_url:"https://eneqd3r9zrjok.x.pipedream.net/",prefill:{name:"Vipin Kumar",email:"vksforum@gmail.com",contact:"9458706129"},notes:{address:"LastArzi Corporate Office"},theme:{color:"#FF9F43"}},new window.Razorpay(r).open();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,M.Z)((0,O.Z)().mark((function e(){var t;return(0,O.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"post",url:"https://api.razorpay.com/v1/orders",data:{amount:r,currency:"INR",receipt:"Receipt no.981",payment_capture:1,notes:{notes_key_1:"Tea, Earl Grey, Hot",notes_key_2:"Tea, Earl Grey\u2026 decaf."}}},P()(t).then((function(e){h(e.data)})).catch((function(){alert("Failed api")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(R,{plans:d,planSelect:function(e,t){var n=(0,L.Z)(d);n.map((function(t){return t.id===e?t.selected=!0:t.selected=!1,t})),u(n),s(t)}}),(0,x.jsx)("div",{className:"d-flex justify-content-center flex-wrap mt-3 mb-4",children:(0,x.jsx)("button",{disabled:!r,onClick:function(){p()},className:"btn btn-block btn-warning gradient-btn pay-button",type:"button",children:r?"PAY - ".concat("\u20b9"+r):"PAY"})})]})},T=function(){return(0,x.jsx)(d.Z,{children:(0,x.jsx)(u.ZP,{container:!0,spacing:1,children:"Notify"})})},G=n(4942),W=n(7081),U=n(5448),Q=n(88356),V=n(96900),Y=n(89870),q=n(71207),H=n(89709),J=n(97729),$=n(5390),K=n(66135),X=n(51427),ee=n(15743);var te=(0,K.$j)((function(e){var t;return{userData:null===(t=e.reducer.dataList.userData)||void 0===t?void 0:t.secrets}}),(function(e){return{getUserData:function(){return e((0,X.is)())},updateSecrets:function(t){return e((0,X.EL)(t))}}}))((function(e){var t=JSON.parse(sessionStorage.getItem("logInUserData")),n=(0,i.useState)(!1),s=(0,a.Z)(n,2),o=s[0],l=s[1],d=(0,i.useState)(),h=(0,a.Z)(d,2),v=h[0],f=h[1],g=(0,i.useState)(),j=(0,a.Z)(g,2),Z=j[0],y=j[1],b=(0,i.useState)(!1),w=(0,a.Z)(b,2),S=w[0],C=w[1];(0,i.useEffect)((function(){e.getUserData()}),[S]),(0,i.useEffect)((function(){y(e.userData)}),[e.userData]);var A=function(){var e=(0,M.Z)((0,O.Z)().mark((function e(t){var n;return(0,O.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"0e09ca7a4644c68c6c002ed1338bb40b",e.next=3,$.pbkdf2Sync(t,"0e09ca7a4644c68c6c002ed1338bb40b",1e3,20,"sha512").toString("hex");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=(0,i.useState)(""),D=(0,a.Z)(_,2),I=D[0],E=D[1],N=function(e,t){console.log((0,J.Y)(Z[t]),"cewbfiew"),f({key:e,answer:t}),E("secretQuestion"),y((0,r.Z)((0,r.Z)({},Z),{},(0,G.Z)({},t,(0,J.Y)(Z[t]))))},L=function(){E(!1),"secretQuestion"===I&&y((0,r.Z)((0,r.Z)({},Z),{},(0,G.Z)({},v.answer,(0,J.G)(Z[v.answer])))),f({})};return(0,x.jsxs)(ee.Z,{children:[(0,x.jsxs)(W.Z,{open:""!==I,children:[(0,x.jsx)(U.Z,{toggle:L,children:"changePassword"===I?"Change Password":"secretQuestion"===I?"Edit Secret Question ":""}),(0,x.jsxs)(Q.Z,{children:["changePassword"===I&&(0,x.jsx)(H.Z,{backtoLogin:function(){return E("")},fromChangePassword:!0,changePassword:function(e){A(e.currentPass).then((function(n){n===sessionStorage.getItem("secretkey")?A(e.newPass).then((function(n){var a=(0,J.G)(n,!1,e.newPass),r=(0,J.Y)(t.userKey,!1,e.currentPass);console.log(r,t.password);var s={_id:t._id,password:a,currentPassword:e.currentPass};console.log(s,"userData",t._id),P().post("/backendapi/user/changepassword",s,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){e&&p.A9,E("")})).catch((function(e){e&&p.A9}))})):l("Current Password did not match")}))},error:o}),"secretQuestion"===I&&(0,x.jsxs)(ee.Z,{children:[(0,x.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,x.jsx)(m.gc,{options:null===F.DD||void 0===F.DD?void 0:F.DD.filter((function(t){return t.value!==e.userData.secretQustion1&&t.value!==e.userData.secretQustion2&&t.value!==e.userData.secretQustion3})),onChange:function(e,t){return y((0,r.Z)((0,r.Z)({},Z),{},(0,G.Z)({},v.key,null===t||void 0===t?void 0:t.value)))},value:(0,F.NA)(F.DD,Z[v.key]),id:"secret3",name:"secret3",renderInput:function(e){return(0,x.jsx)(p.nv,(0,r.Z)((0,r.Z)({},e),{},{placeholder:"Select Third Secret Question"}))},placeholder:" Secret Question"})}),(0,x.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,x.jsx)(p.nv,{type:"password",name:"Answer",value:Z[v.answer],placeholder:"Answer",onChange:function(e){return y((0,r.Z)((0,r.Z)({},Z),{},(0,G.Z)({},v.answer,e.target.value)))}})}),(0,x.jsxs)(k.Z,{direction:"row",spacing:3,sx:{mt:3},justifyContent:"end",children:[(0,x.jsx)(m.AG,{label:"Cancel",handleClick:function(e){L()}}),(0,x.jsx)(m.k4,{label:"Submit",handleClick:function(){var t=(0,r.Z)({},Z);t[v.answer]=(0,J.G)(t[v.answer]),console.log(t),e.updateSecrets(t),E(""),C(!S),y(t)}})]})]})]})]}),(0,x.jsxs)(V.Z,{sx:{px:1},children:[(0,x.jsx)(p.ll,{title:"Account Activity"}),(0,x.jsxs)(u.ZP,{container:!0,spacing:1,children:[(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:4,children:(0,x.jsxs)(c.Z,{children:["Active Sessions : ",(0,x.jsx)("b",{children:"2"})]})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:4,children:(0,x.jsxs)(c.Z,{children:["Application Version : ",(0,x.jsx)("b",{children:"1.1.1"})]})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:4,children:(0,x.jsxs)(c.Z,{children:["Last Login : ",(0,x.jsx)("b",{children:"California USA"})]})})]}),(0,x.jsx)(Y.Z,{children:"End other Sessions"}),(0,x.jsx)(Y.Z,{onClick:function(){},children:"Delete Account"})]}),(0,x.jsxs)(V.Z,{sx:{p:1,mt:1},children:[(0,x.jsx)(p.ll,{title:"Password Security"}),(0,x.jsxs)(u.ZP,{container:!0,spacing:1,children:[(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:8,children:(0,x.jsx)(c.Z,{children:"Help us keep your account safer by using a stronger password."})}),(0,x.jsx)(u.ZP,{item:!0,xs:10,sm:4,children:(0,x.jsx)(Y.Z,{onClick:function(){E("changePassword")},children:"Change Password"})})]})]}),(0,x.jsxs)(V.Z,{sx:{p:1,mt:1},children:[(0,x.jsx)(p.ll,{title:"Manage Secret Questions"}),(0,x.jsxs)(u.ZP,{container:!0,spacing:1,children:[(0,x.jsxs)(u.ZP,{item:!0,xs:10,children:[(0,x.jsxs)(c.Z,{children:["Secret Question 1",(0,x.jsx)(q.Z,{onClick:function(){N("secretQustion1","secretAnswer1")}})]}),(0,x.jsx)(c.Z,{children:e.userData&&e.userData.secretQustion1})]}),(0,x.jsxs)(u.ZP,{item:!0,xs:10,children:[(0,x.jsxs)(c.Z,{children:["Secret Question 2",(0,x.jsx)(q.Z,{onClick:function(){return N("secretQustion1","secretAnswer1")}})]}),(0,x.jsx)(c.Z,{children:e.userData&&e.userData.secretQustion2})]}),(0,x.jsxs)(u.ZP,{item:!0,xs:10,children:[(0,x.jsxs)(c.Z,{children:["Secret Question 3",(0,x.jsx)(q.Z,{onClick:function(){return N("secretQustion3","secretAnswer3")}})]}),(0,x.jsx)(c.Z,{children:e.userData&&e.userData.secretQustion3})]})]})]})]})})),ne=[{value:"Query",label:"Query",color:"#00B8D9",isFixed:!0},{value:"Complain",label:"Complain",color:"#00B8D9",isFixed:!0},{value:"Feedback",label:"Feedback",color:"#00B8D9",isFixed:!0}],ae=JSON.parse(sessionStorage.getItem("logInUserData")),re=function(e){var t=(0,i.useState)("Submit"),n=(0,a.Z)(t,2),s=n[0],o=n[1],l=(0,i.useState)(""),c=(0,a.Z)(l,2),u=c[0],h=c[1],v=(0,i.useState)(""),f=(0,a.Z)(v,2),g=f[0],j=f[1];return(0,x.jsx)(A.Z,{component:"main",children:(0,x.jsxs)(d.Z,{component:"form",children:[(0,x.jsx)(p.A9,{handleClick:function(){h("")},openSnack:u,openSnackMsg:"Your ".concat(u," is successfully registed.")}),(0,x.jsx)(m.gc,{id:"optionSelect",name:"Select",options:ne,value:(0,F.NA)(ne,u),onChange:function(e,t){return h(t?t.value:"")},renderInput:function(e){return(0,x.jsx)(p.nv,(0,r.Z)((0,r.Z)({},e),{},{placeholder:"Choose a Topic"}))}}),(0,x.jsx)(p.nv,{type:"File",placeholder:"Attachments",id:"attachment"}),(0,x.jsx)(p.nv,{id:"firstName",name:"firstName",placeholder:"Your name",fullWidth:!0,autoComplete:"given-name",variant:"outlined"}),(0,x.jsx)(p.nv,{id:"email",name:"email",placeholder:"Your email",fullWidth:!0,variant:"outlined"}),(0,x.jsx)(p.nv,{id:"subject",name:"subject",placeholder:"Subject",fullWidth:!0,variant:"outlined"}),(0,x.jsx)(p.nv,{id:"message",name:"message",placeholder:"Message",fullWidth:!0,autoComplete:"Your message here",variant:"outlined"}),(0,x.jsx)(p.nv,{type:"textarea",placeholder:"Description",id:"description",value:g,onChange:function(e){return j(e.target.value)}}),(0,x.jsx)(k.Z,{children:(0,x.jsx)(Y.Z,{type:"submit",disabled:!(g.length&&u.length),onClick:function(e){return function(e){e.preventDefault(),o("Submiting ... "),P().post("/backendapi/contactus",{name:ae.name,email:ae.email,topic:u,msg:g},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(){o("Submit"),h(""),j("")})).catch()}(e)},variant:"contained",sx:{mt:3,mb:2},children:s})})]})})},se=["children","value","index"];function ie(e){var t=e.children,n=e.value,a=e.index,i=(0,s.Z)(e,se);return(0,x.jsx)("div",(0,r.Z)((0,r.Z)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},i),{},{children:n===a&&(0,x.jsx)(d.Z,{sx:{p:3},children:(0,x.jsx)(c.Z,{children:t})})}))}function oe(){var e=i.useState(0),t=(0,a.Z)(e,2),n=t[0],s=t[1],c=[{label:"Profile",id:0,component:(0,x.jsx)(N,{})},{label:"Subscriptions",id:1,component:(0,x.jsx)(z,{})},{label:"Contact Us",id:2,component:(0,x.jsx)(re,{})},{label:"Notification",id:3,component:(0,x.jsx)(T,{})},{label:"Security",id:3,component:(0,x.jsx)(te,{})}];return(0,x.jsxs)(d.Z,{children:[(0,x.jsx)(d.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,x.jsx)(o.Z,{value:n,onChange:function(e,t){s(t)},children:c.map((function(e,t){return(0,x.jsx)(l.Z,(0,r.Z)({label:e.label},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(t)),e.id)}))})}),c.map((function(e,t){return(0,x.jsx)(ie,{value:n,index:t,children:e.component},e.id)}))]})}}}]);