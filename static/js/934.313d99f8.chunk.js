"use strict";(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[934],{1087:function(e,n,t){t.d(n,{Z:function(){return l}});t(47313);var i=t(33505),r=t(36186),s=t(39338),o=t(6306),a=t(46417);function l(e){var n=e.collapseID,t=(e.setcollapseID,e.collapseItem),l=e.formatme,u=e.toggleCollapse;return(0,a.jsxs)(i.Z,{sx:{my:.9},expanded:n===t.id,onChange:function(){return u(t.id)},children:[(0,a.jsx)(s.Z,{expandIcon:(0,a.jsx)(o.Z,{}),children:l(t.title)}),(0,a.jsx)(r.Z,{children:t.content})]})}},18825:function(e,n,t){t.d(n,{z:function(){return l}});var i=t(19641),r=t(9506),s=t(56605),o=(t(47313),t(94843)),a=t(46417),l=function(e){return(0,a.jsxs)(i.ZP,{container:!0,sx:{px:2.5,py:1},children:[(0,a.jsx)(i.ZP,{item:!0,xs:6,children:(0,a.jsx)(o.ll,{title:e.heading})}),(0,a.jsx)(i.ZP,{item:!0,xs:6,children:(0,a.jsx)(r.Z,{display:"flex",justifyContent:"flex-end",children:(0,a.jsx)(s.Z,{onChange:function(n){return e.search(n.target.value)},placeholder:"Search"})})})]})}},30879:function(e,n,t){t.d(n,{H$:function(){return o},eq:function(){return a}});var i=t(80571),r=JSON.parse(sessionStorage.getItem("logInUserData")),s=i.g.injectEndpoints({endpoints:function(e){return{getAssets:e.query({query:function(){return"/backendapi/asset/".concat(null===r||void 0===r?void 0:r._id)},providesTags:["Assets"]}),addAsset:e.mutation({query:function(e){return{url:"backendapi/asset/adddetails",method:"POST",body:e}},invalidatesTags:["Assets"]})}}}),o=s.useGetAssetsQuery,a=s.useAddAssetMutation},72845:function(e,n,t){t.d(n,{BS:function(){return d},E4:function(){return a},HH:function(){return o},Q7:function(){return u},a1:function(){return l},mo:function(){return c}});var i=t(80571),r=JSON.parse(sessionStorage.getItem("logInUserData")),s=i.g.injectEndpoints({endpoints:function(e){return{getDocs:e.query({query:function(){return"/backendapi/document/".concat(r._id)},providesTags:["Document"]}),getAllDocs:e.query({query:function(e){return"/backendapi/sender/msg/".concat(e)},providesTags:["Document"]}),previewDocs:e.query({query:function(e){return"/backendapi/sender/msg/".concat(e)},providesTags:["Document"]}),resetPreview:function(){return function(e){e({type:"RESET_PREVIEW_DATA"})}},addDoc:e.mutation({query:function(e){return{url:"backendapi/document/add",method:"POST",body:e}},invalidatesTags:["Document"]}),deleteDocs:e.mutation({query:function(e){return{url:"/backendapi/document/deletebyid/".concat(e.deleteId),method:"DELETE"}},invalidatesTags:["Document"]}),deleteOneDoc:e.mutation({query:function(e){return{url:"/backendapi/document/media/deletebyid/".concat(e.deleteId,"/").concat(e.selecteddoc),method:"DELETE"}},invalidatesTags:["Document"]})}}}),o=s.useGetDocsQuery,a=s.useGetAllDocsQuery,l=s.usePreviewDocsQuery,u=s.useAddDocMutation,c=s.useDeleteDocsMutation,d=s.useDeleteOneDocMutation},48934:function(e,n,t){t.r(n);var i=t(1413),r=t(93433),s=t(74165),o=t(15861),a=t(29439),l=t(47313),u=t(95162),c=t(64162),d=t.n(c),v=t(9506),f=t(19641),m=t(57775),p=t(51057),h=t(35898),x=t(71003),Z=t(52156),g=t(39500),y=t(81800),j=t(13798),b=t(35192),D=t(63709),k=t(20938),C=t(79428),I=t(61474),S=t(29748),A=t(50850),w=t(97729),P=t(54727),E=t(36936),L=t(30879),F=t(71147),T=t(72845),N=t(54285),O=t(46417);n.default=function(e){var n,t,c,R,U=(0,l.createRef)(),q=(0,L.H$)(),B=q.data,_=q.isFetching,M=q.error,Q=(0,E.mB)().data,z=(0,L.eq)(),G=(0,a.Z)(z,2),J=G[0],V=G[1],W=(0,T.Q7)(),H=(0,a.Z)(W,1)[0],Y=(0,T.mo)(),$=(0,a.Z)(Y,1)[0],K=(0,D.v9)(F.Wx),X=null===(n=JSON.parse(sessionStorage.getItem("dropdowns")))||void 0===n?void 0:n.assetOption,ee=JSON.parse(sessionStorage.getItem("logInUserData"));(0,l.useEffect)((function(){null!==V&&void 0!==V&&V.isSuccess&&oe({msg:"Asset added successfully",severity:"success"}),null!==V&&void 0!==V&&V.isError&&oe({msg:V.error,severity:"error"}),null!==V&&void 0!==V&&V.isLoading&&console.log(" isLoading")}),[V]);var ne=Object.keys(X).map((function(e){var n,t;return{value:e,label:null!==(n=null===K||void 0===K||null===(t=K.colorOption)||void 0===t?void 0:t[e])&&void 0!==n?n:e}})),te=(0,l.useState)([]),ie=(0,a.Z)(te,2),re=ie[0],se=ie[1],oe=(0,N.Z)().setSnack,ae=(0,l.useState)(!1),le=(0,a.Z)(ae,2),ue=le[0],ce=le[1],de=(0,l.useState)(!1),ve=(0,a.Z)(de,2),fe=ve[0],me=ve[1],pe=(0,l.useState)(null),he=(0,a.Z)(pe,2),xe=he[0],Ze=he[1],ge=(0,l.useState)(""),ye=(0,a.Z)(ge,2),je=ye[0],be=ye[1],De=(0,l.useState)(""),ke=(0,a.Z)(De,2),Ce=ke[0],Ie=ke[1],Se=(0,l.useState)([]),Ae=(0,a.Z)(Se,2),we=Ae[0],Pe=Ae[1],Ee=(0,l.useState)(null),Le=(0,a.Z)(Ee,2),Fe=Le[0],Te=Le[1],Ne=(0,l.useState)(""),Oe=(0,a.Z)(Ne,2),Re=Oe[0],Ue=Oe[1],qe=(0,l.useState)(!1),Be=(0,a.Z)(qe,2),_e=Be[0],Me=Be[1],Qe=(0,l.useState)(""),ze=(0,a.Z)(Qe,2),Ge=ze[0],Je=ze[1],Ve=(0,l.useState)([]),We=(0,a.Z)(Ve,2),He=We[0],Ye=We[1],$e=(0,l.useState)(!1),Ke=(0,a.Z)($e,2),Xe=Ke[0],en=Ke[1],nn=(0,l.useState)(""),tn=(0,a.Z)(nn,2),rn=tn[0],sn=tn[1],on=(0,l.useState)([]),an=(0,a.Z)(on,2),ln=an[0],un=an[1],cn=(0,l.useState)(""),dn=(0,a.Z)(cn,2),vn=dn[0],fn=dn[1],mn=(0,l.useState)(!1),pn=(0,a.Z)(mn,2),hn=pn[0],xn=pn[1],Zn=(0,l.useState)(""),gn=(0,a.Z)(Zn,2),yn=gn[0],jn=gn[1],bn=(0,l.useState)(!0),Dn=(0,a.Z)(bn,2),kn=Dn[0],Cn=Dn[1],In=(0,l.useState)(!1),Sn=(0,a.Z)(In,2),An=Sn[0],wn=Sn[1],Pn=(0,l.useState)([{value:"Add Nominee",label:"Add Nominee"}]),En=(0,a.Z)(Pn,2),Ln=En[0],Fn=En[1];(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.Y)(B);case 2:n=e.sent,(n=JSON.parse(n))&&(0,A.Vh)({nomineeList:Q,preview:function(e){return Je(e)},editItemFunc:Vn,setdeleteID:Ze,setopen:ce,setassetList:Pe,assetListFromAPI:n}),se(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();null!==B&&void 0!==B&&B.length&&null!==Q&&void 0!==Q&&Q.length&&e()}),[B,Q]),(0,l.useEffect)((function(){if(null!==Q&&void 0!==Q&&Q.length){var e=[{value:"Add Nominee",label:"Add Nominee"}];Q.forEach((function(n){var t={value:n._id,label:"".concat(n.name," - ").concat(n.relation)};e.push(t)})),Fn(e)}}),[Q]);var Tn=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n){var t,i,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.nominees,i=n.deletednominee,e.prev=1,e.t0=null===ee||void 0===ee?void 0:ee._id,e.next=5,(0,w.Gf)(JSON.stringify(re));case 5:e.t1=e.sent,r={userId:e.t0,assets:e.t1},i&&(r.deletednominee=i),null!==t&&void 0!==t&&t.length&&(r.deletednominee=t),J(r),vn&&$(vn),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(1),console.log("error asset add",e.t2);case 16:Gn(),Jn(),Cn(!0),wn(!1);case 20:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}(),Nn=function(){en(!Xe)},On=function(e,n){var t,i;"File"===e.type&&sn(null===(i=n.target)||void 0===i?void 0:i.files[0]);var r=null!==(t=n.target.value)&&void 0!==t?t:"",s=ln,o=ln.findIndex((function(n){return n.key===e.key}));r.length<250&&(s[o].val=r,un(s),me(!fe),Rn())},Rn=function(){var e=!1;ln.forEach((function(n){n.mandatory&&!n.val.trim()&&(e=!0)})),Cn(e)},Un=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n){var t,i,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vn&&!rn&&ln.forEach((function(e){"Attachments"===e.key&&(e.val="")})),t={assetType:Re,assetDetails:(0,C.OQ)(ln),nominees:He,id:yn},!((i=re.findIndex((function(e){return e.id===yn})))>=0)){e.next=8;break}re.splice(i,1),re.push(t),e.next=9;break;case 8:return e.abrupt("return");case 9:r=[],He.forEach((function(e){e.objectid=yn})),Fe.nominees.forEach((function(e){-1===He.findIndex((function(n){return n.id===e.id}))&&(e.objectid=yn,r.push(e))})),Tn({nominees:He,deletednominee:r});case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),qn=function(e){wn(!0),e.preventDefault(),xn(!1);var n=ln.findIndex((function(e){return"File"===e.type}));n>=0&&rn?""!==ln[n].val?_n(rn).then(function(){var t=(0,o.Z)((0,s.Z)().mark((function t(i){var r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,w.Y)(i.data.alias);case 2:r=t.sent,ln[n].val="".concat(r,"#~#").concat(i.data._id,"#~#").concat(i.data.attachment[0]),un(ln),Un(e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){var n;wn(!1),oe({msg:(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)||"error",severity:"error"})})):Un(e):Un(e)},Bn=function(e){return new Promise((function(n,t){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){return n(i.result)},i.onerror=function(e){return t(e)}}))},_n=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n){var t,i,r,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],(i={}).user=null===ee||void 0===ee?void 0:ee._id,i.type="Asset",e.next=7,(0,w.Gf)(n.name);case 7:return i.alias=e.sent,e.next=10,Bn(n);case 10:return r=e.sent,e.next=13,(0,w.Gf)(r);case 13:return o=e.sent,a=d().compressToUTF16(o),t.push({media:a,name:n.name,type:n.type,user:null===ee||void 0===ee?void 0:ee._id}),i.attachment=t,e.next=19,H(i);case 19:return l=e.sent,e.abrupt("return",l);case 23:e.prev=23,e.t0=e.catch(0),oe({msg:"Failed to add attachment",severity:"error"});case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(n){return e.apply(this,arguments)}}(),Mn=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={assetType:Re,assetDetails:(0,C.OQ)(ln),nominees:He,id:(0,u.Z)()},He.forEach((function(e){e.objectid=n.id})),re.push(n),Tn({nominees:He});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qn=function(e){wn(!0),e.preventDefault();var n=ln.findIndex((function(e){return"File"===e.type}));n>=0?""!==ln[n].val?_n(rn).then(function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.Y)(t.data.alias);case 2:i=e.sent,ln[n].val="".concat(i,"#~#").concat(t.data._id,"#~#").concat(t.data.attachment[0]),un(ln),Mn();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){var n;wn(!1),oe({msg:(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)||"error",severity:"error"})})):Mn():Mn()},zn=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n){var t,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=re.findIndex((function(e){return e.id===n})),i=[],!(t>=0)){e.next=9;break}re[t].assetDetails.filter((function(e){return"File"===e.type})).forEach((function(e){var n=e.val.split("#~#");(null===n||void 0===n?void 0:n[1])&&$({deleteId:n[1]})})),re[t].nominees.forEach((function(e){e.objectid=re[t].id,i.push(e)})),re.splice(t,1),e.next=10;break;case 9:return e.abrupt("return");case 10:Tn(He,i);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Gn=function(){(null===re||void 0===re?void 0:re.length)&&(null===Q||void 0===Q?void 0:Q.length)&&(0,A.Vh)({nomineeList:Q,preview:function(e){return Je(e)},editItemFunc:Vn,setdeleteID:Ze,setopen:ce,setassetList:Pe,assetListFromAPI:re}),Ue(""),fn(""),un([]),sn(""),Ye([]),hn&&Cn(!0)},Jn=function(){be(""),Ie(""),U.current&&U.current.select.clearValue()},Vn=function(e){Cn(!0);var n=e.assetDetails,t=e.assetType,i=e.nominees;Ue(t),xn(!0),jn(e.id),Te(e),un(n),Ye((0,r.Z)(i))},Wn=function(){var e={value:"",label:""};return ne.forEach((function(n){n.value===Re&&(e=n)})),e};return(0,O.jsxs)(v.Z,{children:[Ge&&(0,O.jsx)(A.zV,{docID:Ge,reset:function(){return Je("")}}),(0,O.jsx)(g.Z,{handleConfirm:function(){zn(xe),ce(!1)},isOpen:ue,closeModal:function(){return ce(!1)}}),_e&&(0,O.jsx)(S.Z,{handleSidebar:function(){return Me(!1)}}),(0,O.jsxs)(f.ZP,{container:!0,spacing:2,sx:{p:2},children:[(0,O.jsx)(f.ZP,{item:!0,xs:12,md:9,lg:9,children:(0,O.jsx)(m.Z,{children:(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(k.ll,{title:hn?"Edit Asset":"Add New Asset"}),(0,O.jsxs)(f.ZP,{rowSpacing:.01,container:!0,spacing:1,children:[(0,O.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,O.jsx)(I.gc,{id:"assetID",name:"asset",isDisabled:hn,options:ne,onChange:function(e,n){return function(e){Cn(!0),(0,C.L9)(),be(""),Ie(""),Ye([]),sn(""),Ue(null===e||void 0===e?void 0:e.value),un(e?X[e.value]:[])}(n)},value:Wn(),autoComplete:!1,renderInput:function(e){var n;return(0,O.jsx)(Z.Z,(0,i.Z)((0,i.Z)({},e),{},{label:hn?Wn().value:null!==(n=null===K||void 0===K?void 0:K.assetOptionText)&&void 0!==n?n:"Asset Type"}))}})}),(0,O.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,O.jsx)(I.gc,{isMulti:!0,name:"nominee",id:"nomineeId",onChange:function(e,n){return function(e){hn&&Cn(!1);var n=[];(null===e||void 0===e?void 0:e.length)&&e.forEach((function(e){"Add Nominee"===e.value?Me(!0):n.push({id:e.value,name:e.label,objectid:yn})})),Ye([].concat(n))}(n)},autoComplete:!1,options:null===Ln||void 0===Ln?void 0:Ln.filter((function(e){return!He.some((function(n){return n.id===e.value}))})),value:He.map((function(e){var n=Ln.filter((function(n){return n.value===e.id}));return{value:n[0].value,label:n[0].label}})),renderInput:function(e){var n;return(0,O.jsx)(Z.Z,(0,i.Z)((0,i.Z)({},e),{},{label:null!==(n=null===K||void 0===K?void 0:K.nomineeOption)&&void 0!==n?n:"Nominee(s)"}))}})}),Object.keys(X).includes(Re)&&ln.map((function(e,n){return(0,O.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:"Attachments"!==e.key?(0,O.jsxs)(O.Fragment,{children:[e.deletable&&(0,O.jsx)(b.Z,{size:15,onClick:function(){return function(e){hn&&Cn(!1);var n=ln.filter((function(n){return e.key!==n.key}));un(n)}(e)}}),(0,O.jsx)(Z.Z,{type:e.type,onKeyPress:function(n){"number"===e.type.toLowerCase()&&((0,P.ZP)(n),function(e){var n=(null===e||void 0===e?void 0:e.keyCode)||(null===e||void 0===e?void 0:e.which),t=document.getElementById("assetSubmit");13===n&&(!t||t.disabled||An||(hn?qn(e):Qn(e)))}(n))},name:e.key,id:e.id,rows:"1",label:e.key,max:"9999-12-31",min:"1900-01-01",value:"File"!==e.type?e.val:null,onChange:function(n){return On(e,n)}})]}):hn&&!vn&&e.val.split("#~#")[1]?(0,O.jsxs)("div",{children:[(0,O.jsx)(b.Z,{style:{position:"absolute",right:"-5px",top:"-7px"},size:15,onClick:function(){fn(e.val.split("#~#")[1])}}),(0,O.jsx)("span",{style:{color:"blue",cursor:"pointer"},onClick:function(){return Je(e.val.split("#~#")[2])},children:e.val.split("#~#")[0]})]}):(0,O.jsx)(Z.Z,{label:"",fullWidth:!0,type:e.type,size:"small",value:null,id:"fileAtt",onChange:function(n){On(e,n)}})},n)}))]}),(0,O.jsxs)(h.Z,{direction:"row",spacing:3,sx:{mt:3},justifyContent:"end",children:[Re&&(0,O.jsx)(x.Z,{onClick:Nn,children:"Add Custom Field"}),(0,O.jsx)(I.ZP,{varient:"outlined",label:hn?"Cancel":null!==(t=null===K||void 0===K?void 0:K.resetButton)&&void 0!==t?t:"Reset",onClick:function(e){xn(!1),Gn()}}),(0,O.jsx)(I.ZP,{varient:"contained",id:"assetSubmit",isLoading:An,label:hn?"Update":null!==(c=null===K||void 0===K?void 0:K.submitButton)&&void 0!==c?c:"Add",disabled:!vn&&(0===He.length||!Re||kn||An),onClick:function(e){hn?qn(e):Qn(e)}})]})]})})}),(0,O.jsx)(y.Z,{}),(0,O.jsx)(f.ZP,{item:!0,xs:12,md:9,lg:9,sx:{pt:2,pl:2},children:(0,O.jsx)(j.ZP,{heading:null!==(R=null===K||void 0===K?void 0:K.textList)&&void 0!==R?R:"Assets List",isLoading:_||(null===V||void 0===V?void 0:V.isLoading),error:M,collapseItems:we,colorOption:null===K||void 0===K?void 0:K.colorOption1})})]}),(0,O.jsx)(A.Id,{modal:Xe,fname:je,ftype:Ce,addfield:function(e){e.preventDefault();var n=ln,t=n.length,i="";n.findIndex((function(e){return e.key===je}))>=0&&oe({msg:"Field Already Exist! Please add new field",severity:"error"}),"Attachments"===n[t-1].key?(i=n[t-1],n[t-1]={key:je,val:"",type:Ce,deletable:!0},n.push(i),un(n),be(""),Ie("")):(n.push({key:je+Ce,val:"",type:Ce,deletable:!0}),un(n),be(""),Ie("")),Nn()},messages:K,setfname:be,setftype:Ie,assetType:Re,toggleModal:Nn,selectCustomRef:U,clearCustomField:Jn})]})}},50850:function(e,n,t){t.d(n,{Id:function(){return A},Vh:function(){return w},zV:function(){return P}});var i=t(74165),r=t(15861),s=t(29439),o=t(1413),a=t(47313),l=t(94469),u=t(33604),c=t(69625),d=t(19641),v=t(47605),f=t(80836),m=t(9506),p=t(98668),h=t(11198),x=t(52156),Z=t(49461),g=t.n(Z),y=t(54727),j=t(61474),b=t(72845),D=t(64162),k=t.n(D),C=t(97729),I=t(46417),S=[{value:"Text",label:"Text",color:"#00B8D9",isFixed:!0},{value:"textarea",label:"Text Area",color:"#0052CC",isFixed:!0},{value:"Date",label:"Date",color:"#0052CC",isFixed:!0},{value:"Number",label:"Number",color:"#0052CC",isFixed:!0}],A=function(e){var n=e.modal,t=e.fname,i=e.ftype,r=e.addfield,s=e.messages,a=e.setfname,d=e.setftype,v=e.assetType,f=e.toggleModal,m=e.clearCustomField;return(0,I.jsxs)(l.Z,{open:n,onClose:f,centered:!0,children:[(0,I.jsx)(u.Z,{children:"Add Custom Field"}),(0,I.jsxs)(c.Z,{children:[(0,I.jsx)(j.gc,{disabled:void 0===v,options:S,onChange:function(e,n){return d(n?n.value:"")},renderInput:function(e){return(0,I.jsx)(x.Z,(0,o.Z)((0,o.Z)({},e),{},{label:"Field Type..."}))}}),(0,I.jsx)(x.Z,{name:"Email",margin:"normal",type:"email",disabled:""===v,id:"EmailMulti",value:t,label:"Enter Field Name",onChange:function(e){return a(e.target.value)}}),(0,I.jsx)(j.AG,{label:null!==s&&void 0!==s&&s.resetButton?null===s||void 0===s?void 0:s.resetButton:"Cancel",disabled:void 0===v,handleClick:function(){m(),f()}}),(0,I.jsx)(j.k4,{label:null!==s&&void 0!==s&&s.submitButton?null===s||void 0===s?void 0:s.submitButton:"Add",disabled:""===t||""===i,handleClick:function(e){return r(e)}})]})]})},w=function(e){var n=e.nomineeList,t=e.preview,i=e.editItemFunc,r=e.setdeleteID,s=e.setopen,o=e.setassetList,a=e.assetListFromAPI,l=[];(null===a||void 0===a?void 0:a.length)&&a.forEach((function(e,o){if(e.id){var a,u,c,f,m="";(null===e||void 0===e||null===(a=e.nominees)||void 0===a?void 0:a.length)&&e.nominees.forEach((function(t,i){var r=n.filter((function(e){return e._id===t.id}));r.length&&(i===e.nominees.length-1?m+=r[0].name:m="".concat(m+r[0].name,", "))}));var p=null,h=(0,I.jsxs)(d.ZP,{container:!0,columnSpacing:1,children:[(0,I.jsx)(d.ZP,{item:!0,display:"flex",sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:4,children:(0,I.jsx)(v.Z,{borderRadius:1,textAlign:"center",height:"max-cotent",bgcolor:"primary.link",color:"white",padding:.1,sx:{mr:1,cursor:"pointer"},onClick:function(){return i(e)},children:"EDIT"})}),(0,I.jsx)(d.ZP,{item:!0,xs:4,children:(0,I.jsx)(v.Z,{borderRadius:1,textAlign:"center",height:"max-cotent",bgcolor:"primary.danger",color:"white",padding:.1,sx:{mr:1,cursor:"pointer"},onClick:function(){r(e.id),s(!0)},children:"DELETE"})})]})}),null===e||void 0===e||null===(u=e.assetDetails)||void 0===u?void 0:u.map((function(e,n){if("Remarks"===e.key&&e.val)return p=n,"";if(""!==e.val){var i,r=e.val;if("File"===e.type){var s=e.val.split("#~#");r=(0,I.jsx)("u",{children:(0,I.jsx)("span",{style:{color:"blue",cursor:"pointer"},onClick:function(){return t(s[2])},children:s[0]})})}return(0,I.jsx)(d.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:5,children:(0,I.jsx)(v.Z,{children:e.key&&(null===(i=e.key.split("*"))||void 0===i?void 0:i[0])})}),(0,I.jsx)(d.ZP,{item:!0,xs:7,children:(0,I.jsxs)(v.Z,{children:[": ","Date"===e.type?(0,y.p6)(r):r]})})]})},n+e.key)}return""})),(0,I.jsx)(d.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:5,children:(0,I.jsx)(v.Z,{children:"Nominees"})}),(0,I.jsx)(d.ZP,{item:!0,xs:7,children:(0,I.jsxs)(v.Z,{children:[": ",m]})})]})}),p&&(0,I.jsx)(d.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:5,children:(0,I.jsx)(v.Z,{children:(null===e||void 0===e?void 0:e.assetDetails[p].key)&&(null===e||void 0===e||null===(c=e.assetDetails[p].key.split("*"))||void 0===c?void 0:c[0])})}),(0,I.jsx)(d.ZP,{item:!0,xs:7,children:(0,I.jsxs)(v.Z,{children:[": ",null===e||void 0===e||null===(f=e.assetDetails[p])||void 0===f?void 0:f.val]})})]})})]}),x={id:o+1,trashIt:function(){r(e.id),s(!0)},editIt:function(){i(e)},title:e.assetType,content:h};l.push(x)}})),o(null===l||void 0===l?void 0:l.reverse())},P=function(e){var n=e.docID,t=e.reset,o=(0,b.a1)(n),x=o.data,Z=o.isError,y=o.error,j=o.isLoading,D=(0,a.useState)(""),S=(0,s.Z)(D,2),A=S[0],w=S[1];return(0,a.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var n,t,r,s,o,a,l,u,c,d,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===x||void 0===x||null===(n=x[0])||void 0===n?void 0:n.media,s=k().decompressFromUTF16(r),e.next=4,(0,C.Y)(s);case 4:if(o=e.sent){for(l=atob(null===o||void 0===o?void 0:o.split("base64,")[1]),u=new Array(l.length),c=0;c<l.length;c++)u[c]=l.charCodeAt(c);d=new Uint8Array(u),v=new Blob([d],{type:null===(a=x[0])||void 0===a?void 0:a.type}),t=URL.createObjectURL(v),w({blobUrl:t,selectedforpreview:x,fileName:null===x||void 0===x?void 0:x.name,mediaData:o})}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();x&&e()}),[x]),(0,I.jsx)(g(),{children:(0,I.jsxs)(l.Z,{open:!!n,onClose:function(){return t()},fullWidth:!0,children:[(0,I.jsx)(u.Z,{children:(0,I.jsxs)(d.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,I.jsx)(d.ZP,{item:!0,children:"Preview Attachment"}),(0,I.jsx)(d.ZP,{item:!0,xs:!0}),(0,I.jsx)(d.ZP,{item:!0,children:(0,I.jsx)(f.Z,{onClick:function(){return t()},children:(0,I.jsx)(h.Z,{})})})]})}),(0,I.jsx)(c.Z,{children:Z?(0,I.jsx)(v.Z,{children:y}):j||null===A||void 0===A||!A.blobUrl?(0,I.jsx)(m.Z,{display:"flex",justifyContent:"center",alignItems:"center",height:450,children:(0,I.jsx)(p.Z,{})}):(0,I.jsx)(m.Z,{height:400,children:(0,I.jsx)("iframe",{style:{height:"100%",width:"100%"},title:null===A||void 0===A?void 0:A.fileName,src:null===A||void 0===A?void 0:A.blobUrl})})})]})})}},13798:function(e,n,t){t.d(n,{GR:function(){return m},UB:function(){return f}});var i=t(29439),r=t(47313),s=t(47605),o=t(57775),a=t(19536),l=t(51057),u=t(20938),c=t(1087),d=t(18825),v=t(46417);n.ZP=function(e){var n,t,f=(0,r.useState)(""),m=(0,i.Z)(f,2),p=m[0],h=m[1],x=null===(n=JSON.parse(sessionStorage.getItem("logInUserData")))||void 0===n?void 0:n.assets,Z=null===(t=JSON.parse(sessionStorage.getItem("logInUserData")))||void 0===t?void 0:t.liabilities,g=(0,r.useState)([]),y=(0,i.Z)(g,2),j=y[0],b=y[1],D=(0,r.useState)(),k=(0,i.Z)(D,2),C=k[0],I=k[1],S=e.collapseItems,A=e.colorOption,w=function(e){return null!==A&&void 0!==A&&A[e]?A[e]:e},P=function(e){h(p!==e?e:"")},E=(null===C||void 0===C?void 0:C.length)>0?j:S,L=e.isLoading?(0,v.jsx)(u.$j,{}):e.error?(0,v.jsx)(s.Z,{children:e.error}):E.length>0?E.map((function(e){return(0,v.jsx)(r.Fragment,{children:(0,v.jsx)(c.Z,{collapseID:p,setcollapseID:h,collapseItem:e,formatme:w,toggleCollapse:P})},e.id)})):(0,v.jsx)(s.Z,{style:{fontSize:"14px",marginTop:"-10px"},children:"No Data Found"});return(0,v.jsxs)(o.Z,{children:[(0,v.jsx)(d.z,{heading:e.heading,search:function(n){I(n);var t=S.filter((function(t){var i,r,s=(e.assetShow?null===(i=Z[t.id-1])||void 0===i?void 0:i.liabilityDetails:null===(r=x[t.id-1])||void 0===r?void 0:r.assetDetails).filter((function(e){var t=e.val.toLowerCase().startsWith(n.toLowerCase()),i=e.val.toLowerCase().includes(n.toLowerCase());return!(!t&&!i)})),o=t.title.toLowerCase().startsWith(n.toLowerCase()),a=t.title.toLowerCase().includes(n.toLowerCase());return!!(o||a||s.length>0)}));b(t)}}),(0,v.jsx)(a.Z,{}),(0,v.jsx)(l.Z,{children:L})]})};var f=["Lendor Details","Card Details *","Account Details","EMI Details *","Loan Details*","Scheme Details","Payments Details *","Amount","Amount *","Liability Name","Scheme Details *","Remarks"],m=["Bank Name","Debtor Name","Details","Currency Details","Depositor","Depositor *","Account Details","Account Details *","Bank Name *","Debtor Name *","Investment Firm *","Policy Number *","Amount *","Amount / Quantity","Policy Number","Property Type","Property Area","Retirals Details *","Amount","Remarks"]}}]);