"use strict";(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[911],{1087:function(e,n,t){t.d(n,{Z:function(){return a}});t(47313);var i=t(33505),r=t(36186),l=t(39338),o=t(6306),s=t(46417);function a(e){var n=e.collapseID,t=(e.setcollapseID,e.collapseItem),a=e.formatme,u=e.toggleCollapse;return(0,s.jsxs)(i.Z,{sx:{my:.9},expanded:n===t.id,onChange:function(){return u(t.id)},children:[(0,s.jsx)(l.Z,{expandIcon:(0,s.jsx)(o.Z,{}),children:a(t.title)}),(0,s.jsx)(r.Z,{children:t.content})]})}},18825:function(e,n,t){t.d(n,{z:function(){return a}});var i=t(19641),r=t(9506),l=t(56605),o=(t(47313),t(94843)),s=t(46417),a=function(e){return(0,s.jsxs)(i.ZP,{container:!0,sx:{px:2.5,py:1},children:[(0,s.jsx)(i.ZP,{item:!0,xs:6,children:(0,s.jsx)(o.ll,{title:e.heading})}),(0,s.jsx)(i.ZP,{item:!0,xs:6,children:(0,s.jsx)(r.Z,{display:"flex",justifyContent:"flex-end",children:(0,s.jsx)(l.Z,{onChange:function(n){return e.search(n.target.value)},placeholder:"Search"})})})]})}},72845:function(e,n,t){t.d(n,{BS:function(){return d},E4:function(){return s},HH:function(){return o},Q7:function(){return u},a1:function(){return a},mo:function(){return c}});var i=t(80571),r=JSON.parse(sessionStorage.getItem("logInUserData")),l=i.g.injectEndpoints({endpoints:function(e){return{getDocs:e.query({query:function(){return"/backendapi/document/".concat(r._id)},providesTags:["Document"]}),getAllDocs:e.query({query:function(e){return"/backendapi/sender/msg/".concat(e)},providesTags:["Document"]}),previewDocs:e.query({query:function(e){return"/backendapi/sender/msg/".concat(e)},providesTags:["Document"]}),resetPreview:function(){return function(e){e({type:"RESET_PREVIEW_DATA"})}},addDoc:e.mutation({query:function(e){return{url:"backendapi/document/add",method:"POST",body:e}},invalidatesTags:["Document"]}),deleteDocs:e.mutation({query:function(e){return{url:"/backendapi/document/deletebyid/".concat(e.deleteId),method:"DELETE"}},invalidatesTags:["Document"]}),deleteOneDoc:e.mutation({query:function(e){return{url:"/backendapi/document/media/deletebyid/".concat(e.deleteId,"/").concat(e.selecteddoc),method:"DELETE"}},invalidatesTags:["Document"]})}}}),o=l.useGetDocsQuery,s=l.useGetAllDocsQuery,a=l.usePreviewDocsQuery,u=l.useAddDocMutation,c=l.useDeleteDocsMutation,d=l.useDeleteOneDocMutation},23317:function(e,n,t){t.d(n,{BS:function(){return u},Yy:function(){return s},c9:function(){return c},iB:function(){return a}});var i=t(1413),r=t(80571),l=JSON.parse(sessionStorage.getItem("logInUserData")),o=r.g.injectEndpoints({endpoints:function(e){return{getLiability:e.query({query:function(){return"/backendapi/liability/".concat(null===l||void 0===l?void 0:l._id)},providesTags:["Liability"]}),addLiability:e.mutation({query:function(e){return{url:"backendapi/liability/adddetails",method:"POST",body:e}},invalidatesTags:["Liability"]}),updateLiability:e.mutation({query:function(e){return{url:"backendapi/liability/updatedetails",method:"PUT",body:e}},invalidatesTags:["Liability"]}),deleteLiability:e.mutation({query:function(e){return{url:"backendapi/liability/deletedetails",method:"DELETE",body:(0,i.Z)((0,i.Z)({},e),{},{userId:null===l||void 0===l?void 0:l._id})}},invalidatesTags:["Liability"]})}}}),s=o.useGetLiabilityQuery,a=o.useUpdateLiabilityMutation,u=o.useAddLiabilityMutation,c=o.useDeleteLiabilityMutation},50850:function(e,n,t){t.d(n,{Id:function(){return w},Vh:function(){return S},zV:function(){return C}});var i=t(74165),r=t(15861),l=t(29439),o=t(1413),s=t(47313),a=t(94469),u=t(33604),c=t(69625),d=t(19641),v=t(47605),f=t(80836),m=t(9506),p=t(98668),h=t(11198),x=t(73675),y=t(49461),Z=t.n(y),b=t(54727),g=t(61474),j=t(72845),D=t(64162),k=t.n(D),P=t(97729),I=t(46417),L=[{value:"Text",label:"Text",color:"#00B8D9",isFixed:!0},{value:"textarea",label:"Text Area",color:"#0052CC",isFixed:!0},{value:"Date",label:"Date",color:"#0052CC",isFixed:!0},{value:"Number",label:"Number",color:"#0052CC",isFixed:!0}],w=function(e){var n=e.modal,t=e.fname,i=e.ftype,r=e.addfield,l=e.messages,s=e.setfname,d=e.setftype,v=e.assetType,f=e.toggleModal,m=e.clearCustomField;return(0,I.jsxs)(a.Z,{open:n,onClose:f,centered:!0,children:[(0,I.jsx)(u.Z,{children:"Add Custom Field"}),(0,I.jsxs)(c.Z,{children:[(0,I.jsx)(g.gc,{disabled:void 0===v,options:L,onChange:function(e,n){return d(n?n.value:"")},renderInput:function(e){return(0,I.jsx)(x.Z,(0,o.Z)((0,o.Z)({},e),{},{label:"Field Type..."}))}}),(0,I.jsx)(x.Z,{name:"Email",margin:"normal",type:"email",disabled:""===v,id:"EmailMulti",value:t,label:"Enter Field Name",onChange:function(e){return s(e.target.value)}}),(0,I.jsx)(g.AG,{label:null!==l&&void 0!==l&&l.resetButton?null===l||void 0===l?void 0:l.resetButton:"Cancel",disabled:void 0===v,handleClick:function(){m(),f()}}),(0,I.jsx)(g.k4,{label:null!==l&&void 0!==l&&l.submitButton?null===l||void 0===l?void 0:l.submitButton:"Add",disabled:""===t||""===i,handleClick:function(e){return r(e)}})]})]})},S=function(e){var n=e.nomineeList,t=e.preview,i=e.editItemFunc,r=e.setDeletedAsset,l=e.setopen,o=e.setassetList,s=e.assetListFromAPI,a=[];s.forEach((function(e,o){var s,u,c,f,m=e.assets,p="";(null===m||void 0===m||null===(s=m.nominees)||void 0===s?void 0:s.length)&&m.nominees.forEach((function(e,t){var i=n.filter((function(n){return n._id===e.id}));i.length&&(t===m.nominees.length-1?p+=i[0].name:p="".concat(p+i[0].name,", "))}));var h=null,x=(0,I.jsxs)(d.ZP,{container:!0,columnSpacing:1,children:[(0,I.jsx)(d.ZP,{item:!0,display:"flex",sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:4,children:(0,I.jsx)(v.Z,{borderRadius:1,textAlign:"center",height:"max-cotent",bgcolor:"primary.link",color:"white",padding:.1,sx:{mr:1,cursor:"pointer"},onClick:function(){return i(e)},children:"EDIT"})}),(0,I.jsx)(d.ZP,{item:!0,xs:4,children:(0,I.jsx)(v.Z,{borderRadius:1,textAlign:"center",height:"max-cotent",bgcolor:"primary.danger",color:"white",padding:.1,sx:{mr:1,cursor:"pointer"},onClick:function(){r(m),l(!0)},children:"DELETE"})})]})}),null===m||void 0===m||null===(u=m.assetDetails)||void 0===u?void 0:u.map((function(e,n){if("Remarks"===e.key&&e.val)return h=n,"";if(""!==e.val){var i,r=e.val;if("File"===e.type){var l=e.val.split("#~#");r=(0,I.jsx)("u",{children:(0,I.jsx)("span",{style:{color:"blue",cursor:"pointer"},onClick:function(){return t(l[2])},children:l[0]})})}return(0,I.jsx)(d.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:5,children:(0,I.jsx)(v.Z,{children:e.key&&(null===(i=e.key.split("*"))||void 0===i?void 0:i[0])})}),(0,I.jsx)(d.ZP,{item:!0,xs:7,children:(0,I.jsxs)(v.Z,{children:[": ","Date"===e.type?(0,b.p6)(r):r]})})]})},n+e.key)}return""})),(0,I.jsx)(d.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:5,children:(0,I.jsx)(v.Z,{children:"Nominees"})}),(0,I.jsx)(d.ZP,{item:!0,xs:7,children:(0,I.jsxs)(v.Z,{children:[": ",p]})})]})}),h&&(0,I.jsx)(d.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:5,children:(0,I.jsx)(v.Z,{children:(null===m||void 0===m?void 0:m.assetDetails[h].key)&&(null===m||void 0===m||null===(c=m.assetDetails[h].key.split("*"))||void 0===c?void 0:c[0])})}),(0,I.jsx)(d.ZP,{item:!0,xs:7,children:(0,I.jsxs)(v.Z,{children:[": ",null===m||void 0===m||null===(f=m.assetDetails[h])||void 0===f?void 0:f.val]})})]})})]}),y={id:o+1,trashIt:function(){r(e),l(!0)},editIt:function(){i(m)},title:m.assetType,content:x};a.push(y)})),o(null===a||void 0===a?void 0:a.reverse())},C=function(e){var n=e.docID,t=e.reset,o=(0,j.a1)(n),x=o.data,y=o.isError,b=o.error,g=o.isLoading,D=(0,s.useState)(""),L=(0,l.Z)(D,2),w=L[0],S=L[1];return(0,s.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var n,t,r,l,o,s,a,u,c,d,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===x||void 0===x||null===(n=x[0])||void 0===n?void 0:n.media,l=k().decompressFromUTF16(r),e.next=4,(0,P.Y)(l);case 4:if(o=e.sent){for(a=atob(null===o||void 0===o?void 0:o.split("base64,")[1]),u=new Array(a.length),c=0;c<a.length;c++)u[c]=a.charCodeAt(c);d=new Uint8Array(u),v=new Blob([d],{type:null===(s=x[0])||void 0===s?void 0:s.type}),t=URL.createObjectURL(v),S({blobUrl:t,selectedforpreview:x,fileName:null===x||void 0===x?void 0:x.name,mediaData:o})}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();x&&e()}),[x]),(0,I.jsx)(Z(),{children:(0,I.jsxs)(a.Z,{open:!!n,onClose:function(){return t()},fullWidth:!0,children:[(0,I.jsx)(u.Z,{children:(0,I.jsxs)(d.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,I.jsx)(d.ZP,{item:!0,children:"Preview Attachment"}),(0,I.jsx)(d.ZP,{item:!0,xs:!0}),(0,I.jsx)(d.ZP,{item:!0,children:(0,I.jsx)(f.Z,{onClick:function(){return t()},children:(0,I.jsx)(h.Z,{})})})]})}),(0,I.jsx)(c.Z,{children:y?(0,I.jsx)(v.Z,{children:b}):g||null===w||void 0===w||!w.blobUrl?(0,I.jsx)(m.Z,{display:"flex",justifyContent:"center",alignItems:"center",height:450,children:(0,I.jsx)(p.Z,{})}):(0,I.jsx)(m.Z,{height:400,children:(0,I.jsx)("iframe",{style:{height:"100%",width:"100%"},title:null===w||void 0===w?void 0:w.fileName,src:null===w||void 0===w?void 0:w.blobUrl})})})]})})}},77911:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var i=t(93433),r=t(74165),l=t(1413),o=t(15861),s=t(29439),a=t(47313),u=t(64162),c=t.n(u),d=t(9506),v=t(19641),f=t(57775),m=t(51057),p=t(35898),h=t(71003),x=t(73675),y=t(39500),Z=t(81800),b=t(13798),g=t(35192),j=t(63709),D=t(57798),k=t(79428),P=t(61474),I=t(29748),L=t(50850),w=t(47605),S=t(54727),C=t(46417),E=function(e){var n=e.nomineeList,t=e.preview,i=e.editItemFunc,r=e.setdeleteID,l=e.setopen,o=e.setliabilityList,s=e.liabilityListAPI,a=[];s.forEach((function(e,o){var s,u,c,d,f=e.liabilities,m="";(null===f||void 0===f||null===(s=f.nominees)||void 0===s?void 0:s.length)&&f.nominees.forEach((function(e,t){var i=n.filter((function(n){return n._id===e.id}));i.length&&(t===f.nominees.length-1?m+=i[0].name:m="".concat(m+i[0].name,", "))}));var p=null,h=(0,C.jsxs)(v.ZP,{container:!0,columnSpacing:1,children:[(0,C.jsx)(v.ZP,{item:!0,display:"flex",sm:4,xs:12,children:(0,C.jsxs)(v.ZP,{container:!0,children:[(0,C.jsx)(v.ZP,{item:!0,xs:4,children:(0,C.jsx)(w.Z,{borderRadius:1,textAlign:"center",height:"max-cotent",bgcolor:"primary.link",color:"white",padding:.1,sx:{mr:1,cursor:"pointer"},onClick:function(){return i(e)},children:"EDIT"})}),(0,C.jsx)(v.ZP,{item:!0,xs:4,children:(0,C.jsx)(w.Z,{borderRadius:1,textAlign:"center",height:"max-cotent",bgcolor:"primary.danger",color:"white",padding:.1,sx:{mr:1,cursor:"pointer"},onClick:function(){r(e),l(!0)},children:"DELETE"})})]})}),null===f||void 0===f||null===(u=f.liabilityDetails)||void 0===u?void 0:u.map((function(e,n){if("Remarks"===e.key&&e.val)return p=n,"";if(""!==e.val){var i,r=e.val;if("File"===e.type){var l=e.val.split("#~#");r=(0,C.jsx)("u",{children:(0,C.jsx)("span",{style:{color:"blue",cursor:"pointer"},onClick:function(){return t(l[2])},children:l[0]})})}return(0,C.jsx)(v.ZP,{item:!0,sm:4,xs:12,children:(0,C.jsxs)(v.ZP,{container:!0,children:[(0,C.jsx)(v.ZP,{item:!0,xs:5,children:(0,C.jsx)(w.Z,{children:e.key&&(null===(i=e.key.split("*"))||void 0===i?void 0:i[0])})}),(0,C.jsx)(v.ZP,{item:!0,xs:7,children:(0,C.jsxs)(w.Z,{children:[": ","Date"===e.type?(0,S.p6)(r):r]})})]})},n+e.key)}return""})),(0,C.jsx)(v.ZP,{item:!0,sm:4,xs:12,children:(0,C.jsxs)(v.ZP,{container:!0,children:[(0,C.jsx)(v.ZP,{item:!0,xs:5,children:(0,C.jsx)(w.Z,{children:"Nominees"})}),(0,C.jsx)(v.ZP,{item:!0,xs:7,children:(0,C.jsxs)(w.Z,{children:[": ",m]})})]})}),p&&(0,C.jsx)(v.ZP,{item:!0,sm:4,xs:12,children:(0,C.jsxs)(v.ZP,{container:!0,children:[(0,C.jsx)(v.ZP,{item:!0,xs:5,children:(0,C.jsx)(w.Z,{children:(null===f||void 0===f?void 0:f.liabilityDetails[p].key)&&(null===f||void 0===f||null===(c=f.liabilityDetails[p].key.split("*"))||void 0===c?void 0:c[0])})}),(0,C.jsx)(v.ZP,{item:!0,xs:7,children:(0,C.jsxs)(w.Z,{children:[": ",null===f||void 0===f||null===(d=f.liabilityDetails[p])||void 0===d?void 0:d.val]})})]})})]}),x={id:o+1,trashIt:function(){r(e),l(!0)},editIt:function(){i(f)},title:f.liabilityType,content:h};a.push(x)})),o(null===a||void 0===a?void 0:a.reverse())},A=t(97729),T=t(36936),F=t(23317),N=t(71147),O=t(72845),R=t(54285),B=function(e){var n,t,u,w=(0,a.createRef)(),B=(0,R.Z)().setSnack,U=(0,F.Yy)(),q=U.data,_=U.isFetching,M=U.isError,J=(0,T.mB)().data,G=(0,F.BS)(),Q=(0,s.Z)(G,2),z=Q[0],Y=Q[1],V=(0,F.iB)(),W=(0,s.Z)(V,2),H=W[0],K=W[1],$=(0,F.c9)(),X=(0,s.Z)($,1)[0],ee=(0,O.Q7)(),ne=(0,s.Z)(ee,1)[0],te=(0,O.mo)(),ie=(0,s.Z)(te,1)[0],re=(0,j.v9)(N.Jy),le=JSON.parse(sessionStorage.getItem("dropdowns")).liabilityOption,oe=JSON.parse(sessionStorage.getItem("logInUserData")),se=Object.keys(le).map((function(e){var n,t;return{value:e,label:null!==(n=null===re||void 0===re||null===(t=re.colorOption)||void 0===t?void 0:t[e])&&void 0!==n?n:e}})),ae=(0,a.useState)([]),ue=(0,s.Z)(ae,2),ce=ue[0],de=ue[1],ve=(0,a.useState)(""),fe=(0,s.Z)(ve,2),me=fe[0],pe=fe[1],he=(0,a.useState)(!1),xe=(0,s.Z)(he,2),ye=xe[0],Ze=xe[1],be=(0,a.useState)(!1),ge=(0,s.Z)(be,2),je=ge[0],De=ge[1],ke=(0,a.useState)(null),Pe=(0,s.Z)(ke,2),Ie=Pe[0],Le=Pe[1],we=(0,a.useState)(""),Se=(0,s.Z)(we,2),Ce=Se[0],Ee=Se[1],Ae=(0,a.useState)(""),Te=(0,s.Z)(Ae,2),Fe=Te[0],Ne=Te[1],Oe=(0,a.useState)([]),Re=(0,s.Z)(Oe,2),Be=Re[0],Ue=Re[1],qe=(0,a.useState)(""),_e=(0,s.Z)(qe,2),Me=_e[0],Je=_e[1],Ge=(0,a.useState)(!1),Qe=(0,s.Z)(Ge,2),ze=Qe[0],Ye=Qe[1],Ve=(0,a.useState)([]),We=(0,s.Z)(Ve,2),He=We[0],Ke=We[1],$e=(0,a.useState)(!1),Xe=(0,s.Z)($e,2),en=Xe[0],nn=Xe[1],tn=(0,a.useState)(),rn=(0,s.Z)(tn,2),ln=rn[0],on=rn[1],sn=(0,a.useState)([]),an=(0,s.Z)(sn,2),un=an[0],cn=an[1],dn=(0,a.useState)(""),vn=(0,s.Z)(dn,2),fn=vn[0],mn=vn[1],pn=(0,a.useState)(!1),hn=(0,s.Z)(pn,2),xn=hn[0],yn=hn[1],Zn=(0,a.useState)(""),bn=(0,s.Z)(Zn,2),gn=bn[0],jn=bn[1],Dn=(0,a.useState)(null),kn=(0,s.Z)(Dn,2),Pn=kn[0],In=kn[1],Ln=(0,a.useState)(!0),wn=(0,s.Z)(Ln,2),Sn=wn[0],Cn=wn[1],En=(0,a.useState)([{value:"Add Nominee",label:"Add Nominee"}]),An=(0,s.Z)(En,2),Tn=An[0],Fn=An[1];(0,a.useEffect)((function(){var e;(null!==Y&&void 0!==Y&&Y.isSuccess&&(zn(),Yn(),B({msg:"Liability added successfully",severity:"success"})),null!==Y&&void 0!==Y&&Y.isError)&&B({msg:null!==(e=Y.error)&&void 0!==e?e:"Something went wrong!",severity:"error"});null!==Y&&void 0!==Y&&Y.isLoading&&console.log("isLoading")}),[Y]),(0,a.useEffect)((function(){var e,n,t;(null!==K&&void 0!==K&&K.isSuccess&&(zn(),Yn(),B({msg:"Liability updated successfully",severity:"success"})),null!==K&&void 0!==K&&K.isError)&&B({msg:null!==(e=null===K||void 0===K||null===(n=K.error)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.messages)&&void 0!==e?e:"Something went wrong!",severity:"error"});null!==K&&void 0!==K&&K.isLoading&&console.log("isLoading")}),[K]),(0,a.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(q.map(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l.Z,e.t1=(0,l.Z)({},n),e.t2={},e.t3=JSON,e.next=6,(0,A.Y)(n.liabilities);case 6:return e.t4=e.sent,e.t5=e.t3.parse.call(e.t3,e.t4),e.t6={liabilities:e.t5},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t6));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 2:null!==(n=e.sent)&&void 0!==n&&n.length&&E({nomineeList:J,preview:function(e){return pe(e)},editItemFunc:Vn,setdeleteID:Le,setopen:Ze,setliabilityList:Ue,liabilityListAPI:n}),de(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();null!==q&&void 0!==q&&q.length&&null!==J&&void 0!==J&&J.length&&e()}),[q,J]),(0,a.useEffect)((function(){if(null!==J&&void 0!==J&&J.length){var e=[{value:"Add Nominee",label:"Add Nominee"}];J.forEach((function(n){var t={value:n._id,label:"".concat(n.name," - ").concat(n.relation)};e.push(t)})),Fn(e)}}),[J]);var Nn=function(){nn(!en)},On=function(e,n){var t,i;"File"===e.type&&on(null===(i=n.target)||void 0===i?void 0:i.files[0]);var r=null!==(t=n.target.value)&&void 0!==t?t:"",l=un,o=un.findIndex((function(n){return n.key===e.key}));r.length<250&&(l[o].val=r,cn(l),De(!je),Rn())},Rn=function(){var e=!1;un.forEach((function(n){n.mandatory&&!n.val.trim()&&(e=!0)})),Cn(e)},Bn=function(e){return new Promise((function(n,t){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){return n(i.result)},i.onerror=function(e){return t(e)}}))},Un=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,i,l,o,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],(i={}).user=null===oe||void 0===oe?void 0:oe._id,i.type="Liability",e.next=6,(0,A.Gf)(n.name);case 6:return i.alias=e.sent,e.next=9,Bn(n);case 9:return l=e.sent,e.next=12,(0,A.Gf)(l);case 12:return o=e.sent,s=c().compressToUTF16(o),t.push({media:s,name:n.name,type:n.type,user:null===oe||void 0===oe?void 0:oe._id}),i.attachment=t,e.next=18,ne(i);case 18:return a=e.sent,e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),qn=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fn&&!ln&&un.forEach((function(e){"Attachments"===e.key&&(e.val="")})),t={liabilityType:Me,liabilityDetails:(0,k.OQ)(un),nominees:He,liabilityId:gn},i=[],Pn.nominees.forEach((function(e){-1===He.findIndex((function(n){return n.id===e.id}))&&(e.objectid=gn,i.push(e))})),Jn({payload:t,nominees:He,deletednominee:i});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),_n=function(e){e.preventDefault(),yn(!1);var n=un.findIndex((function(e){return"File"===e.type}));n>=0&&ln?""!==un[n].val?Un(ln).then(function(){var t=(0,o.Z)((0,r.Z)().mark((function t(i){var l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,A.Y)(i.data.alias);case 2:l=t.sent,un[n].val="".concat(l,"#~#").concat(i.data._id,"#~#").concat(i.data.attachment[0]),cn(un),qn(e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){var n;B({msg:(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)||"error",severity:"error"})})):qn(e):qn(e)},Mn=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,i,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.nominees,i=n.payload,e.prev=1,e.t0=null===oe||void 0===oe?void 0:oe._id,e.next=5,(0,A.Gf)(JSON.stringify(i));case 5:e.t1=e.sent,l={userId:e.t0,liabilities:e.t1},null!==t&&void 0!==t&&t.length&&(l.nominees=t),z(l),fn&&ie(fn),e.next=15;break;case 12:e.prev=12,e.t2=e.catch(1),B({msg:e.t2||"error",severity:"error"});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n){return e.apply(this,arguments)}}(),Jn=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,i,l,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.payload,i=n.nominees,l=n.deletednominee,e.prev=1,e.t0=null===oe||void 0===oe?void 0:oe._id,e.t1=gn,e.next=6,(0,A.Gf)(JSON.stringify(t));case 6:e.t2=e.sent,o={userId:e.t0,liabilityId:e.t1,liabilities:e.t2},l&&(o.deletednominee=l),null!==i&&void 0!==i&&i.length&&(o.nominees=i),H(o),fn&&ie(fn),e.next=17;break;case 14:e.prev=14,e.t3=e.catch(1),B({msg:e.t3||"error",severity:"error"});case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(n){return e.apply(this,arguments)}}(),Gn=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={liabilityType:Me,liabilityDetails:(0,k.OQ)(un),nominees:He},He.forEach((function(e){e.objectid=n.id})),Mn({payload:n,nominees:He});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qn=function(e){e.preventDefault();var n=un.findIndex((function(e){return"File"===e.type}));n>=0?""!==un[n].val?Un(ln).then(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,A.Y)(t.data.alias);case 2:i=e.sent,un[n].val="".concat(i,"#~#").concat(t.data._id,"#~#").concat(t.data.attachment[0]),cn(un),Gn();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){var n;B({msg:(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)||"error",severity:"error"})})):Gn():Gn()},zn=function(){ce&&E({nomineeList:J,preview:function(e){return pe(e)},editItemFunc:Vn,setdeleteID:Le,setopen:Ze,setliabilityList:Ue,liabilityListAPI:ce}),Je(""),mn(""),on(""),cn([]),Ke([]),xn&&Cn(!0)},Yn=function(){Ee(""),Ne(""),w.current&&w.current.select.clearValue()},Vn=function(e){var n=e.liabilities;Cn(!0);var t=n.liabilityDetails,r=n.liabilityType,l=n.nominees;Je(r),yn(!0),jn(e.liabilityId),In(n),cn(t),Ke((0,i.Z)(l))},Wn=function(){var e={value:"",label:""};return se.forEach((function(n){n.value===Me&&(e=n)})),e};return(0,C.jsxs)(d.Z,{children:[me&&(0,C.jsx)(L.zV,{docID:me,reset:function(){return pe("")}}),(0,C.jsx)(y.Z,{handleConfirm:function(){!function(e){var n=e.liabilities,t=n.liabilityDetails,i=n.nominees;t.filter((function(e){return"File"===e.type})).forEach((function(e){var n=e.val.split("#~#");(null===n||void 0===n?void 0:n[1])&&ie({deleteId:n[1]})})),X({liabilityId:e.liabilityId,nominees:i})}(Ie),Ze(!1)},isOpen:ye,closeModal:function(){return Ze(!1)}}),ze&&(0,C.jsx)(I.Z,{handleSidebar:function(){return Ye(!1)}}),(0,C.jsxs)(v.ZP,{container:!0,spacing:2,sx:{p:2},children:[(0,C.jsx)(v.ZP,{item:!0,xs:12,md:9,lg:9,children:(0,C.jsx)(f.Z,{children:(0,C.jsxs)(m.Z,{children:[(0,C.jsx)(D.ll,{title:xn?"Edit Liability Details":"Add New Liability"}),(0,C.jsxs)(v.ZP,{rowSpacing:.01,container:!0,spacing:1,children:[(0,C.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,C.jsx)(P.gc,{id:"liabilityID",name:"liability",isDisabled:xn,options:se,onChange:function(e,n){return function(e){var n;Cn(!0),(0,k.L9)(),Ee(""),Ne(""),Ke([]),on(""),Je(null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:void 0),cn(e?le[e.value]:{})}(n)},value:Wn(),renderInput:function(e){var n;return(0,C.jsx)(x.Z,(0,l.Z)((0,l.Z)({},e),{},{label:xn?Wn().value:null!==(n=null===re||void 0===re?void 0:re.liabilityOptionText)&&void 0!==n?n:"Liability Type"}))}})}),(0,C.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,C.jsx)(P.gc,{isMulti:!0,name:"nominee",id:"nomineeId",onChange:function(e,n){return function(e){xn&&Cn(!1);var n=[];(null===e||void 0===e?void 0:e.length)&&e.forEach((function(e){"Add Nominee"===e.value?Ye(!0):n.push({id:e.value,name:e.label})})),Ke([].concat(n))}(n)},autoComplete:!1,options:null===Tn||void 0===Tn?void 0:Tn.filter((function(e){return!He.some((function(n){return n.id===e.value}))})),value:He.map((function(e){var n=Tn.filter((function(n){return n.value===e.id}));return{value:n[0].value,label:n[0].label}})),renderInput:function(e){var n;return(0,C.jsx)(x.Z,(0,l.Z)((0,l.Z)({},e),{},{label:null!==(n=null===re||void 0===re?void 0:re.nomineeOption)&&void 0!==n?n:"Nominee(s)"}))}})}),Object.keys(le).includes(Me)&&un.map((function(e,n){return(0,C.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:"Attachments"!==e.key?(0,C.jsxs)(C.Fragment,{children:[e.deletable&&(0,C.jsx)(g.Z,{size:15,onClick:function(){return function(e){xn&&Cn(!1);var n=un.filter((function(n){return e.key!==n.key}));cn(n)}(e)}}),(0,C.jsx)(x.Z,{type:e.type,onKeyPress:function(n){"number"===e.type.toLowerCase()&&((0,S.ZP)(n),function(e){var n=(null===e||void 0===e?void 0:e.keyCode)||(null===e||void 0===e?void 0:e.which),t=document.getElementById("liabSubmit");13===n&&t&&!t.disabled&&(xn?_n(e):Qn(e))}(n))},name:e.key,id:e.id,rows:"1",label:e.key,max:"9999-12-31",min:"1900-01-01",value:"File"!==e.type?e.val:null,onChange:function(n){return On(e,n)}})]}):xn&&!fn&&e.val.split("#~#")[1]?(0,C.jsxs)("div",{children:[(0,C.jsx)(g.Z,{style:{position:"absolute",right:"-5px",top:"-7px"},size:15,onClick:function(){mn(e.val.split("#~#")[1])}}),(0,C.jsx)("span",{style:{color:"blue",cursor:"pointer"},onClick:function(){pe(e.val.split("#~#")[2])},children:e.val.split("#~#")[0]})]}):(0,C.jsx)(x.Z,{label:"",fullWidth:!0,type:e.type,size:"small",value:null,id:"fileAtt",onChange:function(n){On(e,n)}})},n)}))]}),(0,C.jsxs)(p.Z,{direction:"row",spacing:3,sx:{mt:3},justifyContent:"end",children:[Me&&(0,C.jsx)(h.Z,{onClick:Nn,children:"Add Custom Field"}),(0,C.jsx)(P.ZP,{varient:"outlined",label:xn?"Cancel":null!==(n=null===re||void 0===re?void 0:re.resetButton)&&void 0!==n?n:"Reset",onClick:function(e){yn(!1),zn()}}),(0,C.jsx)(P.ZP,{varient:"contained",id:"assetSubmit",isLoading:(null===Y||void 0===Y?void 0:Y.isLoading)||(null===K||void 0===K?void 0:K.isLoading),label:xn?"Update":null!==(t=null===re||void 0===re?void 0:re.submitButton)&&void 0!==t?t:"Add",disabled:!fn&&(0===He.length||!Me||Sn),onClick:function(e){xn?_n(e):Qn(e)}})]})]})})}),(0,C.jsx)(Z.Z,{}),(0,C.jsx)(v.ZP,{item:!0,xs:12,md:9,lg:9,sx:{pt:2,pl:2},children:(0,C.jsx)(b.ZP,{heading:null!==(u=null===re||void 0===re?void 0:re.textList)&&void 0!==u?u:"Liabilities List",isLoading:_||(null===Y||void 0===Y?void 0:Y.isLoading),error:M,collapseItems:Be,colorOption:null===re||void 0===re?void 0:re.colorOption1,assetShow:!0})})]}),(0,C.jsx)(L.Id,{modal:en,fname:Ce,ftype:Fe,addfield:function(){if(""!==Me){var e=un,n=e.length,t="";e.findIndex((function(e){return e.key===Ce}))>=0&&B({msg:"Field Already Exist! Please add new field",severity:"error"}),"Attachments"===un[n-1].key?(t=e[n-1],e[n-1]={key:Ce,val:"",type:Fe,deletable:!0},e.push(t),cn(e),Ee(""),Ne("")):(e.push({key:Ce,val:"",type:Fe,deletable:!0}),cn(e),Ee(""),Ne("")),Nn()}},messages:re,setfname:Ee,setftype:Ne,assetType:Me,toggleModal:Nn,selectCustomRef:w,clearCustomField:Yn})]})}},13798:function(e,n,t){t.d(n,{GR:function(){return m},UB:function(){return f}});var i=t(29439),r=t(47313),l=t(47605),o=t(57775),s=t(19536),a=t(51057),u=t(57798),c=t(1087),d=t(18825),v=t(46417);n.ZP=function(e){var n,t,f=(0,r.useState)(""),m=(0,i.Z)(f,2),p=m[0],h=m[1],x=null===(n=JSON.parse(sessionStorage.getItem("logInUserData")))||void 0===n?void 0:n.assets,y=null===(t=JSON.parse(sessionStorage.getItem("logInUserData")))||void 0===t?void 0:t.liabilities,Z=(0,r.useState)([]),b=(0,i.Z)(Z,2),g=b[0],j=b[1],D=(0,r.useState)(),k=(0,i.Z)(D,2),P=k[0],I=k[1],L=e.collapseItems,w=e.colorOption,S=function(e){return null!==w&&void 0!==w&&w[e]?w[e]:e},C=function(e){h(p!==e?e:"")},E=(null===P||void 0===P?void 0:P.length)>0?g:L,A=e.isLoading?(0,v.jsx)(u.$j,{}):e.error?(0,v.jsx)(l.Z,{children:e.error}):E.length>0?E.map((function(e){return(0,v.jsx)(r.Fragment,{children:(0,v.jsx)(c.Z,{collapseID:p,setcollapseID:h,collapseItem:e,formatme:S,toggleCollapse:C})},e.id)})):(0,v.jsx)(l.Z,{style:{fontSize:"14px",marginTop:"-10px"},children:"No Data Found"});return(0,v.jsxs)(o.Z,{children:[(0,v.jsx)(d.z,{heading:e.heading,search:function(n){I(n);var t=L.filter((function(t){var i,r,l=(e.assetShow?null===(i=y[t.id-1])||void 0===i?void 0:i.liabilityDetails:null===(r=x[t.id-1])||void 0===r?void 0:r.assetDetails).filter((function(e){var t=e.val.toLowerCase().startsWith(n.toLowerCase()),i=e.val.toLowerCase().includes(n.toLowerCase());return!(!t&&!i)})),o=t.title.toLowerCase().startsWith(n.toLowerCase()),s=t.title.toLowerCase().includes(n.toLowerCase());return!!(o||s||l.length>0)}));j(t)}}),(0,v.jsx)(s.Z,{}),(0,v.jsx)(a.Z,{children:A})]})};var f=["Lendor Details","Card Details *","Account Details","EMI Details *","Loan Details*","Scheme Details","Payments Details *","Amount","Amount *","Liability Name","Scheme Details *","Remarks"],m=["Bank Name","Debtor Name","Details","Currency Details","Depositor","Depositor *","Account Details","Account Details *","Bank Name *","Debtor Name *","Investment Firm *","Policy Number *","Amount *","Amount / Quantity","Policy Number","Property Type","Property Area","Retirals Details *","Amount","Remarks"]}}]);