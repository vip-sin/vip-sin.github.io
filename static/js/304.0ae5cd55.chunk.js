"use strict";(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[304],{1087:function(e,t,n){n.d(t,{Z:function(){return l}});n(47313);var i=n(44623),a=n(36186),s=n(39338),r=n(6306),o=n(46417);function l(e){var t=e.collapseID,n=(e.setcollapseID,e.collapseItem),l=e.formatme,c=e.toggleCollapse;return(0,o.jsxs)(i.Z,{expanded:t===n.id,onChange:function(){return c(n.id)},children:[(0,o.jsx)(s.Z,{expandIcon:(0,o.jsx)(r.Z,{}),children:l(n.title)}),(0,o.jsx)(a.Z,{children:n.content})]})}},39995:function(e,t,n){n(47313);var i=n(51268),a=n.n(i),s=n(19641),r=n(87124),o=n(86240),l=n(46417);function c(e){return(0,l.jsx)(r.Z,{component:"img",image:e.item.img,alt:e.item.label})}t.Z=function(e){var t=[{label:"Random Name #1",description:"Probably !",img:o.oX},{label:"Random Name #2",description:"Hello World!",img:o.XL},{label:"Random Name #3",description:"Probably !",img:o.Ev},{label:"Random Name #4",description:"Hello World!",img:o.yc},{label:"Random Name #5",description:"Hello World!",img:o.Ye}];return(0,l.jsx)(s.ZP,{item:!0,xs:4,sx:{display:"flex",justifyContent:"center"},children:(0,l.jsx)(a(),{stopAutoPlayOnHover:!0,navButtonsAlwaysInvisible:!0,swipe:!0,height:160,sx:{alignItems:"center",width:"250px"},animation:"fade",children:t.map((function(e,t){return(0,l.jsx)(c,{item:e},t)}))})})}},71639:function(e,t,n){n.d(t,{RS:function(){return P},fh:function(){return S},zY:function(){return C}});var i=n(1413),a=n(93433),s=n(29439),r=n(47313),o=n(30712),l=n(13760),c=n(80614),d=n(47605),u=n(35898),h=n(19641),m=n(57775),x=n(51057),p=n(56605),v=n(19536),f=n(39995),g=n(86240),Z=n(61474),j=n(63861),b=n(46417),S=function(e){var t=(0,r.useState)(e.file?e.file:[]),n=(0,s.Z)(t,2),h=n[0],m=n[1],x=(0,c.uI)({maxFiles:e.notMulti?1:5,multiple:!e.notMulti,onDrop:function(t){if(1===e.notMulti)e.setfilesOndrop(t),m(t.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})));else{if((h.length?h.filter((function(e){var n;return(null===e||void 0===e?void 0:e.name)===(null===(n=t[0])||void 0===n?void 0:n.name)})):[]).length)return(0,b.jsx)(j.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"File already added"});e.setfilesOndrop([].concat((0,a.Z)(h),(0,a.Z)(t))),m([].concat((0,a.Z)(h),(0,a.Z)(t)))}}}),p=x.getInputProps,v=x.open,f=null===h||void 0===h?void 0:h.map((function(t){return(0,b.jsxs)(d.Z,{children:["".concat(t.name.length>15?"".concat(t.name.slice(0,15),"..."):t.name),(0,b.jsx)(o.Z,{size:15,onClick:function(n){n.stopPropagation(),function(t){e.isMulti?m(h.filter((function(e){return e!==t}))):m([])}(t)}})]},t.name)}));return(0,r.useEffect)((function(){return function(){h.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[h]),(0,r.useEffect)((function(){e.resetDropzone&&m([])}),[e.resetDropzone]),(0,b.jsxs)(u.Z,{onClick:v,children:[(0,b.jsx)(j.nv,(0,i.Z)({},p())),(0,b.jsxs)(d.Z,{sx:{display:"flex",border:"2px solid lightgray",padding:"1rem"},children:[f.length>0?(0,b.jsx)("aside",{children:f}):"Drag `n` drop Or Browse",(0,b.jsx)(l.Z,{})]})]})},y=[{value:"Asset",label:"Asset"},{value:"Expenses",label:"Expenses"},{value:"Vault",label:"Document Vault"},{value:"Liability",label:"Liability"},{value:"Postman",label:"Postman"}],C=function(e){var t=e.alias,n=e.setalias,i=e.expiry,a=e.setexpiry,s=e.desc,o=e.setdesc,l=e.handleReset,c=e.isDisabled,d=e.submitDropzone,p=e.setfilesOndrop,v=e.resetDropzone;return(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(h.ZP,{item:!0,xs:12,sm:8,children:(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(j.ll,{title:"Upload any file, scans, documents"}),(0,b.jsxs)(x.Z,{children:[(0,b.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,b.jsx)(h.ZP,{item:!0,xs:12,sm:6,children:(0,b.jsx)(j.nv,{margin:"dense",name:"AttachmentName",id:"AttachmentName",placeholder:"Attachment Name / Alias",value:t,onChange:function(e){var t;return n(null===(t=e.target.value)||void 0===t?void 0:t.trim())}})}),(0,b.jsx)(h.ZP,{item:!0,xs:12,sm:6,children:(0,b.jsx)(j.nv,{margin:"dense",type:"Date",name:"Date",id:"nameMultiExpiry",placeholder:"Expiry Date",min:(0,g.BZ)(),max:"9999-12-31",value:i,onChange:function(e){return a(e.target.value)}})}),(0,b.jsx)(h.ZP,{item:!0,xs:12,sm:6,children:(0,b.jsx)(j.nv,{margin:"dense",type:"textarea",name:"name1",id:"nameMultiDescription1",placeholder:"Description",value:s,onChange:function(e){var t;return o(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)}})}),(0,b.jsx)(h.ZP,{item:!0,xs:12,sm:6,children:(0,b.jsx)(S,{setfilesOndrop:p,resetDropzone:v,isMulti:!0,notMulti:!1})})]}),(0,b.jsxs)(u.Z,{direction:"row",spacing:3,sx:{mt:3},justifyContent:"end",children:[(0,b.jsx)(Z.ZP,{varient:"outlined",label:"Reset",onClick:function(){return l()}}),(0,b.jsx)(Z.ZP,{varient:"contained",label:"Add",disabled:c,onClick:function(e){d(e)}})]})]})]})}),(0,b.jsx)(f.Z,{})]})},P=function(e){var t,n=e.filter,a=e.handleFilter,s=e.search,r=e.columns,o=e.searchresult;return(0,b.jsxs)(m.Z,{sx:{minHeight:"300px"},children:[(0,b.jsxs)(h.ZP,{container:!0,justifyContent:"space-between",sx:{p:2},spacing:2,alignItems:"center",children:[(0,b.jsx)(h.ZP,{item:!0,lg:4,xs:12,children:(0,b.jsx)(d.Z,{variant:"secondary",component:"h3",children:"Documents List"})}),(0,b.jsx)(h.ZP,{item:!0,lg:4,xs:6,children:(0,b.jsx)(Z.gc,{isMulti:!0,id:"optionSelect",onChange:function(e,t){return a(t)},options:y,value:n.map((function(e){var t=y.filter((function(t){return t.value===e.id}));return{value:t[0].value,label:t[0].label}})),renderInput:function(e){return(0,b.jsx)(j.nv,(0,i.Z)((0,i.Z)({},e),{},{placeholder:"Select Category"}))}})}),(0,b.jsx)(h.ZP,{item:!0,lg:4,xs:6,children:(0,b.jsx)(p.Z,{type:"text",onChange:function(e){return s(e.target.value)},placeholder:"Search",fullWidth:!0})})]}),(0,b.jsx)(v.Z,{}),(0,b.jsx)(x.Z,{children:(0,b.jsx)(j.Gn,{columns:r,rows:null!==o&&void 0!==o&&o.length?o:null!==(t=e.documentList)&&void 0!==t&&t.length?e.documentList:[]})})]})}},25240:function(e,t,n){var i=n(29439),a=n(42357),s=n(47313),r=n(19641),o=n(57775),l=n(51057),c=n(47605),d=n(29917),u=n(61474),h=n(46417);t.Z=function(e){var t=(0,s.useState)("00"),n=(0,i.Z)(t,2),m=n[0],x=n[1],p=(0,s.useState)("00"),v=(0,i.Z)(p,2),f=v[0],g=v[1],Z=(0,s.useState)(!1),j=(0,i.Z)(Z,2),b=j[0],S=j[1],y=(0,s.useState)(0),C=(0,i.Z)(y,2),P=C[0],D=C[1];(0,s.useEffect)((function(){var e;return b&&(e=setInterval((function(){var e=P%60,t=Math.floor(P/60),n=1===String(e).length?"0".concat(e):e,i=1===String(t).length?"0".concat(t):t;x(n),g(i),D((function(e){return e+1}))}),650)),function(){return clearInterval(e)}}),[b,P]);var R=(0,a.useReactMediaRecorder)({video:!1,audio:!0,echoCancellation:!0,onStop:function(t,n){console.log(n),function(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))}(n).then((function(t){e.setRecVideo(t)}))}}),w=R.status,A=R.startRecording,k=R.stopRecording,L=R.pauseRecording,I=R.clearBlobUrl,M=R.mediaBlobUrl;return(0,h.jsx)(r.ZP,{item:!0,xs:12,sm:6,children:(0,h.jsxs)(o.Z,{variant:"outlined",children:[(0,h.jsxs)(l.Z,{children:[(0,h.jsxs)(c.Z,{sx:{background:"#f1f3f4"},borderRadius:"50px",padding:"15px",marginBottom:1,children:["Recording Status : ",w]}),(M||e.recVideo)&&(0,h.jsx)("audio",{style:{width:"100%"},src:M||e.recVideo,controls:!0}),(0,h.jsxs)(c.Z,{margin:"auto",border:" #cccccc",boxShadow:"0 0 0 0.06rem #cccccc",borderRadius:"2px",padding:"2px",width:"max-content",children:[f," : ",m]})]}),(0,h.jsxs)(d.Z,{sx:{justifyContent:"center"},children:[(0,h.jsx)(u.ZP,{varient:"contained",label:b?"Pause":"paused"===w?"Resume":"Start",onClick:function(){b?L():A(),S(!b)}}),(0,h.jsx)(u.ZP,{varient:"outlined",label:"Stop",onClick:function(){k(),S(!1)}}),(0,h.jsx)(u.ZP,{varient:"outlined",label:"Clear",onClick:function(){S(!1),D(0),x("00"),g("00"),I(),S(!1)}})]})]})})}},94304:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var i=n(74165),a=n(15861),s=n(29439),r=n(47313),o=n(9506),l=n(19641),c=n(66135),d=n(31881),u=n.n(d),h=n(63861),m=n(46417),x=sessionStorage.getItem("authtoken"),p=function(){if(JSON.parse(sessionStorage.getItem("logInUserData"))){var e=sessionStorage.getItem("logInUserData")?JSON.parse(sessionStorage.getItem("logInUserData")):{};return function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"LOAD_MSG"}),t.next=3,u().get("/backendapi/sender/getlist/".concat(e._id),{headers:{Authorization:"Bearer ".concat(x)}}).then((function(e){n({type:"GET_MSG",getmesssages:e.data})})).catch((function(e){n({type:"ERR_MSG"})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},v=n(51427),f=n(39995),g=n(47605),Z=n(71003),j=n(94469),b=n(33604),S=n(69625),y=n(98668),C=n(87124),P=n(57775),D=n(56605),R=n(51057),w=n(96327),A=n(54727),k=n(1087),L=function(e){var t=(0,r.useState)(!1),n=(0,s.Z)(t,2),i=n[0],a=n[1],c=(0,r.useState)(""),d=(0,s.Z)(c,2),x=d[0],p=d[1],v=(0,r.useState)(""),f=(0,s.Z)(v,2),L=f[0],I=f[1],M=(0,r.useState)(!1),V=(0,s.Z)(M,2),O=V[0],E=V[1],z=(0,r.useState)(),F=(0,s.Z)(z,2),N=F[0],U=F[1],B=(0,r.useState)(!1),_=(0,s.Z)(B,2),T=_[0],G=_[1],W=(0,r.useState)([]),H=(0,s.Z)(W,2),Y=H[0],J=H[1],X=(0,r.useState)(""),$=(0,s.Z)(X,2),K=$[0],q=$[1],Q=(0,r.useState)(),ee=(0,s.Z)(Q,2),te=ee[0],ne=ee[1],ie=function(){a(!i)},ae=function(e){p(x!==e?e:"")},se=function(t){var n;return null!==(n=e.colorOption)&&void 0!==n&&n[t]?e.colorOption[t]:t},re=function(t){var n,i,a="";(null===t||void 0===t||null===(n=t.nominees)||void 0===n?void 0:n.length)&&t.nominees.forEach((function(e,n){n===t.nominees.length-1?a+=null===e||void 0===e?void 0:e.name:a="".concat(a+(null===e||void 0===e?void 0:e.name),", ")}));var s=(0,m.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,m.jsxs)(l.ZP,{item:!0,sm:5,xs:12,children:[(0,m.jsxs)(g.Z,{children:[(0,m.jsx)("b",{children:" Type : "})," ",t.type,(0,m.jsx)("br",{}),(0,m.jsx)("b",{children:" Description : "})," ",t.desc,(0,m.jsx)("br",{}),(0,m.jsx)("b",{children:" Date : "})," ",null!==t&&void 0!==t&&t.date?(0,A.p6)(null===t||void 0===t||null===(i=t.date)||void 0===i?void 0:i.split("T")[0]):"After Death",(null===t||void 0===t?void 0:t.time)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("b",{children:" Time : "})," e.time"]})]}),("Video"===t.type||"Voice"===t.type)&&(0,m.jsx)(Z.Z,{style:{width:"100%",marginTop:"-2px"},onClick:function(){!function(e,t){E(!0),G("Video"===t),ie();var n=sessionStorage.getItem("authtoken");u().get("/backendapi/sender/message/".concat(e),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){var t;if(e.data&&null!==(t=e.data[0])&&void 0!==t&&t.media){for(var n,i,a=null===(n=e.data[0])||void 0===n||null===(i=n.media)||void 0===i?void 0:i.split("base64,"),s=a[0].substring(5,a[0].length-1),r=atob(a[1]),o=new Array(r.length),l=0;l<r.length;l++)o[l]=r.charCodeAt(l);var c=new Uint8Array(o),d=new Blob([c],{type:s}),u=URL.createObjectURL(d);U(u),E(!1)}}))}(t.msg,t.type)},children:"Video"===t.type?"Play Video":"Play Audio"})]}),(0,m.jsx)(l.ZP,{item:!0,sm:5,xs:12,children:(0,m.jsxs)(g.Z,{children:[(0,m.jsx)("b",{children:"Status :"})," ",0===t.status?(0,m.jsx)("span",{children:"Pending"}):1===t.status?(0,m.jsx)("span",{children:"Delivered"}):(0,m.jsxs)("span",{children:["Failed : ",t.failReason]}),(0,m.jsx)("br",{}),(0,m.jsx)("b",{children:"Receiver Name :"})," ",t.rname,(0,m.jsx)("br",{}),(0,m.jsx)("b",{children:"Receiver Email :"})," ",t.remail,(0,m.jsx)("br",{}),(0,m.jsx)("b",{children:"Receiver Phone :"})," ",t.rphone]})}),(0,m.jsxs)(l.ZP,{item:!0,display:"flex",sm:2,xs:12,children:[(0,m.jsx)(g.Z,{sx:{color:"blue",cursor:"pointer"},onClick:function(){return e.editItem(t)},children:"Edit"}),(0,m.jsx)(g.Z,{sx:{mx:1,color:"red",cursor:"pointer"},onClick:function(){q(t._id),I(!0)},children:"Delete"})]})]});return s},oe=(null===te||void 0===te?void 0:te.length)>0?Y:e.collapseItems;return(0,m.jsxs)(o.Z,{children:[(0,m.jsxs)(j.Z,{open:i,onClose:ie,centered:!0,children:[(0,m.jsx)(b.Z,{children:"Message"}),(0,m.jsxs)(S.Z,{children:[O&&(0,m.jsx)(y.Z,{}),!O&&T&&(0,m.jsx)("video",{src:N,controls:!0,autoPlay:!0,width:"100%",height:300}),!O&&!T&&(0,m.jsx)(C.Z,{component:"audio",controls:!0,image:N,autoPlay:!0})]})]}),e.loadingmsg&&null===e.collapseItems?(0,m.jsx)(y.Z,{}):(0,m.jsxs)(P.Z,{children:[(0,m.jsxs)(l.ZP,{container:!0,sx:{px:2.5,py:1},children:[(0,m.jsx)(l.ZP,{item:!0,xs:6,children:(0,m.jsx)(g.Z,{variant:"secondary",component:"h3",children:e.heading})}),(0,m.jsx)(l.ZP,{item:!0,xs:6,children:(0,m.jsx)(D.Z,{onChange:function(t){return function(t){ne(t);var n=e.collapseItems.filter((function(e){var n=e.desc.toLowerCase().startsWith(t.toLowerCase())||e.type.toLowerCase().startsWith(t.toLowerCase())||e.title.toLowerCase().startsWith(t.toLowerCase()),i=e.desc.toLowerCase().includes(t.toLowerCase())||e.type.toLowerCase().includes(t.toLowerCase())||e.title.toLowerCase().includes(t.toLowerCase());return!(!n&&!i)}));J(n)}(t.target.value)},placeholder:"Search"})})]}),(0,m.jsx)(w.Z,{handleConfirm:function(){var t;t=K,u().delete("/backendapi/sender/deletebyid/".concat(t),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){e&&h.A9})).catch(),I(!1),e.refreshData.callFunc(!e.refreshData.value)},isOpen:L,closeModal:function(){return I(!1)}}),(0,m.jsx)(R.Z,{children:(null===oe||void 0===oe?void 0:oe.length)>0?oe.map((function(e){return(0,m.jsx)(r.Fragment,{children:(0,m.jsx)(k.Z,{collapseID:x,setcollapseID:p,collapseItem:{content:re(e),title:null===e||void 0===e?void 0:e.title,id:e._id},formatme:se,toggleCollapse:ae})},e._id)})):(0,m.jsx)("span",{children:"No Messages Found"})})]})]})},I=n(10226),M=n(1413),V=n(69173),O=n(49969),E=n(82363),z=n(25240),F=n(61474),N=n(71639),U=n(86240),B=n(39653),_=[{value:"Attachment",label:"Attachment",color:"#00B8D9",isFixed:!0},{value:"Text",label:"Text",color:"#00B8D9",isFixed:!0},{value:"Voice",label:"Voice",color:"#0052CC",isFixed:!0},{value:"Video",label:"Video",color:"#0052CC",isFixed:!0}],T=function(e){var t,n=e.oldMsg,i=e.rname,a=e.sameAsAbove,c=e.setRecVideo,d=e.rphone,u=e.setrphone,x=e.edititem,p=e.settype,v=e.settitle,f=e.nomineeOption2,g=e.userInput,Z=e.setuserInput,j=e.remail,b=e.setremail,S=e.setdesc,y=e.desc,C=e.type,D=e.title,w=e.setdate,k=e.date,L=e.setsignature,I=e.signature,T=e.handleCheck,G=e.handleReset,W=e.handleSubmit,H=e.validEmail,Y=e.validPhone,J=e.validDate,X=e.recVideo,$=e.setfilesOndrop,K=e.resetDropzone,q=(0,r.useState)(""),Q=(0,s.Z)(q,2),ee=Q[0],te=Q[1],ne=!(null!==i&&void 0!==i&&i.length)||!(null!==d&&void 0!==d&&d.length)||!(null!==j&&void 0!==j&&j.length)||!(null!==C&&void 0!==C&&C.length)||!(null!==D&&void 0!==D&&D.length)||!a&&!(null!==k&&void 0!==k&&k.length)||!H||!Y||!a&&!J||k===(null===n||void 0===n||null===(t=n.date)||void 0===t?void 0:t.split("T")[0])&&y===(null===n||void 0===n?void 0:n.desc)&&i===(null===n||void 0===n?void 0:n.rname)&&j===(null===n||void 0===n?void 0:n.remail)&&d===(null===n||void 0===n?void 0:n.rphone)&&I===(null===n||void 0===n?void 0:n.signature)&&D===(null===n||void 0===n?void 0:n.title),ie=function(e){e.length<=10&&(u(e),null!==e&&void 0!==e&&e.length&&10===e.length&&e.trim()&&A.Yd.test(e)?te(""):te("Enter Valid Contact No."))};return(0,m.jsxs)(P.Z,{children:[(0,m.jsx)(h.ll,{title:x?"Edit Message":"Schedule Message"}),(0,m.jsxs)(R.Z,{children:[(0,m.jsxs)(l.ZP,{container:!0,spacing:1,justifyContent:"center",children:[(0,m.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,m.jsx)(F.gc,{name:"color",options:_,isDisabled:x,onChange:function(e,t){return p(null===t||void 0===t?void 0:t.value)},value:(0,U.NA)(_,C),renderInput:function(e){return(0,m.jsx)(B.Z,(0,M.Z)((0,M.Z)({},e),{},{placeholder:x?C:"Message Type *"}))}})}),(0,m.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,m.jsx)(F.gc,{name:i,options:f,onChange:function(e,t){return Z(t)},value:(0,U.NA)(f,null===g||void 0===g?void 0:g.value),renderInput:function(e){return(0,m.jsx)(B.Z,(0,M.Z)((0,M.Z)({},e),{},{placeholder:"Reciever"}))}})}),C&&(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,m.jsx)(B.Z,{type:"email",id:"remail",placeholder:"Receiver Email *",value:j,onChange:function(e){return b(e.target.value)}})}),(0,m.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,m.jsx)(B.Z,{type:"number",id:"phone",maxLength:10,invalid:!!ee,placeholder:"Receiver Phone *",value:d,onChange:function(e){ie(e.target.value)},onKeyPress:function(e){return(0,A.ZP)(e)}})}),(0,m.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,m.jsx)(B.Z,{id:"title",placeholder:"Subject *",value:D,onChange:function(e){return v(e.target.value)}})}),(0,m.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,m.jsx)(B.Z,{type:"Date",name:"Date",value:k,id:"exampleDate",placeholder:"Enter Date",disabled:!!a,min:(0,U.BZ)(),max:"9999-12-31",onChange:function(e){return w(e.target.value)}})}),"Attachment"===C&&(0,m.jsx)(N.fh,{notMulti:1,setfilesOndrop:$,resetDropzone:K,file:X}),"Voice"===C&&(0,m.jsx)(z.Z,(0,M.Z)({},e)),"Video"===C&&(0,m.jsx)(E.Z,{setRecVideo:c,recVideo:X}),(0,m.jsx)(l.ZP,{item:!0,xs:12,sm:12,children:(0,m.jsx)(B.Z,{type:"textarea",placeholder:"Description",rows:"3",id:"description",value:y,onChange:function(e){return S(e.target.value)}})}),(0,m.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,m.jsx)(B.Z,{type:"textarea",placeholder:"Signature",className:"input-label placeholder ",rows:"1",id:"signature",value:I,onChange:function(e){return L(e.target.value)}})}),(0,m.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,m.jsx)(V.Z,{label:"Deliver after my death",control:(0,m.jsx)(O.Z,{checked:a,onChange:function(){return T()}})})})]})]}),(0,m.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,m.jsx)(F.AG,{label:x?"Cancel":"Reset",handleClick:function(){return G()}}),(0,m.jsx)(F.k4,{label:x?"Update":"Add",handleClick:W,disabled:ne})," "]})]})]})},G=(0,c.$j)((function(e){var t,n=e.dataList,i=e.sender,a=null!==i&&void 0!==i&&null!==(t=i.getmesssages)&&void 0!==t&&t.length?i.getmesssages:[];return{dataList:n,listLoading:n.totalRecordsLoading,messages:a,loadingmsg:i.loadingmsg}}),{scheduleNewMessage:function(e){return function(t){var n=JSON.parse(sessionStorage.getItem("logInUserData"))._id;e.user=n,u().post("/backendapi/sender/schedulenew",e,{headers:{Authorization:"Bearer ".concat(x)}}).then((function(n){t({type:"ADD_MSG",getmesssages:e}),t(p()),h.A9})).catch((function(e){return console.log(e)}))}},getData:v.Yu,editMessage:function(e){return function(t){u().post("/backendapi/sender/update",e,{headers:{Authorization:"Bearer ".concat(x)}}).then((function(n){t({type:"ADD_MSG",getmesssages:[e]}),t(p()),h.A9})).catch((function(e){return console.log(e)}))}},addData:v.Id,getScheduledMessages:p})((function(e){var t,n=r.createRef(),c=(0,r.useState)(""),d=(0,s.Z)(c,2),u=d[0],x=d[1],p=(0,r.useState)(""),v=(0,s.Z)(p,2),g=v[0],Z=v[1],j=(0,r.useState)(!1),b=(0,s.Z)(j,2),S=b[0],y=b[1],C=(0,r.useState)(""),P=(0,s.Z)(C,2),D=P[0],R=P[1],w=(0,r.useState)(""),k=(0,s.Z)(w,2),M=k[0],V=k[1],O=(0,r.useState)(""),E=(0,s.Z)(O,2),z=E[0],F=E[1],N=(0,r.useState)(!1),U=(0,s.Z)(N,2),B=U[0],_=U[1],G=(0,r.useState)(null),W=(0,s.Z)(G,2),H=W[0],Y=W[1],J=(0,r.useState)(null),X=(0,s.Z)(J,2),$=X[0],K=X[1],q=(0,r.useState)([]),Q=(0,s.Z)(q,2),ee=Q[0],te=Q[1],ne=(0,r.useState)(!1),ie=(0,s.Z)(ne,2),ae=ie[0],se=ie[1],re=(0,r.useState)(!1),oe=(0,s.Z)(re,2),le=oe[0],ce=oe[1],de=(0,r.useState)(""),ue=(0,s.Z)(de,2),he=ue[0],me=ue[1],xe=(0,r.useState)(!1),pe=(0,s.Z)(xe,2),ve=pe[0],fe=pe[1],ge=(0,r.useState)(null),Ze=(0,s.Z)(ge,2),je=Ze[0],be=Ze[1],Se=(0,r.useState)(!1),ye=(0,s.Z)(Se,2),Ce=ye[0],Pe=ye[1],De=(0,r.useState)([]),Re=(0,s.Z)(De,2),we=Re[0],Ae=Re[1],ke=(0,r.useState)([]),Le=(0,s.Z)(ke,2),Ie=Le[0],Me=Le[1],Ve=(0,r.useState)(""),Oe=(0,s.Z)(Ve,2),Ee=Oe[0],ze=Oe[1],Fe=(0,r.useState)(""),Ne=(0,s.Z)(Fe,2),Ue=Ne[0],Be=Ne[1],_e=(0,r.useState)(""),Te=(0,s.Z)(_e,2),Ge=Te[0],We=Te[1],He=(0,r.useState)(""),Ye=(0,s.Z)(He,2),Je=Ye[0],Xe=Ye[1],$e=(0,r.useState)([]),Ke=(0,s.Z)($e,2),qe=Ke[0],Qe=Ke[1],et=(0,r.useState)(!1),tt=(0,s.Z)(et,2),nt=tt[0],it=tt[1],at=(0,r.useState)(!0),st=(0,s.Z)(at,2),rt=st[0],ot=st[1],lt=(0,r.useState)(!0),ct=(0,s.Z)(lt,2),dt=ct[0],ut=ct[1],ht=(0,r.useState)(!0),mt=(0,s.Z)(ht,2),xt=mt[0],pt=mt[1];(0,r.useEffect)((function(){if(console.log(Je),null!==Je&&void 0!==Je&&Je.value){var e=Ie.filter((function(e){return e._id===Je.value}));ze(null===e||void 0===e?void 0:e[0].name),Be(null===e||void 0===e?void 0:e[0].email),We(null===e||void 0===e?void 0:e[0].primaryContact)}else 0===(null===Je||void 0===Je?void 0:Je.length)?(ze(Je),Be(""),We("")):ze(Je)}),[Je]);(0,r.useEffect)((function(){e.getScheduledMessages(),!e.listLoading&&e.getData()}),[nt]);var vt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ce(e),t&&(be(null),fe(!0))};(0,r.useEffect)((function(){if(e.dataList.data.length){var t=[];Me(e.dataList.data),e.dataList.data.forEach((function(e){var n={value:e._id,label:"".concat(e.name," - ").concat(e.relation),color:"#00B8D9",isFixed:!1};t.push(n)})),Qe(t)}}),[e.dataList.data]);var ft=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Pe(!0),t.prev=1,t.next=4,e.addData(n);case 4:ze(""),We(""),Be(""),vt(!1,!0),t.next=13;break;case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",(0,m.jsx)(h.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Add Nominee Failed! Please contact admin",severity:"error"}));case 13:return t.prev=13,Pe(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})));return function(e){return t.apply(this,arguments)}}(),gt=function(){_(!1),ze(""),We(""),Be(""),me(""),F(""),V(""),Z(""),y(!1),R(""),Ae([]),Xe(""),x(""),te("")};return(0,m.jsxs)(o.Z,{children:[(0,m.jsx)(I.Z,{show:le,data:je,updateData:e.addData,addData:ft,isLoading:Ce,handleSidebar:vt,getData:e.getData,dataParams:e.parsedFilter,addNew:ve}),(0,m.jsxs)(l.ZP,{container:!0,spacing:1,sx:{p:.5},children:[(0,m.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,m.jsx)(T,{oldMsg:$,handleReset:gt,handleSubmit:function(){B?e.editMessage({_id:H,desc:M,type:z,title:he,date:g,signature:D,rname:Ee,remail:Ue,rphone:Ge,msg:("Voice"===z||"Video"===z||"Attachment"===z)&&u||ee.length&&ee||""}):e.scheduleNewMessage({desc:M,type:z,title:he,date:g,signature:D,rname:Ee,remail:Ue,rphone:Ge,msg:("Voice"===z||"Video"===z||"Attachment"===z)&&u||ee.length&&ee||""}),gt()},sameAsAbove:S,setdate:function(e){var t=new Date(e)>new Date||""===e;Z(e),pt(t)},setfilesOndrop:function(e){se(!1),te(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))},resetDropzone:ae,setRecVideo:x,setdesc:V,setsignature:R,rphone:Ge,setrphone:function(e){var t=A.Yd.test(e);We(e),ut(t)},validPhone:dt,selecttype:n,edititem:B,settype:F,settitle:me,nomineeOption2:qe,remail:Ue,validEmail:rt,rname:Ee,setremail:function(e){var t=String(e).toLowerCase().match(/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/);Be(e),ot(t)},desc:M,type:z,title:he,date:g,validDate:xt,signature:D,handleCheck:function(){!S&&Z(""),y(!S)},userInput:Je,setuserInput:Xe,recVideo:u})}),(0,m.jsx)(f.Z,{}),(0,m.jsx)(l.ZP,{item:!0,xs:12,children:(0,m.jsx)(L,{heading:"Messages History",collapseItems:e.messages,colorOption:null===(t=e.messages)||void 0===t?void 0:t.colorOption,editItem:function(e){var t;K(e);var n=e.date,i=e.desc,a=e.rname,s=e.remail,r=e.rphone,o=e.signature,l=e.title,c=e.type,d=e._id,u=e.mediaDetails;_(!0),Y(d),Z(null===n||void 0===n?void 0:n.split("T")[0]),V(i),Ae(we),Be(s),ze(a),We(r),R(o),me(l),F(c),y(!n),x("Attachment"===c?u:null===(t=u[0])||void 0===t?void 0:t.media)},loadingmsg:e.loadingmsg,handleFilter:function(){console.log("Call filter function")},refreshData:{value:nt,callFunc:it}})})]})]})}))},82363:function(e,t,n){var i=n(29439),a=n(47313),s=n(61474),r=n(42357),o=n(38693),l=n(57441),c=n(16423),d=n(91536),u=n(19641),h=n(57775),m=n(51057),x=n(47605),p=n(9506),v=n(29917),f=n(46417),g=function(e){var t=e.stream,n=(0,a.useRef)(null);return(0,a.useEffect)((function(){n.current&&t&&(n.current.srcObject=t)}),[t]),t?(0,f.jsx)("video",{ref:n,width:"100%",height:"100%",autoPlay:!0,controls:!0}):null};t.Z=function(e){var t=e.setRecVideo,n=e.recVideo,Z=(0,a.useState)(!0),j=(0,i.Z)(Z,2),b=j[0],S=j[1],y=(0,a.useState)(!1),C=(0,i.Z)(y,2),P=C[0],D=C[1],R=(0,a.useState)(!1),w=(0,i.Z)(R,2),A=w[0],k=w[1];return(0,f.jsx)(u.ZP,{item:!0,xs:12,sm:8,children:(0,f.jsx)(r.ReactMediaRecorder,{screen:A,video:!A,audio:b,onStop:function(e,n){console.log(n),function(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))}(n).then((function(e){console.log(e),t(e)}))},render:function(e){var t=e.status,i=e.startRecording,a=e.pauseRecording,r=e.stopRecording,u=e.clearBlobUrl,Z=e.mediaBlobUrl,j=e.previewStream;return(0,f.jsxs)(h.Z,{variant:"outlined",children:[(0,f.jsxs)(m.Z,{children:[(0,f.jsxs)(x.Z,{textAlign:"center",children:["Status : ",t]}),P&&j&&(0,f.jsx)(g,{stream:j}),!P&&(Z||n)&&(0,f.jsx)("video",{src:Z||n,controls:!0,autoPlay:!1,width:"100%",height:"100%"}),(0,f.jsxs)(p.Z,{display:"flex",justifyContent:"space-evenly",sx:{mt:2},children:[b?(0,f.jsx)(o.Z,{fontSize:"large",onClick:function(){return S(!b)}}):(0,f.jsx)(l.Z,{fontSize:"large",onClick:function(){return S(!b)}}),(0,f.jsx)(c.Z,{fontSize:"large",onClick:function(e){k(!0)},color:"".concat(A&&"primary")}),(0,f.jsx)(d.Z,{fontSize:"large",onClick:function(e){k(!1)},color:"".concat(!A&&"primary")})]})]}),(0,f.jsxs)(v.Z,{sx:{justifyContent:"center"},children:[(0,f.jsx)(s.ZP,{varient:"contained",label:P?"Pause":"paused"===t?"Resume":"Start",onClick:function(){P?a():i(),D(!P)}}),(0,f.jsx)(s.ZP,{varient:"outlined",label:"Stop",onClick:function(){r(),D(!1)}}),(0,f.jsx)(s.ZP,{varient:"outlined",label:"Clear",onClick:function(){u(),D(!1)}})]})]})}})})}},6306:function(e,t,n){var i=n(64836);t.Z=void 0;var a=i(n(45045)),s=n(46417),r=(0,a.default)((0,s.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=r}}]);