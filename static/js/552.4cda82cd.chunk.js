"use strict";(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[552],{51427:function(e,n,t){t.d(n,{EL:function(){return Z},IZ:function(){return v},Id:function(){return y},Jj:function(){return _},Pe:function(){return m},VA:function(){return L},Yu:function(){return f},ZT:function(){return A},cm:function(){return x},is:function(){return h},qi:function(){return p}});var a=t(37762),r=t(74165),i=t(15861),o=t(31881),c=t.n(o),s=t(63861),u=t(97729),l=t(46417),d=JSON.parse(sessionStorage.getItem("logInUserData")),p=function(e){var n=e.user,t=e.token;return function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"GET_ALL_DOCS_LOADING",data:!0}),c().get("/backendapi/documents/".concat(null===n||void 0===n?void 0:n._id),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){a({type:"GET_ALL_DOCS_LOADING",data:!1});for(var n=e.data,t=0;t<n.length;t+=1)n[t].desc=(0,u.Y)(n[t].desc),n[t].id=t+1,n[t].expiry=(0,u.Y)(n[t].expiry),n[t].alias=(0,u.Y)(n[t].alias);a({type:"GET_ALL_DOCS",resp:n})})).catch((function(e){a({type:"GET_ALL_DOCS_ERROR",err:"Error getting docs"})}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},f=function(e){return function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"GET_ALL_DATA_LOADING",data:!0}),n.next=3,c().get("/backendapi/nominee/list/".concat(d._id),{params:e,headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(n){if(t({type:"GET_ALL_DATA_LOADING",data:!1}),null!==n&&void 0!==n&&n.data){var r,i=(0,a.Z)(n.data);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.nomineeId=(null===o||void 0===o?void 0:o.nomineeId)&&(0,u.Y)(o.nomineeId,!0),o.name=(null===o||void 0===o?void 0:o.name)&&(0,u.Y)(o.name,!0),o.relation=(null===o||void 0===o?void 0:o.relation)&&(0,u.Y)(o.relation,!0),o.relation1=(null===o||void 0===o?void 0:o.relation1)&&(0,u.Y)(o.relation1,!0),o.email=(null===o||void 0===o?void 0:o.email)&&(0,u.Y)(o.email,!0),o.primaryContact=(null===o||void 0===o?void 0:o.primaryContact)&&(0,u.Y)(o.primaryContact,!0),o.secondaryContact=(null===o||void 0===o?void 0:o.secondaryContact)&&(0,u.Y)(o.secondaryContact,!0),o.address=(null===o||void 0===o?void 0:o.address)&&(0,u.Y)(o.address,!0)}}catch(c){i.e(c)}finally{i.f()}t({type:"GET_DATA",data:n.data,totalPages:n.length,params:e})}})).catch((function(e){t({type:"GET_ALL_DATA_LOADING",data:!1})}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},h=function(){return function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"GET_USER_ALL_DATA_LOADING",data:!0}),e.next=3,c().post("/backendapi/users/get",{id:d._id},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){if(n({type:"GET_USER_ALL_DATA_LOADING",data:!1}),null!==e&&void 0!==e&&e.data){var t=e.data[0];n({type:"GET_USER_ALL_DATA",data:t})}})).catch((function(e){n({type:"GET_USER_ALL_DATA_LOADING",data:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},m=function(){return function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"GET_ALL_ASSET_DATA_LOADING",data:!0}),c().get("/backendapi/user/assets/".concat(null===d||void 0===d?void 0:d._id),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){n({type:"GET_ALL_ASSET_DATA_LOADING",data:!1});var t=JSON.parse((0,u.Y)(e.data[0]));n({type:"GET_ALL_ASSET_DATA",data:t})})).catch((function(e){n({type:"ERROR_ALL_ASSET_DATA",data:e})}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},v=function(){return function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"GET_ALL_LIABILITY_DATA_LOADING",data:!0}),c().get("/backendapi/user/liabilities/".concat(null===d||void 0===d?void 0:d._id),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){n({type:"GET_ALL_LIABILITY_DATA_LOADING",data:!1});var t=JSON.parse((0,u.Y)(e.data[0]));n({type:"GET_ALL_LIABILITY_DATA",data:t})})).catch((function(e){n({type:"ERROR_ALL_LIABILITY_DATA",data:e})}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},A=function(e,n){return function(){var t=(0,i.Z)((0,r.Z)().mark((function t(a){var i,o,s,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"GET_SPEND_DATA_LOADING",data:!0}),null!==n&&void 0!==n&&n.year&&(i=new Date,o=g(i),s=Number(n.year?n.year:3),i.setMonth(i.getMonth()-s),i.setDate(1),u=g(i),e.dateRangeStart=u,e.dateRangeEnd=o),null!==n&&void 0!==n&&n.labels&&(e.labels=n.labels),t.next=5,c().get("/backendapi/spend/list/".concat(d._id),{params:e,headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(n){a({type:"GET_SPEND_DATA_LOADING",data:!1}),a({type:"GET_DATA",data:null===n||void 0===n?void 0:n.data,totalPages:n.length,params:e})})).catch((function(e){a({type:"GET_SPEND_DATA_LOADING",data:!1})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){var n="".concat(e.getMonth()+1);1===n.length&&(n="0".concat(n));var t="".concat(e.getDate());return 1===t.length&&(t="0".concat(t)),[e.getFullYear(),n,t].join("-")},x=function(e){return function(n){return n({type:"FILTER_DATA",value:e})}},_=function(e){return function(n){c().post("/backendapi/spend/delete",e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(t){n({type:"DELETE_DATA",obj:e})}))}},y=function(e){var n={userId:d._id,name:(0,u.G)(e.name,!0),relation:(0,u.G)(e.relation,!0),relation1:(0,u.G)(e.relation1,!0),email:(0,u.G)(e.email,!0),primaryContact:(0,u.G)(e.contact1,!0),secondaryContact:(0,u.G)(e.contact2,!0),address:(0,u.G)(e.address,!0),secrets:e.secrets};return function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().post("/backendapi/nominee/add",n,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){e.data&&(s.A9,"Success"===e.data||e.data,e.data),t(f())}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},L=function(e){var n={_id:e._id,usage:e.usage?e.usage:"Unused",userId:d._id,name:(0,u.G)(e.name,!0),relation:(0,u.G)(e.relation,!0),relation1:(0,u.G)(e.relation1,!0),email:(0,u.G)(e.email,!0),primaryContact:(0,u.G)(e.contact1,!0),secondaryContact:(0,u.G)(e.contact2,!0),address:(0,u.G)(e.address,!0),secrets:e.secrets};return function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().post("/backendapi/nominee/update",n,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){return(0,l.jsx)(s.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Nominee Updated Successfully"})}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},Z=function(e){return function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c().post("/backendapi/update/secrets",{secrets:e,_id:d._id},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){return(0,l.jsx)(s.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Secret Updated Successfully"})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},39995:function(e,n,t){t(47313);var a=t(51268),r=t.n(a),i=t(71535),o=t(60236),c=t(86240),s=t(46417);function u(e){return(0,s.jsx)(o.Z,{component:"img",image:e.item.img,alt:e.item.label})}n.Z=function(e){var n=[{label:"Random Name #1",description:"Probably !",img:c.oX},{label:"Random Name #2",description:"Hello World!",img:c.XL},{label:"Random Name #3",description:"Probably !",img:c.Ev},{label:"Random Name #4",description:"Hello World!",img:c.yc},{label:"Random Name #5",description:"Hello World!",img:c.Ye}];return(0,s.jsx)(i.ZP,{item:!0,xs:4,sx:{display:"flex",justifyContent:"center"},children:(0,s.jsx)(r(),{stopAutoPlayOnHover:!0,navButtonsAlwaysInvisible:!0,swipe:!0,height:160,sx:{alignItems:"center",width:"250px"},animation:"fade",children:n.map((function(e,n){return(0,s.jsx)(u,{item:e},n)}))})})}},54727:function(e,n,t){t.d(n,{Yd:function(){return a},p6:function(){return r}}),n.ZP=function(e){var n=(null===e||void 0===e?void 0:e.keyCode)||(null===e||void 0===e?void 0:e.which);if(n=String.fromCharCode(n),!/^[0-9]*$/.test(n))return e.preventDefault(),!1};var a=RegExp(/^[6-9]{1}[0-9]{9}$/),r=function(e,n){var t="";if(!e)return t;var a=new Date(e),r=a.getFullYear(),i="".concat(a.getMonth()+1),o="".concat(a.getDate());if(i.length<2&&(i="0".concat(i)),o.length<2&&(o="0".concat(o)),"dd/mm/yyyy"===n)t=[o,i,r].join("/");else t=[o,i,r].join("-");return t}},71639:function(e,n,t){t.d(n,{RS:function(){return j},fh:function(){return L},zY:function(){return D}});var a=t(1413),r=t(93433),i=t(29439),o=t(47313),c=t(30712),s=t(13760),u=t(80614),l=t(71363),d=t(62463),p=t(71535),f=t(96900),h=t(56972),m=t(22449),v=t(34940),A=t(39995),g=t(86240),x=t(61474),_=t(63861),y=t(46417),L=function(e){var n=(0,o.useState)(e.file?e.file:[]),t=(0,i.Z)(n,2),p=t[0],f=t[1],h=(0,u.uI)({maxFiles:e.notMulti?1:5,multiple:!e.notMulti,onDrop:function(n){if(1===e.notMulti)e.setfilesOndrop(n),f(n.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})));else{if((p.length?p.filter((function(e){var t;return(null===e||void 0===e?void 0:e.name)===(null===(t=n[0])||void 0===t?void 0:t.name)})):[]).length)return(0,y.jsx)(_.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"File already added"});e.setfilesOndrop([].concat((0,r.Z)(p),(0,r.Z)(n))),f([].concat((0,r.Z)(p),(0,r.Z)(n)))}}}),m=h.getInputProps,v=h.open,A=null===p||void 0===p?void 0:p.map((function(n){return(0,y.jsxs)(l.Z,{children:["".concat(n.name.length>15?"".concat(n.name.slice(0,15),"..."):n.name),(0,y.jsx)(c.Z,{size:15,onClick:function(t){t.stopPropagation(),function(n){e.isMulti?f(p.filter((function(e){return e!==n}))):f([])}(n)}})]},n.name)}));return(0,o.useEffect)((function(){return function(){p.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[p]),(0,o.useEffect)((function(){e.resetDropzone&&f([])}),[e.resetDropzone]),(0,y.jsxs)(d.Z,{onClick:v,children:[(0,y.jsx)(_.nv,(0,a.Z)({},m())),(0,y.jsxs)(l.Z,{sx:{display:"flex",border:"2px solid lightgray",padding:"1rem"},children:[A.length>0?(0,y.jsx)("aside",{children:A}):"Drag `n` drop Or Browse",(0,y.jsx)(s.Z,{})]})]})},Z=[{value:"Asset",label:"Asset"},{value:"Expenses",label:"Expenses"},{value:"Vault",label:"Document Vault"},{value:"Liability",label:"Liability"},{value:"Postman",label:"Postman"}],D=function(e){var n=e.alias,t=e.setalias,a=e.expiry,r=e.setexpiry,i=e.desc,c=e.setdesc,s=e.handleReset,u=e.isDisabled,l=e.submitDropzone,m=e.setfilesOndrop,v=e.resetDropzone;return(0,y.jsxs)(o.Fragment,{children:[(0,y.jsx)(p.ZP,{item:!0,xs:12,sm:8,children:(0,y.jsxs)(f.Z,{children:[(0,y.jsx)(_.ll,{title:"Upload any file, scans, documents"}),(0,y.jsxs)(h.Z,{children:[(0,y.jsxs)(p.ZP,{container:!0,spacing:1,children:[(0,y.jsx)(p.ZP,{item:!0,xs:12,sm:6,children:(0,y.jsx)(_.nv,{margin:"dense",name:"AttachmentName",id:"AttachmentName",placeholder:"Attachment Name / Alias",value:n,onChange:function(e){var n;return t(null===(n=e.target.value)||void 0===n?void 0:n.trim())}})}),(0,y.jsx)(p.ZP,{item:!0,xs:12,sm:6,children:(0,y.jsx)(_.nv,{margin:"dense",type:"Date",name:"Date",id:"nameMultiExpiry",placeholder:"Expiry Date",min:(0,g.BZ)(),max:"9999-12-31",value:a,onChange:function(e){return r(e.target.value)}})}),(0,y.jsx)(p.ZP,{item:!0,xs:12,sm:6,children:(0,y.jsx)(_.nv,{margin:"dense",type:"textarea",name:"name1",id:"nameMultiDescription1",placeholder:"Description",value:i,onChange:function(e){var n;return c(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)}})}),(0,y.jsx)(p.ZP,{item:!0,xs:12,sm:6,children:(0,y.jsx)(L,{setfilesOndrop:m,resetDropzone:v,isMulti:!0,notMulti:!1})})]}),(0,y.jsxs)(d.Z,{direction:"row",spacing:3,sx:{mt:3},justifyContent:"end",children:[(0,y.jsx)(x.ZP,{varient:"outlined",label:"Reset",onClick:function(){return s()}}),(0,y.jsx)(x.ZP,{varient:"contained",label:"Add",disabled:u,onClick:function(e){l(e)}})]})]})]})}),(0,y.jsx)(A.Z,{})]})},j=function(e){var n,t=e.filter,r=e.handleFilter,i=e.search,o=e.columns,c=e.searchresult;return(0,y.jsxs)(f.Z,{sx:{minHeight:"300px"},children:[(0,y.jsxs)(p.ZP,{container:!0,justifyContent:"space-between",sx:{p:2},spacing:2,alignItems:"center",children:[(0,y.jsx)(p.ZP,{item:!0,lg:4,xs:12,children:(0,y.jsx)(l.Z,{variant:"secondary",component:"h3",children:"Documents List"})}),(0,y.jsx)(p.ZP,{item:!0,lg:4,xs:6,children:(0,y.jsx)(x.gc,{isMulti:!0,id:"optionSelect",onChange:function(e,n){return r(n)},options:Z,value:t.map((function(e){var n=Z.filter((function(n){return n.value===e.id}));return{value:n[0].value,label:n[0].label}})),renderInput:function(e){return(0,y.jsx)(_.nv,(0,a.Z)((0,a.Z)({},e),{},{placeholder:"Select Category"}))}})}),(0,y.jsx)(p.ZP,{item:!0,lg:4,xs:6,children:(0,y.jsx)(m.Z,{type:"text",onChange:function(e){return i(e.target.value)},placeholder:"Search",fullWidth:!0})})]}),(0,y.jsx)(v.Z,{}),(0,y.jsx)(h.Z,{children:(0,y.jsx)(_.Gn,{columns:o,rows:null!==c&&void 0!==c&&c.length?c:null!==(n=e.documentList)&&void 0!==n&&n.length?e.documentList:[]})})]})}}}]);