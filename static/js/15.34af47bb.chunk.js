(this.webpackJsonplastArzi=this.webpackJsonplastArzi||[]).push([[15],{654:function(e,a){},672:function(e,a){},674:function(e,a){},682:function(e,a,t){e.exports=t.p+"static/media/camera.299a8f67.svg"},683:function(e,a,t){e.exports=t.p+"static/media/camera-stop.85f8745d.svg"},684:function(e,a,t){e.exports=t.p+"static/media/microphone.a2374838.svg"},685:function(e,a,t){e.exports=t.p+"static/media/microphone-stop.09d0b6c2.svg"},686:function(e,a,t){e.exports=t.p+"static/media/share.e7b143c0.svg"},687:function(e,a,t){e.exports=t.p+"static/media/hang-up.1b1f0dc8.svg"},688:function(e,a,t){e.exports=t.p+"static/media/fullscreen.8f5e7921.svg"},689:function(e,a,t){e.exports=t.p+"static/media/minimize.fff27c21.svg"},690:function(e,a,t){e.exports=t.p+"static/media/ringtone.0be3c651.mp3"},691:function(e,a,t){},730:function(e,a,t){"use strict";t.r(a);var n=t(7),c=t(0),i=t.n(c),r=t(636),o=t.n(r),l=t(657),s=t.n(l),m=t(681),u=t(682),d=t.n(u),p=t(683),g=t.n(p),f=t(684),b=t.n(f),v=t(685),k=t.n(v),h=t(686),w=t.n(h),E=t(687),j=t.n(E),y=t(688),O=t.n(y),x=t(689),C=t.n(x),N=t(690),S=t.n(N),z=(t(691),new m.Howl({src:[S.a],loop:!0,preload:!0}));a.default=function(){var e=Object(c.useState)(""),a=Object(n.a)(e,2),t=a[0],r=a[1],l=Object(c.useState)({}),m=Object(n.a)(l,2),u=m[0],p=m[1],f=Object(c.useState)(),v=Object(n.a)(f,2),h=v[0],E=v[1],y=Object(c.useState)(!1),x=Object(n.a)(y,2),N=x[0],S=x[1],T=Object(c.useState)(""),V=Object(n.a)(T,2),A=V[0],D=V[1],P=Object(c.useState)(!1),R=Object(n.a)(P,2),I=R[0],M=R[1],q=Object(c.useState)(),B=Object(n.a)(q,2),U=B[0],F=B[1],L=Object(c.useState)(!1),Y=Object(n.a)(L,2),J=Y[0],W=Y[1],_=Object(c.useState)(!1),H=Object(n.a)(_,2),G=H[0],K=H[1],Q=Object(c.useState)(""),X=Object(n.a)(Q,2),Z=X[0],$=X[1],ee=Object(c.useState)(!1),ae=Object(n.a)(ee,2),te=ae[0],ne=ae[1],ce=Object(c.useState)(!1),ie=Object(n.a)(ce,2),re=ie[0],oe=ie[1],le=Object(c.useState)(!1),se=Object(n.a)(le,2),me=se[0],ue=se[1],de=Object(c.useState)(!1),pe=Object(n.a)(de,2),ge=pe[0],fe=pe[1],be=Object(c.useRef)(),ve=Object(c.useRef)(),ke=Object(c.useRef)(),he=Object(c.useRef)(),we=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"u-margin-top-xxlarge u-margin-bottom-xxlarge"},i.a.createElement("div",{className:"o-wrapper-l"},i.a.createElement("div",{className:"hero flex flex-column"},i.a.createElement("div",null,i.a.createElement("div",{className:"welcomeText"},"Video Calls"),i.a.createElement("div",{className:"descriptionText"},"--- Last Arzi ---")),i.a.createElement("div",null,i.a.createElement("div",{className:"actionText"},"Your Meeting name :"," ",i.a.createElement("span",{className:ge?"username highlight copied":"username highlight",onClick:function(){Te()}},t))),i.a.createElement("div",{className:"callBox flex"},i.a.createElement("input",{type:"text",placeholder:"Meeting Name",value:Z,onChange:function(e){return $(e.target.value)},className:"form-input"}),i.a.createElement("button",{onClick:function(){return Ce(Z.toLowerCase().trim())},className:"primaryButton"},"Call")),i.a.createElement("div",null,"To call your friend. Send your username (",i.a.createElement("span",{className:"username"},t),") and wait for their call ",i.a.createElement("span",{style:{fontWeight:600}},"OR")," enter their username and hit call!")))));Object(c.useEffect)((function(){ke.current=o.a.connect("https://lastarzi2.herokuapp.com"),ke.current.on("yourID",(function(e){r(e)})),ke.current.on("allUsers",(function(e){p(e)})),ke.current.on("hey",(function(e){S(!0),z.play(),D(e.from),F(e.signal)}))}),[]);var Ee,je,ye,Oe,xe,Ce=function(e){""!==e&&u[e]&&e!==t?navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(a){E(a),M(!0),D(e),be.current&&(be.current.srcObject=a);var n=new s.a({initiator:!0,trickle:!1,config:{iceServers:[]},stream:a});he.current=n,n.on("signal",(function(a){ke.current.emit("callUser",{userToCall:e,signalData:a,from:t})})),n.on("stream",(function(e){ve.current&&(ve.current.srcObject=e)})),n.on("error",(function(e){Ne()})),ke.current.on("callAccepted",(function(e){W(!0),n.signal(e)})),ke.current.on("close",(function(){window.location.reload()})),ke.current.on("rejected",(function(){window.location.reload()}))})).catch((function(){alert("You cannot place/ receive a call without granting video and audio permissions! Please change your settings to use Cuckoo.")})):alert("We think the username entered is wrong. Please check again and retry!")},Ne=function(){he.current.destroy(),ke.current.emit("close",{to:A}),window.location.reload()},Se=function(){h&&(ne(!te),h.getAudioTracks()[0].enabled=te)},ze=function(){h&&(oe(!re),h.getVideoTracks()[0].enabled=re)},Te=function(){navigator.clipboard.writeText(t),fe(!0),setInterval((function(){fe(!1)}),1e3)};h&&(Ee=i.a.createElement("video",{className:"userVideo",playsInline:!0,muted:!0,ref:be,autoPlay:!0})),J&&me?je=i.a.createElement("video",{className:"partnerVideo cover",playsInline:!0,ref:ve,autoPlay:!0}):J&&!me&&(je=i.a.createElement("video",{className:"partnerVideo",playsInline:!0,ref:ve,autoPlay:!0})),!N||J||G||(ye=i.a.createElement("div",{className:"incomingCallContainer"},i.a.createElement("div",{className:"incomingCall flex flex-column"},i.a.createElement("div",null,i.a.createElement("span",{className:"callerID"},A)," is calling you!"),i.a.createElement("div",{className:"incomingCallButtons flex"},i.a.createElement("button",{name:"accept",className:"alertButtonPrimary",onClick:function(){return z.unload(),void navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){E(e),be.current&&(be.current.srcObject=e),W(!0);var a=new s.a({initiator:!1,trickle:!1,stream:e});he.current=a,a.on("signal",(function(e){ke.current.emit("acceptCall",{signal:e,to:A})})),a.on("stream",(function(e){ve.current.srcObject=e})),a.on("error",(function(e){Ne()})),a.signal(U),ke.current.on("close",(function(){window.location.reload()}))})).catch((function(){alert("You cannot place/ receive a call without granting video and audio permissions! Please change your settings to use Cuckoo.")}))}},"Accept"),i.a.createElement("button",{name:"reject",className:"alertButtonSecondary",onClick:function(){return z.unload(),K(!0),ke.current.emit("rejected",{to:A}),void window.location.reload()}},"Reject"))))),Oe=te?i.a.createElement("span",{className:"iconContainer",onClick:function(){return Se()}},i.a.createElement("img",{src:k.a,alt:"Unmute audio"})):i.a.createElement("span",{className:"iconContainer",onClick:function(){return Se()}},i.a.createElement("img",{src:b.a,alt:"Mute audio"})),xe=re?i.a.createElement("span",{className:"iconContainer",onClick:function(){return ze()}},i.a.createElement("img",{src:g.a,alt:"Resume video"})):i.a.createElement("span",{className:"iconContainer",onClick:function(){return ze()}},i.a.createElement("img",{src:d.a,alt:"Stop audio"}));var Ve=i.a.createElement("span",{className:"iconContainer",onClick:function(){navigator.mediaDevices.getDisplayMedia({cursor:!0}).then((function(e){he.current.replaceTrack(h.getVideoTracks()[0],e.getVideoTracks()[0],h),be.current.srcObject=e,e.getTracks()[0].onended=function(){he.current.replaceTrack(e.getVideoTracks()[0],h.getVideoTracks()[0],h),be.current.srcObject=h}}))}},i.a.createElement("img",{src:w.a,alt:"Share screen"}));(function(){var e,a=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(a=!0),a})()&&(Ve=i.a.createElement(i.a.Fragment,null));var Ae,De=i.a.createElement("span",{className:"iconContainer",onClick:function(){return Ne()}},i.a.createElement("img",{src:j.a,alt:"End call"}));return Ae=me?i.a.createElement("span",{className:"iconContainer",onClick:function(){ue(!1)}},i.a.createElement("img",{src:C.a,alt:"fullscreen"})):i.a.createElement("span",{className:"iconContainer",onClick:function(){ue(!0)}},i.a.createElement("img",{src:O.a,alt:"fullscreen"})),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{display:G||J||I?"none":"block"}},we,ye),i.a.createElement("div",{className:"callContainer",style:{display:G||J||I?"block":"none"}},i.a.createElement(c.Suspense,{fallback:i.a.createElement("div",null,"Loading...")}),i.a.createElement("div",{className:"partnerVideoContainer"},je),i.a.createElement("div",{className:"userVideoContainer"},Ee),i.a.createElement("div",{className:"controlsContainer flex"},Oe,xe,Ve,Ae,De)))}}}]);