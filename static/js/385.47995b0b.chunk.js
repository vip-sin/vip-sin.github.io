(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[385],{39500:function(e,n,t){"use strict";t(47313);var r=t(94469),i=t(69625),a=t(47605),o=t(9506),l=t(61474),u=t(46417);n.Z=function(e){var n=e.modalMessage,t=e.handleConfirm,s=e.isOpen,c=e.closeModal,d=e.confirmText,v=void 0===d?"Delete":d,f=e.cancelText,h=void 0===f?"Cancel":f,p=e.warning,m=void 0===p?"":p,g=n||"Are you sure you want to delete this record?";return(0,u.jsx)("div",{children:(0,u.jsx)(r.Z,{open:!!s,children:(0,u.jsxs)(i.Z,{children:[(0,u.jsx)(a.Z,{children:g}),(0,u.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[!m&&(0,u.jsx)(l.AG,{handleClick:c,label:h}),(0,u.jsx)(l.k4,{label:m?"Ok":v,handleClick:t})]})]})})})}},36936:function(e,n,t){"use strict";t.d(n,{Yl:function(){return c},bS:function(){return u},hr:function(){return s},mB:function(){return l}});var r=t(1413),i=t(80571),a=JSON.parse(sessionStorage.getItem("logInUserData")),o=i.g.injectEndpoints({endpoints:function(e){return{getNominees:e.query({query:function(){return"/backendapi/nominee/list/".concat(a._id)},providesTags:["Nominee"]}),addNominees:e.mutation({query:function(e){return{url:"backendapi/nominee/add",method:"POST",body:(0,r.Z)((0,r.Z)({},e),{},{userId:a._id})}},invalidatesTags:["Nominee"]}),deleteNominees:e.mutation({query:function(e){return{url:"/backendapi/nominee/delete",method:"POST",body:e}},invalidatesTags:["Nominee"]}),updateNominees:e.mutation({query:function(e){return{url:"/backendapi/nominee/update",method:"POST",body:(0,r.Z)((0,r.Z)({},e),{},{userId:a._id})}},invalidatesTags:["Nominee"]})}}}),l=o.useGetNomineesQuery,u=o.useUpdateNomineesMutation,s=o.useAddNomineesMutation,c=o.useDeleteNomineesMutation},54727:function(e,n,t){"use strict";t.d(n,{Yd:function(){return r},cc:function(){return a},p6:function(){return i}});n.ZP=function(e){var n=(null===e||void 0===e?void 0:e.keyCode)||(null===e||void 0===e?void 0:e.which);n=String.fromCharCode(n);if(!/^[0-9]*$/.test(n))return e.preventDefault(),!1};var r=RegExp(/^[6-9]{1}[0-9]{9}$/),i=function(e,n){var t="";if(!e)return t;var r=new Date(e),i=r.getFullYear(),a="".concat(r.getMonth()+1),o="".concat(r.getDate());if(a.length<2&&(a="0".concat(a)),o.length<2&&(o="0".concat(o)),"dd/mm/yyyy"===n)t=[o,a,i].join("/");else t=[o,a,i].join("-");return t},a=function(e){var n="".concat(e.getMonth()+1);1===n.length&&(n="0".concat(n));var t="".concat(e.getDate());return 1===t.length&&(t="0".concat(t)),[e.getFullYear(),n,t].join("-")}},97729:function(e,n,t){"use strict";t.d(n,{Gf:function(){return u},Y:function(){return s},c_:function(){return l},mq:function(){return c}});var r=t(74165),i=t(15861),a=t(42612),o=t.n(a),l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",o().md.sha512.create().update(n).digest().toHex());case 4:e.prev=4,e.t0=e.catch(0),console.log("Error while hashing: ",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,a,l,u,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===n||void 0===n?void 0:n.length)>0)){e.next=19;break}return i=sessionStorage.getItem("secretkey"),a=null!==t&&void 0!==t?t:i,l=o().random.getBytesSync(32),u=o().cipher.createCipher("AES-GCM",a),e.prev=5,u.start({iv:l,additionalData:"binary-encoded string"}),u.update(o().util.createBuffer(n)),u.finish(),s={iv:l,tag:u.mode.tag.toHex(),output:u.output.toHex()},e.abrupt("return",JSON.stringify(s));case 13:return e.prev=13,e.t0=e.catch(5),console.log("Error while encrypting data: ",e.t0),e.abrupt("return","");case 17:e.next=20;break;case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(n,t){return e.apply(this,arguments)}}(),s=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,a,l,u,s,c,d,v;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:i=sessionStorage.getItem("secretkey"),a=null!==t&&void 0!==t?t:i;try{l=JSON.parse(n)}catch(r){console.log(r)}if(u=l.iv,s=o().util.hexToBytes(l.tag),!(c=l.output)){e.next=28;break}if(e.prev=9,(d=o().cipher.createDecipher("AES-GCM",a)).start({iv:u,additionalData:"binary-encoded string",tag:s}),v=o().util.hexToBytes(c),d.update(o().util.createBuffer(v)),!d.finish()){e.next=19;break}return e.abrupt("return",d.output.toString());case 19:console.log("Error authentication tag didn't match ");case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(9),console.log("Error while decrypting data: ",e.t0),e.abrupt("return","");case 26:e.next=29;break;case 28:return e.abrupt("return",n);case 29:case"end":return e.stop()}}),e,null,[[9,22]])})));return function(n,t){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,a,l,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n&&n.length>0)){e.next=18;break}return i=o().md.sha256.create().update(t),a=o().random.getBytesSync(32),l=o().cipher.createCipher("AES-GCM",i.digest()),e.prev=4,l.start({iv:a,additionalData:"binary-encoded string"}),l.update(o().util.createBuffer(n)),l.finish(),u={iv:a,tag:l.mode.tag.toHex(),output:l.output.toHex()},e.abrupt("return",JSON.stringify(u));case 12:return e.prev=12,e.t0=e.catch(4),console.log("Error while encrypting data: ",e.t0),e.abrupt("return","");case 16:e.next=19;break;case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(n,t){return e.apply(this,arguments)}}()},29748:function(e,n,t){"use strict";t.d(n,{Z:function(){return M}});var r=t(1413),i=t(74165),a=t(93433),o=t(15861),l=t(29439),u=t(47313),s=t(9506),c=t(49920),d=t(19641),v=t(47605),f=t(19536),h=t(71003),p=t(35898),m=t(52156),g=t(8586),Z=t(85585),x=t(54727),y=t(61474),b=t(79428),C=t(94469),j=t(33604),S=t(69625),k=t(46417);function w(e){var n=e.modal,t=e.toggleModal,i=e.fname,a=e.setfname,o=e.ftype,l=e.setftype,u=e.editID,s=e.clearCustomField,c=e.handleSecrets,d=e.secrets;return(0,k.jsxs)(C.Z,{open:n,fullWidth:!0,maxWidth:"xs",onClose:t,children:[(0,k.jsxs)(j.Z,{children:[u?"Update Secret":"Add Secret"," "]}),(0,k.jsxs)(S.Z,{children:[(0,k.jsx)(y.gc,{name:"relation",options:b.DD.filter((function(e){var n,t,r;return e.value!==(null===d||void 0===d||null===(n=d[0])||void 0===n?void 0:n.question)&&e.value!==(null===d||void 0===d||null===(t=d[1])||void 0===t?void 0:t.question)&&e.value!==(null===d||void 0===d||null===(r=d[2])||void 0===r?void 0:r.question)})),onChange:function(e,n){return function(e){var n=null===e||void 0===e?void 0:e.value;a(n)}(n)},value:(0,b.NA)(b.DD,i),renderInput:function(e){return(0,k.jsx)(m.Z,(0,r.Z)((0,r.Z)({},e),{},{label:" Secret Question"}))}}),(0,k.jsx)(m.Z,{type:"text",name:"Answer",margin:"normal",size:"small",fullWidth:!0,error:(null===o||void 0===o?void 0:o.length)<4||" "===o.charAt(0),value:o,label:"Answer",onChange:function(e){l(e.target.value)}}),(0,k.jsxs)(p.Z,{spacing:3,direction:"row",sx:{mt:3,justifyContent:"start"},children:[(0,k.jsx)(y.ZP,{varient:"outlined",label:"Cancel",onClick:function(e){s()}}),(0,k.jsx)(y.ZP,{varient:"contained",label:u?"Update":"Add",disabled:!(null!==i&&void 0!==i&&i.length)||o.length<4,onClick:c})]})]})]})}var E,N=t(69173),D=t(49969),A=t(97729),O=t(36936),I=t(54285),P=null===(E=JSON.parse(sessionStorage.getItem("dropdowns")))||void 0===E?void 0:E.nomineeRelation;function M(e){var n=(0,O.bS)(),t=(0,l.Z)(n,2),C=t[0],j=t[1],S=(0,I.Z)().setSnack,E=(0,O.hr)(),M=(0,l.Z)(E,2),q=M[0],T=M[1],_=e.currentData,R=e.setcurrentData,z=void 0===R?function(){}:R,B=(0,u.useState)(),V=(0,l.Z)(B,2),Y=V[0],G=V[1],L=(0,u.useState)(""),U=(0,l.Z)(L,2),W=U[0],H=U[1],J=(0,u.useState)(""),F=(0,l.Z)(J,2),Q=F[0],$=F[1],K=(0,u.useState)(""),X=(0,l.Z)(K,2),ee=X[0],ne=X[1],te=(0,u.useState)(""),re=(0,l.Z)(te,2),ie=re[0],ae=re[1],oe=(0,u.useState)(""),le=(0,l.Z)(oe,2),ue=le[0],se=le[1],ce=(0,u.useState)(""),de=(0,l.Z)(ce,2),ve=de[0],fe=de[1],he=(0,u.useState)(!0),pe=(0,l.Z)(he,2),me=pe[0],ge=pe[1],Ze=(0,u.useState)(""),xe=(0,l.Z)(Ze,2),ye=xe[0],be=xe[1],Ce=(0,u.useState)(""),je=(0,l.Z)(Ce,2),Se=je[0],ke=je[1],we=(0,u.useState)(""),Ee=(0,l.Z)(we,2),Ne=Ee[0],De=Ee[1],Ae=(0,u.useState)(""),Oe=(0,l.Z)(Ae,2),Ie=Oe[0],Pe=Oe[1],Me=(0,u.useState)(""),qe=(0,l.Z)(Me,2),Te=qe[0],_e=qe[1],Re=(0,u.useState)(""),ze=(0,l.Z)(Re,2),Be=ze[0],Ve=ze[1],Ye=(0,u.useState)(""),Ge=(0,l.Z)(Ye,2),Le=Ge[0],Ue=Ge[1],We=(0,u.useState)(""),He=(0,l.Z)(We,2),Je=He[0],Fe=He[1],Qe=(0,u.useState)([]),$e=(0,l.Z)(Qe,2),Ke=$e[0],Xe=$e[1],en=(0,u.useState)(!1),nn=(0,l.Z)(en,2),tn=nn[0],rn=nn[1],an=(0,u.useState)(""),on=(0,l.Z)(an,2),ln=on[0],un=on[1],sn=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n,t,r,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ln){e.next=9;break}return n=(0,a.Z)(Ke),e.next=4,(0,A.c_)(Je);case 4:t=e.sent,n.push({id:(null===n||void 0===n?void 0:n.length)+1,question:Le,answer:t}),Xe((0,a.Z)(n)),e.next=17;break;case 9:return r=(0,a.Z)(Ke),o=r.findIndex((function(e){return e.id===ln})),r[o].question=Le,e.next=14,(0,A.c_)(Je);case 14:r[o].answer=e.sent,Xe((0,a.Z)(r)),un("");case 17:rn(!1),Ue(""),Fe("");case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cn=function(){Ue(""),Fe(""),rn(!tn)};(0,u.useEffect)((function(){if(_){var e=_.name,n=_.relation,t=_.relation1,r=_.address,i=_.email,o=_.primaryContact,l=_.secondaryContact,u=null===_||void 0===_?void 0:_.secrets;$(e),G(n),"Others"===n&&H(t),ae(r),ne(i),se(o),fe(l),(null===u||void 0===u?void 0:u.length)&&Xe((0,a.Z)(u))}}),[]),(0,u.useEffect)((function(){null!==T&&void 0!==T&&T.isSuccess&&(S({msg:"Liability added successfully",severity:"success"}),bn(),z(null)),null!==T&&void 0!==T&&T.isError&&S({msg:T.error,severity:"error"})}),[T]),(0,u.useEffect)((function(){null!==j&&void 0!==j&&j.isSuccess&&(S({msg:"Nominee updated successfully",severity:"success"}),bn(),z(null)),null!==j&&void 0!==j&&j.isError&&S({msg:j.error,severity:"error"})}),[j]);var dn=function(){tn&&cn(),rn(!tn)},vn=function(){return be("Enter Valid Name")},fn=function(){return ke("Enter Valid Email")},hn=function(){return _e("Enter Valid Contact No.")},pn=function(){return De("Enter Valid Relation")},mn=function(){return Pe("Enter Valid Relation")},gn=function(e){var n,t=e.target.name,r=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value;switch(t){case"name":$(r),null!==r&&void 0!==r&&r.length&&r.trim()?be(""):vn();break;case"email":ne(r);var i=r.match(/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/);r&&i&&r.trim()?ke(""):fn();break;case"address":ae(r);break;case"phone":se(r),me&&fe(r),null!==r&&void 0!==r&&r.length&&10===r.length&&r.trim()&&x.Yd.test(r)?_e(""):hn();break;case"phoneC":fe(r),10===r.length&&r.trim()&&x.Yd.test(r)?Ve(""):Ve("Enter Valid whatsapp No."),(null===r||void 0===r||!r.length)&&Ve("");break;case"relation":null!==r&&void 0!==r&&r.length&&r.trim()?De(""):pn();break;case"relation1":H(r),null!==r&&void 0!==r&&r.length&&r.trim()?Pe(""):mn()}},Zn=function(e){e.preventDefault();var n=((null===Q||void 0===Q||!Q.length)&&vn(),(null===ee||void 0===ee||!ee.length)&&fn(),(null===ue||void 0===ue||!ue.length)&&hn(),(null===Y||void 0===Y||!Y.length)&&pn(),"Others"===Y&&(null===W||void 0===W||!W.length)&&mn(),ye||!(null!==Q&&void 0!==Q&&Q.length)||Ne||!(null!==Y&&void 0!==Y&&Y.length)||Ie||"Others"===Y&&!(null!==W&&void 0!==W&&W.length)||Se||!(null!==ee&&void 0!==ee&&ee.length)||Te||!(null!==ue&&void 0!==ue&&ue.length)||Be);if(n||null!==T&&void 0!==T&&T.isLoading)console.log(n,"inValid",Ne,"errorrelation",Ie);else{var t={relation:null===Y||void 0===Y?void 0:Y.trim(),relation1:null===W||void 0===W?void 0:W.trim(),email:null===ee||void 0===ee?void 0:ee.trim(),address:null===ie||void 0===ie?void 0:ie.trim(),primaryContact:null===ue||void 0===ue?void 0:ue.trim(),secondaryContact:null===ve||void 0===ve?void 0:ve.trim(),name:null===Q||void 0===Q?void 0:Q.trim(),secrets:Ke};_?(t._id=null===_||void 0===_?void 0:_._id,t.usage=null===_||void 0===_?void 0:_.usage,C(t)):(q(t),yn())}},xn=function(){$(""),Xe([]),G(""),H(""),ne(""),ae(""),se(""),fe("")},yn=function(){be(""),_e(""),Ve(""),ke(""),Pe("")},bn=e.handleSidebar,Cn=e.data;return(0,k.jsx)(c.Z,{anchor:"right",open:!0,onOpen:function(){},onClose:function(){return z(null)},children:(0,k.jsxs)(s.Z,{sx:{mt:8,width:350,px:2},component:"form",children:[(0,k.jsxs)(d.ZP,{item:!0,sx:{display:"flex",justifyContent:"space-between",p:1},children:[(0,k.jsx)(v.Z,{color:"primary",children:null!==Cn?"UPDATE NOMINEE":"ADD NEW NOMINEE"}),(0,k.jsx)(g.Z,{size:20,onClick:function(){bn(),z(null),xn(),yn()}})]}),(0,k.jsx)(f.Z,{}),(0,k.jsx)(m.Z,{name:"name",value:Q,margin:"dense",error:!!ye,label:"Name*",onChange:gn,id:"data-name"}),(0,k.jsx)(d.ZP,{item:!0,children:(0,k.jsx)(y.gc,{id:"relationID",name:"relation",onChange:function(e,n){return function(e){var n=null===e||void 0===e?void 0:e.value;G(n),"Others"!==n&&(Pe(""),H("")),null!==n&&void 0!==n&&n.length&&n.trim()&&De("")}(n)},options:P,value:(0,b.NA)(P,Y),error:Ne,renderInput:function(e){return(0,k.jsx)(m.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Relation*"}))}})}),"Others"===Y&&(0,k.jsx)(m.Z,{margin:"dense",name:"relation1",value:W,error:!!Ie,label:"Relation Name*",onChange:gn,id:"data-Relation",style:{borderColor:Ie?"red":""}}),(0,k.jsx)(m.Z,{type:"email",name:"email",margin:"dense",value:ee,error:!!Se,label:"Email*",onChange:gn,id:"data-email"}),(0,k.jsx)(m.Z,{type:"tel",maxLength:10,margin:"dense",value:ue,error:!!Te,name:"phone",onChange:gn,onKeyPress:function(e){return(0,x.ZP)(e)},id:"data-price1",label:"Contact No.*"}),(0,k.jsx)(N.Z,{sx:{margin:0},control:(0,k.jsx)(D.Z,{sx:{padding:0},color:"primary",name:"whatsapp",size:"small",checked:null!==Cn?ve===ue:me,onChange:function(){return fe(me?"":ue),void ge(!me)}}),label:(0,k.jsx)(v.Z,{fontSize:"15px",children:"Whatsapp same as Contact"})}),(0,k.jsx)(m.Z,{type:"tel",maxLength:10,value:me?ue:ve,name:"phoneC",error:!!Be,disabled:null!==Cn?ve===ue:me,onChange:gn,onKeyPress:function(e){return(0,x.ZP)(e)},id:"data-price",label:"WhatsApp"}),(0,k.jsx)(m.Z,{value:ie,margin:"dense",name:"address",label:"Address",onChange:function(e){return gn(e)},id:"data-Address",multiline:!0,minRows:2}),(0,k.jsx)("div",{children:Ke.map((function(e){return(0,k.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,k.jsxs)(v.Z,{sx:{color:"blue",cursor:"pointer"},onClick:function(){return n=e.id,un(n),rn(!0),void Ke.forEach((function(e){e.id===n&&Ue(e.question)}));var n},children:["".concat(e.id,". ").concat(e.question)," "]})," ",(0,k.jsx)(Z.Z,{size:"1",onClick:function(){return function(e){var n,t=(0,a.Z)(Ke);t=t.filter((function(n){return n.id!==e})),null!==(n=t)&&void 0!==n&&n.length&&t.forEach((function(e,n){e.id=n+1})),Xe((0,a.Z)(t))}(e.id)}})]},e.id)}))}),(null===Ke||void 0===Ke?void 0:Ke.length)<32&&(0,k.jsx)(h.Z,{disabled:3===(null===Ke||void 0===Ke?void 0:Ke.length),onClick:dn,children:"Add Secret Questions"}),(0,k.jsxs)(p.Z,{spacing:3,direction:"row",sx:{mt:2,justifyContent:"end"},children:[(0,k.jsx)(y.ZP,{varient:"outlined",label:null!==Cn?"Cancel":"Reset",onClick:function(){null!==Cn&&bn(),xn(),yn()}}),(0,k.jsx)(y.ZP,{onClick:function(e){return Zn(e)},disabled:!(null!==Ke&&void 0!==Ke&&Ke.length),label:null!==_?"Update":"Add",isLoading:null===T||void 0===T?void 0:T.isLoading})]}),(0,k.jsx)(w,{modal:tn,secrets:Ke,toggleModal:dn,fname:Le,setfname:Ue,ftype:Je,setftype:Fe,editID:ln,clearCustomField:cn,handleSecrets:sn})]})})}},25819:function(){}}]);