(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[385],{39500:function(e,n,t){"use strict";t(47313);var r=t(94469),i=t(69625),o=t(47605),a=t(9506),l=t(61474),u=t(46417);n.Z=function(e){var n=e.modalMessage,t=e.handleConfirm,s=e.isOpen,d=e.closeModal,c=e.confirmText,v=void 0===c?"Delete":c,f=e.cancelText,h=void 0===f?"Cancel":f,p=e.warning,m=void 0===p?"":p,g=n||"Are you sure you want to delete this record?";return(0,u.jsx)("div",{children:(0,u.jsx)(r.Z,{open:!!s,children:(0,u.jsxs)(i.Z,{children:[(0,u.jsx)(o.Z,{children:g}),(0,u.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[!m&&(0,u.jsx)(l.AG,{handleClick:d,label:h}),(0,u.jsx)(l.k4,{label:m?"Ok":v,handleClick:t})]})]})})})}},36936:function(e,n,t){"use strict";t.d(n,{Yl:function(){return d},bS:function(){return u},hr:function(){return s},mB:function(){return l}});var r=t(1413),i=t(80571),o=JSON.parse(sessionStorage.getItem("logInUserData")),a=i.g.injectEndpoints({endpoints:function(e){return{getNominees:e.query({query:function(){return"/backendapi/nominee/list/".concat(o._id)},cacheResponse:!1,providesTags:["Nominee"]}),addNominees:e.mutation({query:function(e){return{url:"backendapi/nominee/add",method:"POST",body:(0,r.Z)((0,r.Z)({},e),{},{userId:o._id})}},invalidatesTags:["Nominee"]}),deleteNominees:e.mutation({query:function(e){return{url:"/backendapi/nominee/delete",method:"POST",body:e}},invalidatesTags:["Nominee"]}),updateNominees:e.mutation({query:function(e){return{url:"/backendapi/nominee/update",method:"POST",body:(0,r.Z)((0,r.Z)({},e),{},{userId:o._id})}},invalidatesTags:["Nominee"]})}}}),l=a.useGetNomineesQuery,u=a.useUpdateNomineesMutation,s=a.useAddNomineesMutation,d=a.useDeleteNomineesMutation},54727:function(e,n,t){"use strict";t.d(n,{Yd:function(){return r},p6:function(){return i}});n.ZP=function(e){var n=(null===e||void 0===e?void 0:e.keyCode)||(null===e||void 0===e?void 0:e.which);n=String.fromCharCode(n);if(!/^[0-9]*$/.test(n))return e.preventDefault(),!1};var r=RegExp(/^[6-9]{1}[0-9]{9}$/),i=function(e,n){var t="";if(!e)return t;var r=new Date(e),i=r.getFullYear(),o="".concat(r.getMonth()+1),a="".concat(r.getDate());if(o.length<2&&(o="0".concat(o)),a.length<2&&(a="0".concat(a)),"dd/mm/yyyy"===n)t=[a,o,i].join("/");else t=[a,o,i].join("-");return t}},97729:function(e,n,t){"use strict";t.d(n,{Gf:function(){return s},Y:function(){return d},c_:function(){return l},zY:function(){return u}});var r=t(74165),i=t(15861),o=t(42612),a=t.n(o),l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",a().md.sha512.create().update(n).digest().toHex());case 4:e.prev=4,e.t0=e.catch(0),console.log("Error while hashing: ",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,o,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=n||sessionStorage.getItem("secretkey"),e.next=4,l(t);case 4:return o=e.sent,e.next=7,s(i,o);case 7:return a=e.sent,e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log("Error while hashing: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,t){return e.apply(this,arguments)}}(),s=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,o,l,u,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===n||void 0===n?void 0:n.length)>0)){e.next=19;break}return i=sessionStorage.getItem("secretkey"),o=null!==t&&void 0!==t?t:i,l=a().random.getBytesSync(32),u=a().cipher.createCipher("AES-GCM",o),e.prev=5,u.start({iv:l,additionalData:"binary-encoded string"}),u.update(a().util.createBuffer(n)),u.finish(),s={iv:l,tag:u.mode.tag.toHex(),output:u.output.toHex()},e.abrupt("return",JSON.stringify(s));case 13:return e.prev=13,e.t0=e.catch(5),console.log("Error while encrypting data: ",e.t0),e.abrupt("return","");case 17:e.next=20;break;case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(n,t){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,o,l,u,s,d,c,v;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:i=sessionStorage.getItem("secretkey"),o=null!==t&&void 0!==t?t:i;try{l=JSON.parse(n)}catch(r){console.log(r)}if(u=l.iv,s=a().util.hexToBytes(l.tag),!(d=l.output)){e.next=28;break}if(e.prev=9,(c=a().cipher.createDecipher("AES-GCM",o)).start({iv:u,additionalData:"binary-encoded string",tag:s}),v=a().util.hexToBytes(d),c.update(a().util.createBuffer(v)),!c.finish()){e.next=19;break}return e.abrupt("return",c.output.toString());case 19:console.log("Error authentication tag didn't match ");case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(9),console.log("Error while decrypting data: ",e.t0),e.abrupt("return","");case 26:e.next=29;break;case 28:return e.abrupt("return",n);case 29:case"end":return e.stop()}}),e,null,[[9,22]])})));return function(n,t){return e.apply(this,arguments)}}()},29748:function(e,n,t){"use strict";t.d(n,{Z:function(){return q}});var r=t(1413),i=t(74165),o=t(93433),a=t(15861),l=t(29439),u=t(47313),s=t(9506),d=t(49920),c=t(19641),v=t(47605),f=t(19536),h=t(71003),p=t(35898),m=t(52156),g=t(8586),Z=t(85585),x=t(54727),y=t(61474),b=t(79428),j=t(94469),C=t(33604),S=t(69625),k=t(46417);function w(e){var n=e.modal,t=e.toggleModal,i=e.fname,o=e.setfname,a=e.ftype,l=e.setftype,u=e.editID,s=e.clearCustomField,d=e.handleSecrets,c=e.secrets;return(0,k.jsxs)(j.Z,{open:n,fullWidth:!0,maxWidth:"xs",onClose:t,children:[(0,k.jsxs)(C.Z,{children:[u?"Update Secret":"Add Secret"," "]}),(0,k.jsxs)(S.Z,{children:[(0,k.jsx)(y.gc,{name:"relation",options:b.DD.filter((function(e){var n,t,r;return e.value!==(null===c||void 0===c||null===(n=c[0])||void 0===n?void 0:n.question)&&e.value!==(null===c||void 0===c||null===(t=c[1])||void 0===t?void 0:t.question)&&e.value!==(null===c||void 0===c||null===(r=c[2])||void 0===r?void 0:r.question)})),onChange:function(e,n){return function(e){var n=null===e||void 0===e?void 0:e.value;o(n)}(n)},value:(0,b.NA)(b.DD,i),renderInput:function(e){return(0,k.jsx)(m.Z,(0,r.Z)((0,r.Z)({},e),{},{label:" Secret Question"}))}}),(0,k.jsx)(m.Z,{type:"text",name:"Answer",margin:"normal",size:"small",fullWidth:!0,error:(null===a||void 0===a?void 0:a.length)<4||" "===a.charAt(0),value:a,label:"Answer",onChange:function(e){l(e.target.value)}}),(0,k.jsxs)(p.Z,{spacing:3,direction:"row",sx:{mt:3,justifyContent:"start"},children:[(0,k.jsx)(y.ZP,{varient:"outlined",label:"Cancel",onClick:function(e){s()}}),(0,k.jsx)(y.ZP,{varient:"contained",label:u?"Update":"Add",disabled:!(null!==i&&void 0!==i&&i.length)||a.length<4,onClick:d})]})]})]})}var N,E=t(69173),A=t(49969),D=t(97729),O=t(36936),I=t(54285),P=null===(N=JSON.parse(sessionStorage.getItem("dropdowns")))||void 0===N?void 0:N.nomineeRelation;function q(e){var n=(0,O.bS)(),t=(0,l.Z)(n,2),j=t[0],C=t[1],S=(0,I.Z)().setSnack,N=(0,O.hr)(),q=(0,l.Z)(N,2),M=q[0],T=q[1],z=e.currentData,R=e.setcurrentData,Y=void 0===R?function(){}:R,_=(0,u.useState)(),V=(0,l.Z)(_,2),B=V[0],L=V[1],U=(0,u.useState)(""),W=(0,l.Z)(U,2),G=W[0],J=W[1],F=(0,u.useState)(""),H=(0,l.Z)(F,2),Q=H[0],$=H[1],K=(0,u.useState)(""),X=(0,l.Z)(K,2),ee=X[0],ne=X[1],te=(0,u.useState)(""),re=(0,l.Z)(te,2),ie=re[0],oe=re[1],ae=(0,u.useState)(""),le=(0,l.Z)(ae,2),ue=le[0],se=le[1],de=(0,u.useState)(""),ce=(0,l.Z)(de,2),ve=ce[0],fe=ce[1],he=(0,u.useState)(!0),pe=(0,l.Z)(he,2),me=pe[0],ge=pe[1],Ze=(0,u.useState)(""),xe=(0,l.Z)(Ze,2),ye=xe[0],be=xe[1],je=(0,u.useState)(""),Ce=(0,l.Z)(je,2),Se=Ce[0],ke=Ce[1],we=(0,u.useState)(""),Ne=(0,l.Z)(we,2),Ee=Ne[0],Ae=Ne[1],De=(0,u.useState)(""),Oe=(0,l.Z)(De,2),Ie=Oe[0],Pe=Oe[1],qe=(0,u.useState)(""),Me=(0,l.Z)(qe,2),Te=Me[0],ze=Me[1],Re=(0,u.useState)(""),Ye=(0,l.Z)(Re,2),_e=Ye[0],Ve=Ye[1],Be=(0,u.useState)(""),Le=(0,l.Z)(Be,2),Ue=Le[0],We=Le[1],Ge=(0,u.useState)(""),Je=(0,l.Z)(Ge,2),Fe=Je[0],He=Je[1],Qe=(0,u.useState)([]),$e=(0,l.Z)(Qe,2),Ke=$e[0],Xe=$e[1],en=(0,u.useState)(!1),nn=(0,l.Z)(en,2),tn=nn[0],rn=nn[1],on=(0,u.useState)(""),an=(0,l.Z)(on,2),ln=an[0],un=an[1],sn=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n,t,r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ln){e.next=9;break}return n=(0,o.Z)(Ke),e.next=4,(0,D.zY)(Fe);case 4:t=e.sent,n.push({id:(null===n||void 0===n?void 0:n.length)+1,question:Ue,answer:t}),Xe((0,o.Z)(n)),e.next=15;break;case 9:r=(0,o.Z)(Ke),a=r.findIndex((function(e){return e.id===ln})),r[a].question=Ue,r[a].answer="",Xe((0,o.Z)(r)),un("");case 15:rn(!1),We(""),He("");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dn=function(){We(""),He(""),rn(!tn)};(0,u.useEffect)((function(){if(z){var e=z.name,n=z.relation,t=z.relation1,r=z.address,i=z.email,a=z.primaryContact,l=z.secondaryContact,u=null===z||void 0===z?void 0:z.secrets;$(e),L(n),"Others"===n&&J(t),oe(r),ne(i),se(a),fe(l),(null===u||void 0===u?void 0:u.length)&&Xe((0,o.Z)(u))}}),[]),(0,u.useEffect)((function(){var e,n;(null!==T&&void 0!==T&&T.isSuccess&&(S({msg:"Nominee added successfully",severity:"success"}),bn(),Y(null)),null!==T&&void 0!==T&&T.isError)&&S({msg:(null===(e=T.error)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Something went wrong",severity:"error"})}),[T]),(0,u.useEffect)((function(){var e,n;(null!==C&&void 0!==C&&C.isSuccess&&(S({msg:"Nominee updated successfully",severity:"success"}),bn(),Y(null)),null!==C&&void 0!==C&&C.isError)&&S({msg:(null===(e=C.error)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Something went wrong",severity:"error"})}),[C]);var cn=function(){tn&&dn(),rn(!tn)},vn=function(){return be("Enter Valid Name")},fn=function(){return ke("Enter Valid Email")},hn=function(){return ze("Enter Valid Contact No.")},pn=function(){return Ae("Enter Valid Relation")},mn=function(){return Pe("Enter Valid Relation")},gn=function(e){var n,t=e.target.name,r=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value;switch(t){case"name":$(r),null!==r&&void 0!==r&&r.length&&r.trim()?be(""):vn();break;case"email":ne(r);var i=r.match(/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/);r&&i&&r.trim()?ke(""):fn();break;case"address":oe(r);break;case"phone":se(r),me&&fe(r),null!==r&&void 0!==r&&r.length&&10===r.length&&r.trim()&&x.Yd.test(r)?ze(""):hn(),(null===r||void 0===r||!r.length)&&ze("");break;case"phoneC":fe(r),null!==r&&void 0!==r&&r.length&&10===r.length&&r.trim()&&x.Yd.test(r)?Ve(""):Ve("Enter Valid whatsapp No."),(null===r||void 0===r||!r.length)&&Ve("");break;case"relation":null!==r&&void 0!==r&&r.length&&r.trim()?Ae(""):pn();break;case"relation1":J(r),null!==r&&void 0!==r&&r.length&&r.trim()?Pe(""):mn()}},Zn=function(e){e.preventDefault();var n=((null===Q||void 0===Q||!Q.length)&&vn(),(null===ee||void 0===ee||!ee.length)&&fn(),(null===ue||void 0===ue||!ue.length)&&hn(),(null===B||void 0===B||!B.length)&&pn(),"Others"===B&&(null===G||void 0===G||!G.length)&&mn(),ye||!(null!==Q&&void 0!==Q&&Q.length)||Ee||!(null!==B&&void 0!==B&&B.length)||Ie||"Others"===B&&!(null!==G&&void 0!==G&&G.length)||Se||!(null!==ee&&void 0!==ee&&ee.length)||Te||!(null!==ue&&void 0!==ue&&ue.length)||_e);if(n||null!==T&&void 0!==T&&T.isLoading)console.log(n,"inValid",Ee,"errorrelation",Ie);else{var t={relation:null===B||void 0===B?void 0:B.trim(),relation1:null===G||void 0===G?void 0:G.trim(),email:null===ee||void 0===ee?void 0:ee.trim(),address:null===ie||void 0===ie?void 0:ie.trim(),primaryContact:null===ue||void 0===ue?void 0:ue.trim(),secondaryContact:null===ve||void 0===ve?void 0:ve.trim(),name:null===Q||void 0===Q?void 0:Q.trim(),secrets:Ke};z?(t._id=null===z||void 0===z?void 0:z._id,t.usage=null===z||void 0===z?void 0:z.usage,j(t)):(M(t),yn())}},xn=function(){$(""),Xe([]),L(""),J(""),ne(""),oe(""),se(""),fe("")},yn=function(){be(""),ze(""),Ve(""),ke(""),Pe("")},bn=e.handleSidebar,jn=e.data;return(0,k.jsx)(d.Z,{anchor:"right",open:!0,onOpen:function(){},onClose:function(){return Y(null)},children:(0,k.jsxs)(s.Z,{sx:{mt:8,width:350,px:2},component:"form",children:[(0,k.jsxs)(c.ZP,{item:!0,sx:{display:"flex",justifyContent:"space-between",p:1},children:[(0,k.jsx)(v.Z,{color:"primary",children:null!==jn?"UPDATE NOMINEE":"ADD NEW NOMINEE"}),(0,k.jsx)(g.Z,{size:20,sx:{cursor:"pointer"},onClick:function(){bn(),Y(null),xn(),yn()}})]}),(0,k.jsx)(f.Z,{}),(0,k.jsx)(m.Z,{name:"name",value:Q,error:!!ye,label:"Name*",onChange:gn,id:"data-name"}),(0,k.jsx)(m.Z,{type:"email",name:"email",value:ee,error:!!Se,label:"Email*",onChange:gn,id:"data-email"}),(0,k.jsx)(m.Z,{type:"tel",maxLength:10,value:ue,error:!!Te,name:"phone",onChange:gn,onKeyPress:function(e){return(0,x.ZP)(e)},id:"data-price1",label:"Contact No.*"}),(0,k.jsx)(c.ZP,{item:!0,children:(0,k.jsx)(y.gc,{id:"relationID",name:"relation",onChange:function(e,n){return function(e){var n=null===e||void 0===e?void 0:e.value;L(n),"Others"!==n&&(Pe(""),J("")),null!==n&&void 0!==n&&n.length&&n.trim()&&Ae("")}(n)},options:P,value:(0,b.NA)(P,B),error:Ee,renderInput:function(e){return(0,k.jsx)(m.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Relation*"}))}})}),"Others"===B&&(0,k.jsx)(m.Z,{name:"relation1",value:G,error:!!Ie,label:"Relation Name*",onChange:gn,id:"data-Relation",style:{borderColor:Ie?"red":""}}),(0,k.jsx)(m.Z,{type:"tel",maxLength:10,value:me?ue:ve,name:"phoneC",error:!!_e,disabled:null===jn&&me,onChange:gn,onKeyPress:function(e){return(0,x.ZP)(e)},id:"data-price",label:"WhatsApp Number"}),(0,k.jsx)(E.Z,{sx:{margin:0},control:(0,k.jsx)(A.Z,{sx:{padding:0},color:"primary",name:"whatsapp",size:"small",checked:null!==jn?ve===ue:me,onChange:function(){return me?fe(""):(fe(ue),Ve("")),void ge((function(e){return!e}))}}),label:(0,k.jsx)(v.Z,{fontSize:"15px",children:"Whatsapp same as Contact"})}),(0,k.jsx)(m.Z,{value:ie,name:"address",label:"Address",onChange:function(e){return gn(e)},id:"data-Address",multiline:!0,minRows:2}),(0,k.jsx)("div",{children:Ke.map((function(e){return(0,k.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,k.jsxs)(v.Z,{sx:{color:"blue",cursor:"pointer"},onClick:function(){return n=e.id,un(n),rn(!0),void Ke.forEach((function(e){e.id===n&&We(e.question)}));var n},children:["".concat(e.id,". ").concat(e.question)," "]})," ",(0,k.jsx)(Z.Z,{size:"1",onClick:function(){return function(e){var n,t=(0,o.Z)(Ke);t=t.filter((function(n){return n.id!==e})),null!==(n=t)&&void 0!==n&&n.length&&t.forEach((function(e,n){e.id=n+1})),Xe((0,o.Z)(t))}(e.id)}})]},e.id)}))}),(null===Ke||void 0===Ke?void 0:Ke.length)<32&&(0,k.jsx)(h.Z,{disabled:3===(null===Ke||void 0===Ke?void 0:Ke.length),onClick:cn,children:"Add Secret Question *"}),(0,k.jsxs)(p.Z,{spacing:3,direction:"row",sx:{mt:2,justifyContent:"end"},children:[(0,k.jsx)(y.ZP,{varient:"outlined",label:null!==jn?"Cancel":"Reset",onClick:function(){null!==jn&&bn(),xn(),yn()}}),(0,k.jsx)(y.ZP,{onClick:function(e){return Zn(e)},disabled:!(null!==Ke&&void 0!==Ke&&Ke.length),label:null!==z?"Update":"Add",isLoading:(null===T||void 0===T?void 0:T.isLoading)||(null===C||void 0===C?void 0:C.isLoading)})]}),(0,k.jsx)(w,{modal:tn,secrets:Ke,toggleModal:cn,fname:Ue,setfname:We,ftype:Fe,setftype:He,editID:ln,clearCustomField:dn,handleSecrets:sn})]})})}},25819:function(){}}]);