"use strict";(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[216],{18825:function(e,n,t){t.d(n,{z:function(){return l}});var s=t(71535),r=t(40229),a=t(22449),o=(t(47313),t(94843)),i=t(46417),l=function(e){return(0,i.jsxs)(s.ZP,{container:!0,sx:{px:2.5,py:1},children:[(0,i.jsx)(s.ZP,{item:!0,xs:6,children:(0,i.jsx)(o.ll,{title:e.heading})}),(0,i.jsx)(s.ZP,{item:!0,xs:6,children:(0,i.jsx)(r.Z,{display:"flex",justifyContent:"flex-end",children:(0,i.jsx)(a.Z,{onChange:function(n){return e.search(n.target.value)},placeholder:"Search"})})})]})}},46216:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var s=t(1413),r=t(74165),a=t(15861),o=t(93433),i=t(29439),l=t(47313),c=t(40229),u=t(68847),d=t(34940),p=t(96327),h=t(39995),f=t(7081),x=t(88356),v=t(34061),m=t(89870),w=t(5448),Z=t(22455),j=t(71363),g=t(71535),y=t(96900),C=t(56972),S=t(61474),k=t(97729),P=t(12613),N=t(71207),b=t(35192),M=t(91210),L=t(8586),z=t(46095),I=t(46417),A=(0,z.Z)((0,I.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy"),G=t(86282),V=t(16615),D=t(18825),E=function(e){return(0,I.jsx)(N.Z,{onClick:function(){return e.editRow(!0)}})},O=function(e){var n=(0,l.useState)(!1),t=(0,i.Z)(n,2),s=t[0],r=t[1];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(f.Z,{open:s,children:[(0,I.jsx)(x.Z,{children:"Are you sure you want to delete this record?"}),(0,I.jsxs)(v.Z,{children:[(0,I.jsx)(m.Z,{onClick:function(){return r(!1)},children:"Cancel"}),(0,I.jsx)(m.Z,{onClick:function(){e.deleteRow(),r(!1)},children:"Delete"})]})]}),(0,I.jsx)(p.Z,{handleConfirm:function(){e.deleteRow(),r(!1)},isOpen:s,closeModal:function(){return r(!1)}}),(0,I.jsx)(b.Z,{size:window.screen.width<500?13:20,onClick:function(){return r(!0)}})]})},U=function(e){return(0,I.jsx)(M.Z,{onClick:function(){return e.set()}})},_=JSON.parse(sessionStorage.getItem("dropdowns")).passwordTypes,T=function(e){var n=(0,V.tE)(),t=(0,i.Z)(n,1)[0],p=(0,V.B)(),v=(0,i.Z)(p,1)[0],N=(0,V.np)(),b=(0,i.Z)(N,1)[0],M=(0,V.T2)(),z=(0,i.Z)(M,1)[0],T=(0,l.useState)(!1),H=(0,i.Z)(T,2),R=H[0],W=H[1],F=(0,l.useState)(!1),J=(0,i.Z)(F,2),Y=J[0],B=J[1],q=(0,l.useState)(!1),K=(0,i.Z)(q,2),Q=K[0],X=K[1],$=(0,l.useState)(null),ee=(0,i.Z)($,2),ne=ee[0],te=ee[1],se=(0,l.useState)(!1),re=(0,i.Z)(se,2),ae=re[0],oe=re[1],ie=(0,l.useState)(""),le=(0,i.Z)(ie,2),ce=le[0],ue=le[1],de=(0,l.useState)(""),pe=(0,i.Z)(de,2),he=pe[0],fe=pe[1],xe=(0,l.useState)(""),ve=(0,i.Z)(xe,2),me=ve[0],we=ve[1],Ze=(0,l.useState)(""),je=(0,i.Z)(Ze,2),ge=je[0],ye=je[1],Ce=(0,l.useState)(""),Se=(0,i.Z)(Ce,2),ke=Se[0],Pe=Se[1],Ne=(0,l.useState)(""),be=(0,i.Z)(Ne,2),Me=be[0],Le=be[1],ze=(0,l.useState)(""),Ie=(0,i.Z)(ze,2),Ae=Ie[0],Ge=Ie[1],Ve=(0,l.useState)([]),De=(0,i.Z)(Ve,2),Ee=De[0],Oe=De[1],Ue=(0,l.useState)([]),_e=(0,i.Z)(Ue,2),Te=_e[0],He=_e[1],Re=(0,l.useState)(!1),We=(0,i.Z)(Re,2),Fe=We[0],Je=We[1],Ye=[{label:"Edit",id:"edit",cell:function(e){return(0,I.jsx)(E,{row:e,editRow:function(){Be(e)}})}},{label:"Alias",selector:"pwdname",id:"pwdname",cell:function(e){return e.pwdname}},{label:"Type",selector:"ptype",id:"ptype",cell:function(e){return e.ptype}},{label:"UserName",selector:"userName",id:"userName",cell:function(e){return(0,I.jsxs)("span",{children:[e.userName.charAt(0),"******",e.userName.charAt(e.userName.length-1)]})}},{label:"Password",selector:"pwd",cell:function(e){return(0,I.jsx)("span",{children:"********"})}},{label:"",sortable:!1,cell:function(e){return(0,I.jsx)(U,{showPass:Y,set:function(){Le(e),oe(!ae)}})}},{label:"",sortable:!1,cell:function(e){return(0,I.jsx)(O,{row:e,deleteRow:function(){return Qe(e)}})}}];(0,l.useEffect)((function(){qe()}),[]),(0,l.useEffect)((function(){if(he.length){var e=(Te.length?Te:Ee).filter((function(e){var n,t,s=e.userName,r=e.pwdName,a=e.pType;return n=(null===s||void 0===s?void 0:s.toLowerCase().startsWith(he.toLowerCase()))||(null===r||void 0===r?void 0:r.toLowerCase().startsWith(he.toLowerCase()))||(null===a||void 0===a?void 0:a.toLowerCase().startsWith(he.toLowerCase())),t=(null===s||void 0===s?void 0:s.toLowerCase().includes(he.toLowerCase()))||(null===r||void 0===r?void 0:r.toLowerCase().includes(he.toLowerCase()))||(null===a||void 0===a?void 0:a.toLowerCase().includes(he.toLowerCase())),n||(!n&&t?t:null)}));Oe((0,o.Z)(e))}else Oe((0,o.Z)(Te))}),[he]);var Be=function(e){var n=e.ptype,t=e.pwd,s=e.pwdname,r=e.userName;we(n),X(!0),te(e),ue(t),ye(r),Pe(s)},qe=function(){JSON.parse(sessionStorage.getItem("logInUserData"))&&v().then((function(e){console.log(e,"res");for(var n=[],t=0;t<(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.length);t+=1){var s,r={};r.ptype=(0,k.Y)(e.data[t].ptype),r.pwd=(0,k.Y)(e.data[t].pwd),r.pwdId=(0,k.Y)(e.data[t].pwdId),r.pwdname=(0,k.Y)(e.data[t].pwdname),r.userName=(0,k.Y)(e.data[t].userName),r._id=e.data[t]._id,n.push(r)}null!==e&&void 0!==e&&e.data&&(Oe(n.reverse()),He(n.reverse()))}))},Ke=function(){oe(!ae),Ge(""),Le(""),B(!1)},Qe=function(e){z(e).then((function(n){n&&P.A9;var t=Ee.filter((function(n){return n._id!==e._id}));Oe(t),He(t)})),Xe(!1,null)},Xe=function(e,n){},$e=JSON.parse(sessionStorage.getItem("logInUserData")),en="";$e&&((en=$e.pwdtime)>10||en<2)&&(en=3);var nn=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById(n).innerHTML,e.prev=1,e.next=4,navigator.clipboard.writeText(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("Failed to copy: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}();return(0,I.jsxs)(c.Z,{children:[(0,I.jsx)(P.A9,{openSnack:Fe,handleClick:function(){return Je(!1)},openSnackMsg:"Wrong Password",severity:"warning"}),";",(0,I.jsxs)(f.Z,{open:ae,onClose:Ke,children:[(0,I.jsxs)(w.Z,{children:["Confirm your identity",(0,I.jsx)(u.Z,{onClick:Ke,sx:{position:"absolute",right:8},children:(0,I.jsx)(L.Z,{})})]}),(0,I.jsxs)(x.Z,{children:["Enter your login password to continue",(0,I.jsx)(P.nv,{type:"password",id:"password",placeholder:"Password",value:Ae,onChange:function(e){Ge(e.target.value)}}),Y&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Z.Z,{icon:!1,sx:{py:0,my:1},children:(0,I.jsxs)(j.Z,{display:"flex",children:["Username :",(0,I.jsx)(j.Z,{fontWeight:700,color:"primary.theme",marginLeft:1,id:"vault-username",children:Me.userName})]})}),(0,I.jsx)(Z.Z,{icon:!1,action:(0,I.jsx)(m.Z,{color:"inherit",size:"small",onClick:function(){return nn("vault-password")},children:(0,I.jsx)(A,{fontSize:"small"})}),sx:{py:0,alignItems:"center"},children:(0,I.jsxs)(j.Z,{display:"flex",children:["Password :",(0,I.jsx)(j.Z,{fontWeight:700,color:"primary.theme",id:"vault-password",marginLeft:1,children:Me.pwd})]})})]})]}),(0,I.jsx)(x.Z,{sx:{pt:0,justifyContent:"end",display:"flex"},children:(0,I.jsx)(m.Z,{disabled:""===Ae,onClick:function(){(0,k.tc)(Ae).then((function(e){e!==sessionStorage.getItem("secretkey")?Je(!0):(!function(e,n){var t=Ee.map((function(e){return Object.assign({},e)}));console.log(t.reverse,"locations"),t[n].showPass=e,Oe(t),B(e)}(!0,Ee.indexOf(Me)),Ge(""))}))},variant:"contained",children:"View"})})]}),(0,I.jsxs)(g.ZP,{container:!0,spacing:2,sx:{p:2},children:[(0,I.jsx)(g.ZP,{item:!0,xs:12,md:9,lg:9,children:(0,I.jsx)(g.ZP,{item:!0,children:(0,I.jsx)(y.Z,{children:(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(P.ll,{color:"text.secondary",title:Q?"Edit Password":"Save new Password"}),(0,I.jsxs)(g.ZP,{container:!0,rowSpacing:.01,spacing:1,children:[(0,I.jsx)(g.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(S.gc,{id:"color",name:"color",options:_,onChange:function(e,n){return we(n?n.value:"")},value:(0,G.NA)(_,me),renderInput:function(e){return(0,I.jsx)(P.nv,(0,s.Z)((0,s.Z)({},e),{},{placeholder:"Password Type *"}))}})}),(0,I.jsx)(g.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(P.nv,{name:"accountNumber",id:"accountNumberMulti",placeholder:"Alias *",value:ke,onChange:function(e){var n=e.target.value.trim();Pe(n?e.target.value:"")}})}),(0,I.jsx)(g.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(P.nv,{name:"userName1",id:"userNameMulti1",placeholder:"User Name",value:ge,onChange:function(e){var n=e.target.value.trim();ye(n||"")}})}),(0,I.jsx)(g.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(P.nv,{type:"password",name:"name",id:"nameMultiPassword",placeholder:"Password *",value:ce,onChange:function(e){ue(e.target.value)}})})]}),(0,I.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,I.jsx)(S.AG,{label:Q?"Cancel":"Reset",handleClick:function(){return X(!1),ue(""),we(""),ye(""),void Pe("")}}),(0,I.jsx)(S.k4,{isLoading:R,label:Q?"Update":"Add",handleClick:function(e){!R&&(Q?function(e){if(W(!0),e.preventDefault(),""===me||""===ce||""===ke)return W(!1),(0,I.jsx)(P.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Mandatory Field Missing !!",severity:"warning"});var n={showPass:!1,pwdname:(0,k.Gf)(ke),pwd:(0,k.Gf)(ce),ptype:(0,k.Gf)(me),userName:(0,k.Gf)(ge),user:JSON.parse(sessionStorage.getItem("logInUserData"))._id,_id:ne._id};Oe(""),ue(""),X(!1),te(null),we(""),ye(""),Pe(""),t(n).then((function(e){return qe(),W(!1),(0,I.jsx)(P.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Password saved successfully"})}))}(e):function(e){if(W(!0),e.preventDefault(),""===me||""===ce||""===ke)return W(!1),(0,I.jsx)(P.A9,{handleClick:function(){},openSnack:Fe,openSnackMsg:"Mandatory Field Missing !!",severity:"warning"});var n={pwdname:ke,pwd:ce,showPass:!1,userName:ge,accountNumber:ke},t={showPass:!1,pwdname:(0,k.Gf)(ke),pwd:(0,k.Gf)(ce),ptype:(0,k.Gf)(me),userName:(0,k.Gf)(ge),user:JSON.parse(sessionStorage.getItem("logInUserData"))._id};console.log(Ee,"dneoidnow"),Ee.push(n),Oe(""),ue(""),we(""),ye(""),Pe(""),b(t).then((function(e){return qe(),W(!1),(0,I.jsx)(P.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Password saved successfully"})}))}(e))}})]})]})})})}),(0,I.jsx)(h.Z,{}),(0,I.jsx)(g.ZP,{item:!0,xs:9,children:(0,I.jsxs)(y.Z,{children:[(0,I.jsx)(D.z,{heading:"Saved Passwords",search:function(e){fe(e.target.value)}}),(0,I.jsx)(d.Z,{}),(0,I.jsxs)(C.Z,{children:[0===(null===Ee||void 0===Ee?void 0:Ee.length)&&(0,I.jsx)(j.Z,{children:"No records found!!!"}),(null===Ee||void 0===Ee?void 0:Ee.length)>0&&(0,I.jsx)(P.Gn,{rows:Ee,columns:Ye})]})]})})]})]})}},8586:function(e,n,t){var s=t(46095),r=t(46417);n.Z=(0,s.Z)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},35192:function(e,n,t){var s=t(46095),r=t(46417);n.Z=(0,s.Z)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},71207:function(e,n,t){var s=t(46095),r=t(46417);n.Z=(0,s.Z)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},91210:function(e,n,t){var s=t(46095),r=t(46417);n.Z=(0,s.Z)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility")}}]);