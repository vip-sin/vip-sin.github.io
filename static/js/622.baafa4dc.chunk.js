(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[622],{10498:function(e,t,r){"use strict";r.d(t,{C:function(){return u}});var n=r(47605),a=r(46417),u=function(e){var t=e.msg;return null!==t&&void 0!==t&&t.length?(0,a.jsx)(n.Z,{variant:"subtitle2",sx:{color:"red"},children:t}):(0,a.jsx)(a.Fragment,{})}},97729:function(e,t,r){"use strict";r.d(t,{Gf:function(){return o},Y:function(){return c},c_:function(){return i},mq:function(){return d}});var n=r(74165),a=r(15861),u=r(42612),s=r.n(u),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",s().md.sha512.create().update(t).digest().toHex());case 4:e.prev=4,e.t0=e.catch(0),console.log("Error while hashing: ",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,u,i,o,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===t||void 0===t?void 0:t.length)>0)){e.next=19;break}return a=sessionStorage.getItem("secretkey"),u=null!==r&&void 0!==r?r:a,i=s().random.getBytesSync(32),o=s().cipher.createCipher("AES-GCM",u),e.prev=5,o.start({iv:i,additionalData:"binary-encoded string"}),o.update(s().util.createBuffer(t)),o.finish(),c={iv:i,tag:o.mode.tag.toHex(),output:o.output.toHex()},e.abrupt("return",JSON.stringify(c));case 13:return e.prev=13,e.t0=e.catch(5),console.log("Error while encrypting data: ",e.t0),e.abrupt("return","");case 17:e.next=20;break;case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,r){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,u,i,o,c,d,l,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:a=sessionStorage.getItem("secretkey"),u=null!==r&&void 0!==r?r:a;try{i=JSON.parse(t)}catch(n){console.log(n)}if(o=i.iv,c=s().util.hexToBytes(i.tag),!(d=i.output)){e.next=28;break}if(e.prev=9,(l=s().cipher.createDecipher("AES-GCM",u)).start({iv:o,additionalData:"binary-encoded string",tag:c}),p=s().util.hexToBytes(d),l.update(s().util.createBuffer(p)),!l.finish()){e.next=19;break}return e.abrupt("return",l.output.toString());case 19:console.log("Error authentication tag didn't match ");case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(9),console.log("Error while decrypting data: ",e.t0),e.abrupt("return","");case 26:e.next=29;break;case 28:return e.abrupt("return",t);case 29:case"end":return e.stop()}}),e,null,[[9,22]])})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,u,i,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.length>0)){e.next=18;break}return a=s().md.sha256.create().update(r),u=s().random.getBytesSync(32),i=s().cipher.createCipher("AES-GCM",a.digest()),e.prev=4,i.start({iv:u,additionalData:"binary-encoded string"}),i.update(s().util.createBuffer(t)),i.finish(),o={iv:u,tag:i.mode.tag.toHex(),output:i.output.toHex()},e.abrupt("return",JSON.stringify(o));case 12:return e.prev=12,e.t0=e.catch(4),console.log("Error while encrypting data: ",e.t0),e.abrupt("return","");case 16:e.next=19;break;case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,r){return e.apply(this,arguments)}}()},25323:function(e,t,r){"use strict";var n=r(74165),a=r(1413),u=r(15861),s=r(29439),i=r(47313),o=r(58467),c=r(71003),d=r(8047),l=r(9506),p=r(97729),f=r(95157),v=r(10498),h=r(98668),m=r(63709),g=r(8908),x=r(54285),y=r(46417);t.Z=function(){var e,t,r=(0,m.I0)(),b=(0,o.s0)(),S=(0,o.TH)(),Z=(0,f.v_)(),k=(0,s.Z)(Z,1)[0],A=(0,f.YA)(),w=(0,s.Z)(A,2),T=w[0],_=w[1],E=_.isError,P=_.isLoading,j=(0,x.Z)(),D=j.setAuth,I=j.persist,O=j.setPersist,L=(null===(e=S.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/user",q=(0,i.useState)(""),C=(0,s.Z)(q,2),R=C[0],G=C[1],M=(0,i.useState)(""),N=(0,s.Z)(M,2),F=N[0],U=N[1],H=(0,i.useState)(""),B=(0,s.Z)(H,2),J=B[0],Q=B[1],V=function(e){e.preventDefault(),""!==R&&""!==F||Q("Both UserInfo and Password is mandatory "),""===F||""===R?Q("Invalid Credentials !"):(0,p.c_)(R).then(function(){var e=(0,u.Z)((0,n.Z)().mark((function e(t){var u,s,i,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T({user:F.trim(),password:t}).unwrap();case 3:if("Active"!==(null===(u=e.sent)||void 0===u?void 0:u.status)){e.next=21;break}return s=u.passwordKey,I&&(sessionStorage.setItem("authtoken",u.token),sessionStorage.setItem("secretkey",s),sessionStorage.setItem("logInUserData",JSON.stringify(u)),sessionStorage.setItem("logInGreeting",!0),sessionStorage.setItem("theme",u.theme?u.theme:"light")),D((0,a.Z)({},u)),r((0,g.Dj)((0,a.Z)({},u))),e.prev=9,e.next=12,k();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.error(e.t0);case 17:G(""),U(""),Q(""),b(L,{replace:!0});case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(0),null!==e.t1&&void 0!==e.t1&&e.t1.response?400===(null===(i=e.t1.response)||void 0===i?void 0:i.status)?Q("Missing Username or Password"):401===(null===(o=e.t1.response)||void 0===o?void 0:o.status)?Q("Unauthorized"):Q("Login Failed"):Q("No Server Response");case 26:case"end":return e.stop()}}),e,null,[[0,23],[9,14]])})));return function(t){return e.apply(this,arguments)}}())};return(0,i.useEffect)((function(){Q("")}),[F,R]),(0,i.useEffect)((function(){localStorage.setItem("persist",I)}),[I]),(0,y.jsxs)(l.Z,{component:"form",onSubmit:function(e){return V(e)},sx:{mt:1},children:[(0,y.jsx)(v.C,{msg:J||E}),(0,y.jsx)(d.Z,{required:!0,fullWidth:!0,margin:"dense",placeholder:"Phone or Email",name:"email",autoFocus:!0,value:F,id:"emaillogin",onChange:function(e){U(e.target.value)}}),(0,y.jsx)(d.Z,{required:!0,name:"password",margin:"dense",fullWidth:!0,onChange:function(e){G(e.target.value)},autoComplete:"current-password",placeholder:"Password",type:"password",id:"password"}),(0,y.jsx)(c.Z,{type:"submit",fullWidth:!0,onClick:function(e){return V(e)},variant:"contained",sx:{mt:3,mb:2},children:P?(0,y.jsx)(h.Z,{size:25}):"Sign In"}),(0,y.jsxs)("div",{className:"persistCheck",children:[(0,y.jsx)("input",{type:"checkbox",id:"persist",onChange:function(){O((function(e){return!e}))},checked:I}),(0,y.jsx)("label",{htmlFor:"persist",children:"Trust This Device"})]})]})}},95157:function(e,t,r){"use strict";r.d(t,{IZ:function(){return h},YA:function(){return m},dX:function(){return f},f:function(){return l},gJ:function(){return d},gS:function(){return v},n3:function(){return p},v_:function(){return g}});var n=r(74165),a=r(15861),u=r(80571),s=r(8908),i=r(97729),o=JSON.parse(sessionStorage.getItem("logInUserData")),c=u.g.injectEndpoints({endpoints:function(e){return{validatePhoneNumber:e.mutation({query:function(e){return{url:"/backendapi/otp/newuser/send",method:"POST",body:e}}}),forgotPWD:e.mutation({query:function(e){return{url:"/backendapi/user/forget",method:"POST",body:e}}}),validateOTP:e.mutation({query:function(e){return{url:"/backendapi/otp/verify",method:"POST",body:{otp:e.otp,key:e.key}}}}),sendOTP:e.mutation({query:function(e,t){return{url:"/backendapi/otp/send",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function r(){var a,u,i,o;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.dispatch,u=t.queryFulfilled,i=e.recoveryId,r.prev=2,r.next=5,u;case 5:o=r.sent,i&&a((0,s.IE)({recoveryId:i,recoveryOtp:o.data})),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),a({type:"ERROR_ALL_ASSET_DATA",data:r.t0});case 12:return r.prev=12,a({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),r.finish(12);case 15:case"end":return r.stop()}}),r,null,[[2,9,12,15]])})))()}}),validateREcoveryID:e.mutation({query:function(e){return{url:"/backendapi/user/recovercheck",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function r(){var a,u,s,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.dispatch,u=t.queryFulfilled,s=e.recoveryId,r.prev=2,r.next=5,u;case 5:i=r.sent,console.log("response",i),a(c.endpoints.sendOTP(s)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),a({type:"ERROR_ALL_ASSET_DATA",data:r.t0});case 13:return r.prev=13,a({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[2,10,13,16]])})))()},invalidatesTags:function(e,t,r){return[{type:"Post",id:r.id}]}}),subscribe:e.mutation({query:function(e){return{url:"/backendapi/newsletter/subscribe",method:"POST",body:{token:localStorage.getItem("fcmtoken"),topic:e}}},invalidatesTags:function(e,t,r){return[{type:"Post",id:r.id}]}}),login:e.mutation({query:function(e){return{url:"/backendapi/user/login",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:null!==(u=e.sent)&&void 0!==u&&u.data&&r((0,s.Dj)(u.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"ERROR_ALL_ASSET_DATA",data:e.t0});case 11:return e.prev=11,r({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()}}),dropdown:e.mutation({query:function(e){return{url:"/backendapi/dropdowns"}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,u,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:null!==(u=e.sent)&&void 0!==u&&u.data&&sessionStorage.setItem("dropdowns",JSON.stringify(null===(s=u.data)||void 0===s?void 0:s[0])),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"ERROR_ALL_ASSET_DATA",data:e.t0});case 11:return e.prev=11,r({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()}}),getUserData:e.mutation({query:function(e){return{url:"/backendapi/user/get",method:"POST"}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:null!==(u=e.sent)&&void 0!==u&&u.data&&console.log("first dop",u.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"ERROR_ALL_ASSET_DATA",data:e.t0});case 11:return e.prev=11,r({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()}}),updateSecrets:e.mutation({query:function(e){return{url:"/backendapi/user/update/secrets",method:"POST",body:{secrets:e,_id:o._id}}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,u,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:null!==(u=e.sent)&&void 0!==u&&u.data&&r((0,s.Dj)(null===(i=u.data)||void 0===i?void 0:i[0])),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[1,8,10,12]])})))()}}),getDocuments:e.mutation({query:function(e){var t=e.user;e.token;return{url:"/backendapi/document/".concat(null===t||void 0===t?void 0:t._id)}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,u,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:u=e.sent,o=0;case 6:if(!(o<u.length)){e.next=20;break}return e.next=9,(0,i.Y)(u[o].desc);case 9:return u[o].desc=e.sent,u[o].id=o+1,e.next=13,(0,i.Y)(u[o].expiry);case 13:return u[o].expiry=e.sent,e.next=16,(0,i.Y)(u[o].alias);case 16:u[o].alias=e.sent;case 17:o+=1,e.next=6;break;case 20:r((0,s.wF)(u)),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(1);case 25:return e.prev=25,e.finish(25);case 27:case"end":return e.stop()}}),e,null,[[1,23,25,27]])})))()}})}}}),d=(c.useValidatePhoneNumberMutation,c.useForgotPWDMutation),l=c.useValidateOTPMutation,p=c.useSendOTPMutation,f=c.useValidateREcoveryIDMutation,v=c.useGetUserDataMutation,h=c.useUpdateSecretsMutation,m=(c.useSubscribeMutation,c.useLoginMutation),g=c.useDropdownMutation;c.useGetDocumentsMutation},24160:function(e,t,r){"use strict";r.r(t);r(47313);var n=r(19641),a=r(63585),u=r(47605),s=r(25323),i=r(29137),o=r(2135),c=r(19860),d=r(46417);t.default=function(){var e=(0,c.Z)();return(0,d.jsxs)(n.ZP,{container:!0,style:{paddingTop:"4%"},children:[(0,d.jsx)(n.ZP,{item:!0,xs:1,md:4,sm:2}),(0,d.jsx)(n.ZP,{item:!0,xs:10,md:4,sm:8,style:{padding:25,backgroundColor:e.palette.background.paper,borderRadius:20,boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.30)"},children:(0,d.jsxs)(n.ZP,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,d.jsx)(n.ZP,{item:!0,align:"center",xs:12,children:(0,d.jsx)(a.Z,{children:(0,d.jsx)(i.Z,{})})}),(0,d.jsx)(n.ZP,{item:!0,children:(0,d.jsx)(u.Z,{align:"center",variant:"h5",children:"SignIn"})}),(0,d.jsx)(n.ZP,{item:!0,children:(0,d.jsx)(s.Z,{})}),(0,d.jsxs)(n.ZP,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,d.jsx)(n.ZP,{item:!0,children:(0,d.jsx)(o.rU,{to:"/forgot",children:"Forgot password?"})}),(0,d.jsx)(n.ZP,{item:!0,children:(0,d.jsx)(o.rU,{to:"/signup",children:"Haven't registered? Sign Up"})})]})]})}),(0,d.jsx)(n.ZP,{item:!0,xs:1,md:4,sm:2})]})}},29137:function(e,t,r){"use strict";var n=r(64836);t.Z=void 0;var a=n(r(45045)),u=r(46417),s=(0,a.default)((0,u.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");t.Z=s},25819:function(){}}]);