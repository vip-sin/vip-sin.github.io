"use strict";(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[809],{1087:function(e,t,n){n.d(t,{Z:function(){return l}});n(47313);var a=n(92336),o=n(2884),i=n(24694),r=n(6306),s=n(46417);function l(e){var t=e.collapseID,n=(e.setcollapseID,e.collapseItem),l=e.formatme,u=e.toggleCollapse;return(0,s.jsxs)(a.Z,{expanded:t===n.id,onChange:function(){return u(n.id)},children:[(0,s.jsx)(i.Z,{expandIcon:(0,s.jsx)(r.Z,{}),children:l(n.title)}),(0,s.jsx)(o.Z,{children:n.content})]})}},51427:function(e,t,n){n.d(t,{EL:function(){return C},IZ:function(){return m},Id:function(){return _},Jj:function(){return g},Pe:function(){return h},VA:function(){return D},Yu:function(){return f},ZT:function(){return L},cm:function(){return y},is:function(){return p},qi:function(){return v}});var a=n(37762),o=n(74165),i=n(15861),r=n(31881),s=n.n(r),l=n(63861),u=n(97729),c=n(46417),d=JSON.parse(sessionStorage.getItem("logInUserData")),v=function(e){var t=e.user,n=e.token;return function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"GET_ALL_DOCS_LOADING",data:!0}),s().get("/backendapi/documents/".concat(null===t||void 0===t?void 0:t._id),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){a({type:"GET_ALL_DOCS_LOADING",data:!1});for(var t=e.data,n=0;n<t.length;n+=1)t[n].desc=(0,u.Y)(t[n].desc),t[n].id=n+1,t[n].expiry=(0,u.Y)(t[n].expiry),t[n].alias=(0,u.Y)(t[n].alias);a({type:"GET_ALL_DOCS",resp:t})})).catch((function(e){a({type:"GET_ALL_DOCS_ERROR",err:"Error getting docs"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e){return function(){var t=(0,i.Z)((0,o.Z)().mark((function t(n){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GET_ALL_DATA_LOADING",data:!0}),t.next=3,s().get("/backendapi/nominee/list/".concat(d._id),{params:e,headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(t){if(n({type:"GET_ALL_DATA_LOADING",data:!1}),null!==t&&void 0!==t&&t.data){var o,i=(0,a.Z)(t.data);try{for(i.s();!(o=i.n()).done;){var r=o.value;r.nomineeId=(null===r||void 0===r?void 0:r.nomineeId)&&(0,u.Y)(r.nomineeId,!0),r.name=(null===r||void 0===r?void 0:r.name)&&(0,u.Y)(r.name,!0),r.relation=(null===r||void 0===r?void 0:r.relation)&&(0,u.Y)(r.relation,!0),r.relation1=(null===r||void 0===r?void 0:r.relation1)&&(0,u.Y)(r.relation1,!0),r.email=(null===r||void 0===r?void 0:r.email)&&(0,u.Y)(r.email,!0),r.primaryContact=(null===r||void 0===r?void 0:r.primaryContact)&&(0,u.Y)(r.primaryContact,!0),r.secondaryContact=(null===r||void 0===r?void 0:r.secondaryContact)&&(0,u.Y)(r.secondaryContact,!0),r.address=(null===r||void 0===r?void 0:r.address)&&(0,u.Y)(r.address,!0)}}catch(s){i.e(s)}finally{i.f()}n({type:"GET_DATA",data:t.data,totalPages:t.length,params:e})}})).catch((function(e){n({type:"GET_ALL_DATA_LOADING",data:!1})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(){return function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USER_ALL_DATA_LOADING",data:!0}),e.next=3,s().post("/backendapi/users/get",{id:d._id},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){if(t({type:"GET_USER_ALL_DATA_LOADING",data:!1}),null!==e&&void 0!==e&&e.data){var n=e.data[0];t({type:"GET_USER_ALL_DATA",data:n})}})).catch((function(e){t({type:"GET_USER_ALL_DATA_LOADING",data:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GET_ALL_ASSET_DATA_LOADING",data:!0}),s().get("/backendapi/user/assets/".concat(null===d||void 0===d?void 0:d._id),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){t({type:"GET_ALL_ASSET_DATA_LOADING",data:!1});var n=JSON.parse((0,u.Y)(e.data[0]));t({type:"GET_ALL_ASSET_DATA",data:n})})).catch((function(e){t({type:"ERROR_ALL_ASSET_DATA",data:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(){return function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GET_ALL_LIABILITY_DATA_LOADING",data:!0}),s().get("/backendapi/user/liabilities/".concat(null===d||void 0===d?void 0:d._id),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){t({type:"GET_ALL_LIABILITY_DATA_LOADING",data:!1});var n=JSON.parse((0,u.Y)(e.data[0]));t({type:"GET_ALL_LIABILITY_DATA",data:n})})).catch((function(e){t({type:"ERROR_ALL_LIABILITY_DATA",data:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(e,t){return function(){var n=(0,i.Z)((0,o.Z)().mark((function n(a){var i,r,l,u;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"GET_SPEND_DATA_LOADING",data:!0}),null!==t&&void 0!==t&&t.year&&(i=new Date,r=A(i),l=Number(t.year?t.year:3),i.setMonth(i.getMonth()-l),i.setDate(1),u=A(i),e.dateRangeStart=u,e.dateRangeEnd=r),null!==t&&void 0!==t&&t.labels&&(e.labels=t.labels),n.next=5,s().get("/backendapi/spend/list/".concat(d._id),{params:e,headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(t){a({type:"GET_SPEND_DATA_LOADING",data:!1}),a({type:"GET_DATA",data:null===t||void 0===t?void 0:t.data,totalPages:t.length,params:e})})).catch((function(e){a({type:"GET_SPEND_DATA_LOADING",data:!1})}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},A=function(e){var t="".concat(e.getMonth()+1);1===t.length&&(t="0".concat(t));var n="".concat(e.getDate());return 1===n.length&&(n="0".concat(n)),[e.getFullYear(),t,n].join("-")},y=function(e){return function(t){return t({type:"FILTER_DATA",value:e})}},g=function(e){return function(t){s().post("/backendapi/spend/delete",e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(n){t({type:"DELETE_DATA",obj:e})}))}},_=function(e){var t={userId:d._id,name:(0,u.G)(e.name,!0),relation:(0,u.G)(e.relation,!0),relation1:(0,u.G)(e.relation1,!0),email:(0,u.G)(e.email,!0),primaryContact:(0,u.G)(e.contact1,!0),secondaryContact:(0,u.G)(e.contact2,!0),address:(0,u.G)(e.address,!0),secrets:e.secrets};return function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().post("/backendapi/nominee/add",t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){e.data&&(l.A9,"Success"===e.data||e.data,e.data),n(f())}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(e){var t={_id:e._id,usage:e.usage?e.usage:"Unused",userId:d._id,name:(0,u.G)(e.name,!0),relation:(0,u.G)(e.relation,!0),relation1:(0,u.G)(e.relation1,!0),email:(0,u.G)(e.email,!0),primaryContact:(0,u.G)(e.contact1,!0),secondaryContact:(0,u.G)(e.contact2,!0),address:(0,u.G)(e.address,!0),secrets:e.secrets};return function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().post("/backendapi/nominee/update",t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){return(0,c.jsx)(l.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Nominee Updated Successfully"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(e){return function(){var t=(0,i.Z)((0,o.Z)().mark((function t(n){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("/backendapi/update/secrets",{secrets:e,_id:d._id},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){return(0,c.jsx)(l.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Secret Updated Successfully"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},62457:function(e,t,n){n.d(t,{GR:function(){return p},UB:function(){return f}});var a=n(29439),o=n(47313),i=n(96900),r=n(71535),s=n(71363),l=n(22449),u=n(56972),c=n(63861),d=n(1087),v=n(46417);t.ZP=function(e){var t,n,f=(0,o.useState)(""),p=(0,a.Z)(f,2),h=p[0],m=p[1],L=null===(t=JSON.parse(sessionStorage.getItem("logInUserData")))||void 0===t?void 0:t.assets,A=null===(n=JSON.parse(sessionStorage.getItem("logInUserData")))||void 0===n?void 0:n.liabilities,y=(0,o.useState)([]),g=(0,a.Z)(y,2),_=g[0],D=g[1],C=(0,o.useState)(),T=(0,a.Z)(C,2),w=T[0],I=T[1],x=e.collapseItems,Z=e.colorOption,b=function(e){return null!==Z&&void 0!==Z&&Z[e]?Z[e]:e},S=function(e){m(h!==e?e:"")},E=(null===w||void 0===w?void 0:w.length)>0?_:x,G=E.length>0?E.map((function(e){return(0,v.jsx)(o.Fragment,{children:(0,v.jsx)(d.Z,{collapseID:h,setcollapseID:m,collapseItem:e,formatme:b,toggleCollapse:S})},e.id)})):e.isLoading?(0,v.jsx)(c.$j,{}):(0,v.jsx)("span",{style:{fontSize:"14px",marginTop:"-10px"},children:"No Data Found"});return(0,v.jsxs)(i.Z,{children:[(0,v.jsxs)(r.ZP,{container:!0,sx:{px:2.5,py:1},children:[(0,v.jsx)(r.ZP,{item:!0,xs:6,children:(0,v.jsx)(s.Z,{variant:"secondary",component:"h3",children:e.heading})}),(0,v.jsx)(r.ZP,{item:!0,xs:6,children:(0,v.jsx)(l.Z,{onChange:function(t){return function(t){I(t);var n=x.filter((function(n){var a,o,i=(e.assetShow?null===(a=A[n.id-1])||void 0===a?void 0:a.liabilityDetails:null===(o=L[n.id-1])||void 0===o?void 0:o.assetDetails).filter((function(e){var n=e.val.toLowerCase().startsWith(t.toLowerCase()),a=e.val.toLowerCase().includes(t.toLowerCase());return!(!n&&!a)})),r=n.title.toLowerCase().startsWith(t.toLowerCase()),s=n.title.toLowerCase().includes(t.toLowerCase());return!!(r||s||i.length>0)}));D(n)}(t.target.value)},placeholder:"Search"})})]}),(0,v.jsx)(u.Z,{children:G})]})};var f=["Lendor Details","Card Details *","Account Details","EMI Details *","Loan Details*","Scheme Details","Payments Details *","Amount","Amount *","Liability Name","Scheme Details *","Remarks"],p=["Bank Name","Debtor Name","Details","Currency Details","Depositor","Depositor *","Account Details","Account Details *","Bank Name *","Debtor Name *","Investment Firm *","Policy Number *","Amount *","Amount / Quantity","Policy Number","Property Type","Property Area","Retirals Details *","Amount","Remarks"]},60809:function(e,t,n){n.r(t);var a=n(1413),o=n(29439),i=n(47313),r=n(71535),s=n(22449),l=n(34940),u=n(62457),c=n(38424),d=n(3204),v=n(40229),f=n(63861),p=n(51427),h=n(66135),m=n(46417);t.default=(0,h.$j)((function(e){var t,n,a,o,i,r,s,l,u,c,d,v;return{state:e,nomineesListData:null!==(t=null===(n=e.reducer)||void 0===n||null===(a=n.dataList)||void 0===a?void 0:a.data)&&void 0!==t?t:[],messages:null===(o=e.reducer)||void 0===o||null===(i=o.customizer)||void 0===i||null===(r=i.language)||void 0===r?void 0:r.Liability,listLoading:e.reducer.dataList.totalRecordsLoading,assetListFromAPI:null!==(s=null===(l=e.reducer)||void 0===l||null===(u=l.dataList)||void 0===u?void 0:u.assetListFromAPI)&&void 0!==s?s:[],liabilityListFromAPI:null!==(c=null===(d=e.reducer)||void 0===d||null===(v=d.dataList)||void 0===v?void 0:v.liabilityListFromAPI)&&void 0!==c?c:[]}}),(function(e){return{getData:function(t){return e((0,p.Yu)(t))},callAssetAPI:function(t){return e((0,p.Pe)(t))},callLiabilityAPI:function(t){return e((0,p.IZ)(t))}}}))((function(e){var t=[{label:(0,m.jsx)("b",{children:"Type"}),id:"assetType",cell:function(e){return e.assetType}},{label:(0,m.jsx)("b",{children:"Nominated"}),id:"nominees",cell:function(e){return e.nominees}},{label:(0,m.jsx)("b",{children:"Details"}),id:"details",cell:function(e){return e.details}},{label:(0,m.jsx)("b",{children:"Value"}),id:"value",cell:function(e){return e.value}},{label:(0,m.jsx)("b",{children:"Remarks"}),id:"remarks",cell:function(e){return e.remarks}}],n=[{label:(0,m.jsx)("b",{children:"Nominee"}),id:"nomineeName",cell:function(e){return e.nomineeName}},{label:(0,m.jsx)("b",{children:"Relation"}),id:"relation",cell:function(e){return e.relation}},{label:(0,m.jsx)("b",{children:"Asset"}),id:"assetTypeValue",cell:function(e){return e.assetTypeValue}},{label:(0,m.jsx)("b",{children:"Liability"}),id:"liabilityTypeValue",cell:function(e){return e.liabilityTypeValue}}],p=i.useState(0),h=(0,o.Z)(p,2),L=h[0],A=h[1],y=(0,i.useState)([]),g=(0,o.Z)(y,2),_=g[0],D=g[1],C=(0,i.useState)([]),T=(0,o.Z)(C,2),w=T[0],I=T[1],x=(0,i.useState)([]),Z=(0,o.Z)(x,2),b=Z[0],S=Z[1],E=(0,i.useState)([]),G=(0,o.Z)(E,2),k=G[0],j=G[1],N=(0,i.useState)([]),O=(0,o.Z)(N,2),P=O[0],R=O[1],Y=(0,i.useState)([]),B=(0,o.Z)(Y,2),W=B[0],z=B[1],U=e.listLoading,F=e.nomineesListData,M=e.getData,V=e.assetListFromAPI,J=e.callAssetAPI,$=e.callLiabilityAPI,q=e.liabilityListFromAPI;(0,i.useEffect)((function(){U||((null===F||void 0===F||!F.length)&&M(),(null===V||void 0===V||!V.length)&&J(),(null===q||void 0===q||!q.length)&&$())}),[]),(0,i.useEffect)((function(){null!==F&&void 0!==F&&F.length&&null!==V&&void 0!==V&&V.length&&null!==q&&void 0!==q&&q.length&&(Q(),(null===F||void 0===F?void 0:F.length)&&H(F))}),[V,q,F]);var Q=function(){var e=[];(null===V||void 0===V?void 0:V.length)&&V.forEach((function(t,n){var a={};if(t.id){var o,i="";(null===t||void 0===t||null===(o=t.nominees)||void 0===o?void 0:o.length)&&t.nominees.forEach((function(e,n){var a=F.filter((function(t){return t._id===e.id}));a.length&&(n===t.nominees.length-1?i+=a[0].name:i="".concat(i+a[0].name,", "))})),a.assetType=t.assetType,a.nominees=i;var r=t.assetDetails.length;t.assetDetails.forEach((function(e,t){u.GR.includes(e.key)&&(0===t&&(a.details=e.val),e.key.includes("Amount")&&(a.value=e.val),t===r-2&&(a.remarks=e.val))})),a.id=n+1,e.push(a)}})),j(null===e||void 0===e?void 0:e.reverse()),z(null===e||void 0===e?void 0:e.reverse());var t=[];(null===q||void 0===q?void 0:q.length)&&q.forEach((function(e,n){var a={};if(e.id){var o,i="";(null===e||void 0===e||null===(o=e.nominees)||void 0===o?void 0:o.length)&&e.nominees.forEach((function(t,n){var a=F.filter((function(e){return e._id===t.id}));a.length&&(n===e.nominees.length-1?i+=a[0].name:i="".concat(i+a[0].name,", "))})),a.assetType=e.liabilityType,a.nominees=i;var r=e.liabilityDetails.length;e.liabilityDetails.forEach((function(e,t){u.UB.includes(e.key)&&(0===t&&(a.details=e.val),e.key.includes("Amount")&&(a.value=e.val),t===r-2&&(a.remarks=e.val))})),a.id=n+1,t.push(a)}})),S(null===t||void 0===t?void 0:t.reverse()),R(null===t||void 0===t?void 0:t.reverse())},H=function(e){var t=[];e.forEach((function(e){var n=null!==k&&void 0!==k&&k.length?k.filter((function(t){return Array.isArray(null===t||void 0===t?void 0:t.nominees)&&t.nominees.findIndex((function(t){return t.id===e._id}))>-1})):[],a=null!==P&&void 0!==P&&P.length?P.filter((function(t){return Array.isArray(null===t||void 0===t?void 0:t.nominees)&&t.nominees.findIndex((function(t){return t.id===e._id}))>-1})):[],o="",i="";n.forEach((function(e,t){o+=" ".concat(t+1,"-").concat(e.assetType)})),a.forEach((function(e,t){i+=" ".concat(t+1,"-").concat(e.liabilityType)})),o=o.length>2?o:"-",i=i.length>2?i:"-",t.push({nomineeName:e.name,relation:e.relation,assetTypeValue:o,liabilityTypeValue:i})})),D(t),I(t)},K=[{label:"Assets",id:0,component:(0,m.jsx)(f.Gn,{columns:t,rows:null!==W&&void 0!==W&&W.length?W:[]})},{label:"Liabilities",id:1,component:(0,m.jsx)(f.Gn,{columns:t,rows:null!==b&&void 0!==b&&b.length?b:[]})},{label:"Nominees",id:2,component:(0,m.jsx)(f.Gn,{columns:n,rows:null!==_&&void 0!==_&&_.length?_:[]})}];return(0,m.jsxs)(v.Z,{children:[(0,m.jsxs)(r.ZP,{container:!0,sx:{display:"flex",p:1,justifyContent:"space-evenly"},children:[(0,m.jsx)(c.Z,{value:L,onChange:function(e,t){A(t)},children:K.map((function(e,t){return(0,m.jsx)(d.Z,(0,a.Z)({label:e.label},(0,f.Pf)(t)),e.id)}))}),(0,m.jsx)(s.Z,{onChange:function(e){return function(e){if(e.length)if(L){if(L){console.log(k,P);var t=(null!==k&&void 0!==k&&k.length?k:[]).filter((function(t){var n,a,o=t.assetType,i=t.details,r=t.value,s=t.remarks;return n=(null===o||void 0===o?void 0:o.toLowerCase().startsWith(e.toLowerCase()))||(null===i||void 0===i?void 0:i.toLowerCase().startsWith(e.toLowerCase()))||(null===r||void 0===r?void 0:r.toLowerCase().startsWith(e.toLowerCase()))||(null===s||void 0===s?void 0:s.toLowerCase().startsWith(e.toLowerCase())),a=(null===o||void 0===o?void 0:o.toLowerCase().includes(e.toLowerCase()))||(null===s||void 0===s?void 0:s.toLowerCase().includes(e.toLowerCase()))||(null===r||void 0===r?void 0:r.toLowerCase().startsWith(e.toLowerCase()))||(null===i||void 0===i?void 0:i.toLowerCase().includes(e.toLowerCase())),n||(!n&&a?a:null)})),n=(null!==P&&void 0!==P&&P.length?P:[]).filter((function(t){var n,a,o=t.assetType,i=t.details,r=t.value,s=t.remarks;return n=(null===o||void 0===o?void 0:o.toLowerCase().startsWith(e.toLowerCase()))||(null===i||void 0===i?void 0:i.toLowerCase().startsWith(e.toLowerCase()))||(null===r||void 0===r?void 0:r.toLowerCase().startsWith(e.toLowerCase()))||(null===s||void 0===s?void 0:s.toLowerCase().startsWith(e.toLowerCase())),a=(null===o||void 0===o?void 0:o.toLowerCase().includes(e.toLowerCase()))||(null===s||void 0===s?void 0:s.toLowerCase().includes(e.toLowerCase()))||(null===r||void 0===r?void 0:r.toLowerCase().startsWith(e.toLowerCase()))||(null===i||void 0===i?void 0:i.toLowerCase().includes(e.toLowerCase())),n||(!n&&a?a:null)}));S(n),z(t)}}else{var a=(null!==w&&void 0!==w&&w.length?w:[]).filter((function(t){var n,a,o=t.nomineeName,i=t.relation;return n=(null===o||void 0===o?void 0:o.toLowerCase().startsWith(e.toLowerCase()))||(null===i||void 0===i?void 0:i.toLowerCase().startsWith(e.toLowerCase())),a=(null===o||void 0===o?void 0:o.toLowerCase().includes(e.toLowerCase()))||(null===i||void 0===i?void 0:i.toLowerCase().includes(e.toLowerCase())),n||(!n&&a?a:null)}));D(a)}else S(P),z(k),D(w)}(e.target.value)},placeholder:"Search"})]}),(0,m.jsx)(l.Z,{}),K.map((function(e,t){return(0,m.jsx)(f.x4,{value:L,index:t,children:e.component},e.id)}))]})}))},6306:function(e,t,n){var a=n(64836);t.Z=void 0;var o=a(n(45045)),i=n(46417),r=(0,o.default)((0,i.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=r}}]);