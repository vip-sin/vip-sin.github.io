"use strict";(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[934],{1087:function(e,t,n){n.d(t,{Z:function(){return l}});n(47313);var i=n(33505),r=n(36186),s=n(39338),o=n(6306),a=n(46417);function l(e){var t=e.collapseID,n=(e.setcollapseID,e.collapseItem),l=e.formatme,u=e.toggleCollapse;return(0,a.jsxs)(i.Z,{sx:{my:.9},expanded:t===n.id,onChange:function(){return u(n.id)},children:[(0,a.jsx)(s.Z,{expandIcon:(0,a.jsx)(o.Z,{}),children:l(n.title)}),(0,a.jsx)(r.Z,{children:n.content})]})}},18825:function(e,t,n){n.d(t,{z:function(){return l}});var i=n(19641),r=n(9506),s=n(56605),o=(n(47313),n(94843)),a=n(46417),l=function(e){return(0,a.jsxs)(i.ZP,{container:!0,sx:{px:2.5,py:1},children:[(0,a.jsx)(i.ZP,{item:!0,xs:6,children:(0,a.jsx)(o.ll,{title:e.heading})}),(0,a.jsx)(i.ZP,{item:!0,xs:6,children:(0,a.jsx)(r.Z,{display:"flex",justifyContent:"flex-end",children:(0,a.jsx)(s.Z,{onChange:function(t){return e.search(t.target.value)},placeholder:"Search"})})})]})}},30879:function(e,t,n){n.d(t,{H$:function(){return a},eq:function(){return l},jx:function(){return u},ud:function(){return c}});var i=n(1413),r=n(80571),s=JSON.parse(sessionStorage.getItem("logInUserData")),o=r.g.injectEndpoints({endpoints:function(e){return{getAssets:e.query({query:function(){return"/backendapi/asset/".concat(null===s||void 0===s?void 0:s._id)},providesTags:["Assets"]}),addAsset:e.mutation({query:function(e){return{url:"backendapi/asset/adddetails",method:"POST",body:e}},invalidatesTags:["Assets"]}),updateAsset:e.mutation({query:function(e){return{url:"backendapi/asset/updatedetails",method:"PUT",body:e}},invalidatesTags:["Assets"]}),deleteAsset:e.mutation({query:function(e){return{url:"backendapi/asset/deletedetails",method:"DELETE",body:(0,i.Z)((0,i.Z)({},e),{},{userId:null===s||void 0===s?void 0:s._id})}},invalidatesTags:["Assets"]})}}}),a=o.useGetAssetsQuery,l=o.useAddAssetMutation,u=o.useUpdateAssetMutation,c=o.useDeleteAssetMutation},72845:function(e,t,n){n.d(t,{BS:function(){return d},E4:function(){return a},HH:function(){return o},Q7:function(){return u},a1:function(){return l},mo:function(){return c}});var i=n(80571),r=JSON.parse(sessionStorage.getItem("logInUserData")),s=i.g.injectEndpoints({endpoints:function(e){return{getDocs:e.query({query:function(){return"/backendapi/document/".concat(r._id)},providesTags:["Document"]}),getAllDocs:e.query({query:function(e){return"/backendapi/sender/msg/".concat(e)},providesTags:["Document"]}),previewDocs:e.query({query:function(e){return"/backendapi/sender/msg/".concat(e)},providesTags:["Document"]}),resetPreview:function(){return function(e){e({type:"RESET_PREVIEW_DATA"})}},addDoc:e.mutation({query:function(e){return{url:"backendapi/document/add",method:"POST",body:e}},invalidatesTags:["Document"]}),deleteDocs:e.mutation({query:function(e){return{url:"/backendapi/document/deletebyid/".concat(e.deleteId),method:"DELETE"}},invalidatesTags:["Document"]}),deleteOneDoc:e.mutation({query:function(e){return{url:"/backendapi/document/media/deletebyid/".concat(e.deleteId,"/").concat(e.selecteddoc),method:"DELETE"}},invalidatesTags:["Document"]})}}}),o=s.useGetDocsQuery,a=s.useGetAllDocsQuery,l=s.usePreviewDocsQuery,u=s.useAddDocMutation,c=s.useDeleteDocsMutation,d=s.useDeleteOneDocMutation},48934:function(e,t,n){n.r(t);var i=n(93433),r=n(74165),s=n(1413),o=n(15861),a=n(29439),l=n(47313),u=n(64162),c=n.n(u),d=n(9506),v=n(19641),f=n(57775),m=n(51057),p=n(35898),h=n(71003),x=n(73675),Z=n(39500),y=n(81800),g=n(13798),j=n(35192),b=n(63709),D=n(57798),k=n(79428),A=n(61474),I=n(29748),C=n(50850),S=n(97729),w=n(54727),P=n(36936),E=n(30879),L=n(71147),T=n(72845),F=n(54285),N=n(46417);t.default=function(e){var t,n,u,O,U=(0,l.createRef)(),q=(0,E.H$)(),R=q.data,B=q.isFetching,_=q.error,M=(0,P.mB)().data,G=(0,E.eq)(),J=(0,a.Z)(G,2),Q=J[0],z=J[1],V=(0,E.ud)(),W=(0,a.Z)(V,1)[0],H=(0,E.jx)(),Y=(0,a.Z)(H,2),$=Y[0],K=Y[1],X=(0,T.Q7)(),ee=(0,a.Z)(X,1)[0],te=(0,T.mo)(),ne=(0,a.Z)(te,1)[0],ie=(0,b.v9)(L.Wx),re=null===(t=JSON.parse(sessionStorage.getItem("dropdowns")))||void 0===t?void 0:t.assetOption,se=JSON.parse(sessionStorage.getItem("logInUserData"));(0,l.useEffect)((function(){null!==z&&void 0!==z&&z.isSuccess&&de({msg:"Asset added successfully",severity:"success"}),null!==z&&void 0!==z&&z.isError&&de({msg:z.error,severity:"error"}),null!==z&&void 0!==z&&z.isLoading&&(Ht(),Yt(),wt(!0),Tt(!1))}),[z]),(0,l.useEffect)((function(){var e,t;(null!==K&&void 0!==K&&K.isSuccess&&de({msg:"Asset added successfully",severity:"success"}),null!==K&&void 0!==K&&K.isError)&&de({msg:(null===K||void 0===K||null===(e=K.error)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Asset update error",severity:"error"});null!==K&&void 0!==K&&K.isLoading&&(Ht(),Yt(),wt(!0),Tt(!1))}),[K]);var oe=Object.keys(re).map((function(e){var t,n;return{value:e,label:null!==(t=null===ie||void 0===ie||null===(n=ie.colorOption)||void 0===n?void 0:n[e])&&void 0!==t?t:e}})),ae=(0,l.useState)([]),le=(0,a.Z)(ae,2),ue=le[0],ce=le[1],de=(0,F.Z)().setSnack,ve=(0,l.useState)(!1),fe=(0,a.Z)(ve,2),me=fe[0],pe=fe[1],he=(0,l.useState)(!1),xe=(0,a.Z)(he,2),Ze=xe[0],ye=xe[1],ge=(0,l.useState)(null),je=(0,a.Z)(ge,2),be=je[0],De=je[1],ke=(0,l.useState)(""),Ae=(0,a.Z)(ke,2),Ie=Ae[0],Ce=Ae[1],Se=(0,l.useState)(""),we=(0,a.Z)(Se,2),Pe=we[0],Ee=we[1],Le=(0,l.useState)([]),Te=(0,a.Z)(Le,2),Fe=Te[0],Ne=Te[1],Oe=(0,l.useState)(null),Ue=(0,a.Z)(Oe,2),qe=Ue[0],Re=Ue[1],Be=(0,l.useState)(""),_e=(0,a.Z)(Be,2),Me=_e[0],Ge=_e[1],Je=(0,l.useState)(!1),Qe=(0,a.Z)(Je,2),ze=Qe[0],Ve=Qe[1],We=(0,l.useState)(""),He=(0,a.Z)(We,2),Ye=He[0],$e=He[1],Ke=(0,l.useState)([]),Xe=(0,a.Z)(Ke,2),et=Xe[0],tt=Xe[1],nt=(0,l.useState)(!1),it=(0,a.Z)(nt,2),rt=it[0],st=it[1],ot=(0,l.useState)(""),at=(0,a.Z)(ot,2),lt=at[0],ut=at[1],ct=(0,l.useState)([]),dt=(0,a.Z)(ct,2),vt=dt[0],ft=dt[1],mt=(0,l.useState)(""),pt=(0,a.Z)(mt,2),ht=pt[0],xt=pt[1],Zt=(0,l.useState)(!1),yt=(0,a.Z)(Zt,2),gt=yt[0],jt=yt[1],bt=(0,l.useState)(""),Dt=(0,a.Z)(bt,2),kt=Dt[0],At=Dt[1],It=(0,l.useState)(!0),Ct=(0,a.Z)(It,2),St=Ct[0],wt=Ct[1],Pt=(0,l.useState)(!1),Et=(0,a.Z)(Pt,2),Lt=Et[0],Tt=Et[1],Ft=(0,l.useState)([{value:"Add Nominee",label:"Add Nominee"}]),Nt=(0,a.Z)(Ft,2),Ot=Nt[0],Ut=Nt[1];(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(R.map(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s.Z,e.t1=(0,s.Z)({},t),e.t2={},e.t3=JSON,e.next=6,(0,S.Y)(t.assets);case 6:return e.t4=e.sent,e.t5=e.t3.parse.call(e.t3,e.t4),e.t6={assets:e.t5},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t6));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:null!==(t=e.sent)&&void 0!==t&&t.length&&(0,C.Vh)({nomineeList:M,preview:function(e){return $e(e)},editItemFunc:$t,setDeletedAsset:De,setopen:pe,setassetList:Ne,assetListFromAPI:t}),ce(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();null!==R&&void 0!==R&&R.length&&null!==M&&void 0!==M&&M.length&&e()}),[R,M]),(0,l.useEffect)((function(){if(null!==M&&void 0!==M&&M.length){var e=[{value:"Add Nominee",label:"Add Nominee"}];M.forEach((function(t){var n={value:t._id,label:"".concat(t.name," - ").concat(t.relation)};e.push(n)})),Ut(e)}}),[M]);var qt=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nominees,i=t.payload,e.prev=1,e.t0=null===se||void 0===se?void 0:se._id,e.next=5,(0,S.Gf)(JSON.stringify(i));case 5:e.t1=e.sent,s={userId:e.t0,assets:e.t1},null!==n&&void 0!==n&&n.length&&(s.nominees=n),Q(s),ht&&ne(ht),e.next=15;break;case 12:e.prev=12,e.t2=e.catch(1),de({msg:e.t2||"error",severity:"error"});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),Rt=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,s,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,i=t.nominees,s=t.deletednominee,e.prev=1,e.t0=null===se||void 0===se?void 0:se._id,e.t1=kt,e.next=6,(0,S.Gf)(JSON.stringify(n));case 6:e.t2=e.sent,o={userId:e.t0,assetId:e.t1,assets:e.t2},s&&(o.deletednominee=s),null!==i&&void 0!==i&&i.length&&(o.nominees=i),$(o),ht&&ne(ht),e.next=17;break;case 14:e.prev=14,e.t3=e.catch(1),de({msg:e.t3||"error",severity:"error"});case 17:Ht(),Yt(),wt(!0),Tt(!1);case 21:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),Bt=function(){st(!rt)},_t=function(e,t){var n,i;"File"===e.type&&ut(null===(i=t.target)||void 0===i?void 0:i.files[0]);var r=null!==(n=t.target.value)&&void 0!==n?n:"",s=vt,o=vt.findIndex((function(t){return t.key===e.key}));r.length<250&&(s[o].val=r,ft(s),ye(!Ze),Mt())},Mt=function(){var e=!1;vt.forEach((function(t){t.mandatory&&!t.val.trim()&&(e=!0)})),wt(e)},Gt=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ht&&!lt&&vt.forEach((function(e){"Attachments"===e.key&&(e.val="")})),n={assetType:Me,assetDetails:(0,k.OQ)(vt),nominees:et,assetId:kt},i=[],et.forEach((function(e){e.objectid=kt})),qe.nominees.forEach((function(e){-1===et.findIndex((function(t){return t.id===e.id}))&&(e.objectid=kt,i.push(e))})),Rt({payload:n,nominees:et,deletednominee:i});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=function(e){Tt(!0),e.preventDefault(),jt(!1);var t=vt.findIndex((function(e){return"File"===e.type}));t>=0&&lt?""!==vt[t].val?zt(lt).then(function(){var n=(0,o.Z)((0,r.Z)().mark((function n(i){var s;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,S.Y)(i.data.alias);case 2:s=n.sent,vt[t].val="".concat(s,"#~#").concat(i.data._id,"#~#").concat(i.data.attachment[0]),ft(vt),Gt(e);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){var t,n;Tt(!1),de({msg:(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"error",severity:"error"})})):Gt(e):Gt(e)},Qt=function(e){return new Promise((function(t,n){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){return t(i.result)},i.onerror=function(e){return n(e)}}))},zt=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,s,o,a,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],(i={}).userId=null===se||void 0===se?void 0:se._id,i.type="Asset",e.next=7,(0,S.Gf)(t.name);case 7:return i.alias=e.sent,e.next=10,Qt(t);case 10:return s=e.sent,e.next=13,(0,S.Gf)(s);case 13:return o=e.sent,a=c().compressToUTF16(o),n.push({media:a,name:t.name,type:t.type,userId:null===se||void 0===se?void 0:se._id}),i.attachment=n,e.next=19,ee(i);case 19:return l=e.sent,e.abrupt("return",l);case 23:e.prev=23,e.t0=e.catch(0),de({msg:"Failed to add attachment",severity:"error"});case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t){return e.apply(this,arguments)}}(),Vt=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={assetType:Me,assetDetails:(0,k.OQ)(vt),nominees:et},et.forEach((function(e){e.objectid=t.id})),qt({payload:t,nominees:et});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Wt=function(e){Tt(!0),e.preventDefault();var t=vt.findIndex((function(e){return"File"===e.type}));t>=0?""!==vt[t].val?zt(lt).then(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.Y)(n.data.alias);case 2:i=e.sent,vt[t].val="".concat(i,"#~#").concat(n.data._id,"#~#").concat(n.data.attachment[0]),ft(vt),Vt();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t;Tt(!1),de({msg:(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)||"error",severity:"error"})})):Vt():Vt()},Ht=function(){(null===ue||void 0===ue?void 0:ue.length)&&(null===M||void 0===M?void 0:M.length)&&(0,C.Vh)({nomineeList:M,preview:function(e){return $e(e)},editItemFunc:$t,setDeletedAsset:De,setopen:pe,setassetList:Ne,assetListFromAPI:ue}),Ge(""),xt(""),ft([]),ut(""),tt([]),gt&&wt(!0)},Yt=function(){Ce(""),Ee(""),U.current&&U.current.select.clearValue()},$t=function(e){var t=e.assets;wt(!0);var n=t.assetDetails,r=t.assetType,s=t.nominees;Ge(r),jt(!0),At(e.assetId),Re(t),ft(n),tt((0,i.Z)(s))},Kt=function(){var e={value:"",label:""};return oe.forEach((function(t){t.value===Me&&(e=t)})),e};return(0,N.jsxs)(d.Z,{children:[Ye&&(0,N.jsx)(C.zV,{docID:Ye,reset:function(){return $e("")}}),(0,N.jsx)(Z.Z,{handleConfirm:function(){!function(e){var t=e.assetDetails,n=e.assetId,i=e.nominees;t.filter((function(e){return"File"===e.type})).forEach((function(e){var t=e.val.split("#~#");(null===t||void 0===t?void 0:t[1])&&ne({deleteId:t[1]})})),W({assetId:n,nominees:i})}(be),pe(!1)},isOpen:me,closeModal:function(){return pe(!1)}}),ze&&(0,N.jsx)(I.Z,{handleSidebar:function(){return Ve(!1)}}),(0,N.jsxs)(v.ZP,{container:!0,spacing:2,sx:{p:2},children:[(0,N.jsx)(v.ZP,{item:!0,xs:12,md:9,lg:9,children:(0,N.jsx)(f.Z,{children:(0,N.jsxs)(m.Z,{children:[(0,N.jsx)(D.ll,{title:gt?"Edit Asset":"Add New Asset"}),(0,N.jsxs)(v.ZP,{rowSpacing:.01,container:!0,spacing:1,children:[(0,N.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,N.jsx)(A.gc,{id:"assetID",name:"asset",isDisabled:gt,options:oe,onChange:function(e,t){return function(e){wt(!0),(0,k.L9)(),Ce(""),Ee(""),tt([]),ut(""),Ge(null===e||void 0===e?void 0:e.value),ft(e?re[e.value]:[])}(t)},value:Kt(),autoComplete:!1,renderInput:function(e){var t;return(0,N.jsx)(x.Z,(0,s.Z)((0,s.Z)({},e),{},{label:gt?Kt().value:null!==(t=null===ie||void 0===ie?void 0:ie.assetOptionText)&&void 0!==t?t:"Asset Type"}))}})}),(0,N.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,N.jsx)(A.gc,{isMulti:!0,name:"nominee",id:"nomineeId",onChange:function(e,t){return function(e){gt&&wt(!1);var t=[];(null===e||void 0===e?void 0:e.length)&&e.forEach((function(e){"Add Nominee"===e.value?Ve(!0):t.push({id:e.value,name:e.label,objectid:kt})})),tt([].concat(t))}(t)},autoComplete:!1,options:null===Ot||void 0===Ot?void 0:Ot.filter((function(e){return!et.some((function(t){return t.id===e.value}))})),value:et.map((function(e){var t=Ot.filter((function(t){return t.value===e.id}));return{value:t[0].value,label:t[0].label}})),renderInput:function(e){var t;return(0,N.jsx)(x.Z,(0,s.Z)((0,s.Z)({},e),{},{label:null!==(t=null===ie||void 0===ie?void 0:ie.nomineeOption)&&void 0!==t?t:"Nominee(s)"}))}})}),Object.keys(re).includes(Me)&&vt.map((function(e,t){return(0,N.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:"Attachments"!==e.key?(0,N.jsxs)(N.Fragment,{children:[e.deletable&&(0,N.jsx)(j.Z,{size:15,onClick:function(){return function(e){gt&&wt(!1);var t=vt.filter((function(t){return e.key!==t.key}));ft(t)}(e)}}),(0,N.jsx)(x.Z,{type:e.type,onKeyPress:function(t){"number"===e.type.toLowerCase()&&((0,w.ZP)(t),function(e){var t=(null===e||void 0===e?void 0:e.keyCode)||(null===e||void 0===e?void 0:e.which),n=document.getElementById("assetSubmit");13===t&&(!n||n.disabled||Lt||(gt?Jt(e):Wt(e)))}(t))},name:e.key,id:e.id,rows:"1",label:e.key,max:"9999-12-31",min:"1900-01-01",value:"File"!==e.type?e.val:null,onChange:function(t){return _t(e,t)}})]}):gt&&!ht&&e.val.split("#~#")[1]?(0,N.jsxs)("div",{children:[(0,N.jsx)(j.Z,{style:{position:"absolute",right:"-5px",top:"-7px"},size:15,onClick:function(){xt(e.val.split("#~#")[1])}}),(0,N.jsx)("span",{style:{color:"blue",cursor:"pointer"},onClick:function(){return $e(e.val.split("#~#")[2])},children:e.val.split("#~#")[0]})]}):(0,N.jsx)(x.Z,{label:"",fullWidth:!0,type:e.type,size:"small",value:null,id:"fileAtt",onChange:function(t){_t(e,t)}})},t)}))]}),(0,N.jsxs)(p.Z,{direction:"row",spacing:3,sx:{mt:3},justifyContent:"end",children:[Me&&(0,N.jsx)(h.Z,{onClick:Bt,children:"Add Custom Field"}),(0,N.jsx)(A.ZP,{varient:"outlined",label:gt?"Cancel":null!==(n=null===ie||void 0===ie?void 0:ie.resetButton)&&void 0!==n?n:"Reset",onClick:function(e){jt(!1),Ht()}}),(0,N.jsx)(A.ZP,{varient:"contained",id:"assetSubmit",isLoading:Lt,label:gt?"Update":null!==(u=null===ie||void 0===ie?void 0:ie.submitButton)&&void 0!==u?u:"Add",disabled:!ht&&(0===et.length||!Me||St||Lt),onClick:function(e){gt?Jt(e):Wt(e)}})]})]})})}),(0,N.jsx)(y.Z,{}),(0,N.jsx)(v.ZP,{item:!0,xs:12,md:9,lg:9,sx:{pt:2,pl:2},children:(0,N.jsx)(g.ZP,{heading:null!==(O=null===ie||void 0===ie?void 0:ie.textList)&&void 0!==O?O:"Assets List",isLoading:B||(null===z||void 0===z?void 0:z.isLoading),error:_,collapseItems:Fe,colorOption:null===ie||void 0===ie?void 0:ie.colorOption1})})]}),(0,N.jsx)(C.Id,{modal:rt,fname:Ie,ftype:Pe,addfield:function(e){e.preventDefault();var t=vt,n=t.length,i="";t.findIndex((function(e){return e.key===Ie}))>=0&&de({msg:"Field Already Exist! Please add new field",severity:"error"}),"Attachments"===t[n-1].key?(i=t[n-1],t[n-1]={key:Ie,val:"",type:Pe,deletable:!0},t.push(i),ft(t),Ce(""),Ee("")):(t.push({key:Ie+Pe,val:"",type:Pe,deletable:!0}),ft(t),Ce(""),Ee("")),Bt()},messages:ie,setfname:Ce,setftype:Ee,assetType:Me,toggleModal:Bt,selectCustomRef:U,clearCustomField:Yt})]})}},50850:function(e,t,n){n.d(t,{Id:function(){return S},Vh:function(){return w},zV:function(){return P}});var i=n(74165),r=n(15861),s=n(29439),o=n(1413),a=n(47313),l=n(94469),u=n(33604),c=n(69625),d=n(19641),v=n(47605),f=n(80836),m=n(9506),p=n(98668),h=n(11198),x=n(73675),Z=n(49461),y=n.n(Z),g=n(54727),j=n(61474),b=n(72845),D=n(64162),k=n.n(D),A=n(97729),I=n(46417),C=[{value:"Text",label:"Text",color:"#00B8D9",isFixed:!0},{value:"textarea",label:"Text Area",color:"#0052CC",isFixed:!0},{value:"Date",label:"Date",color:"#0052CC",isFixed:!0},{value:"Number",label:"Number",color:"#0052CC",isFixed:!0}],S=function(e){var t=e.modal,n=e.fname,i=e.ftype,r=e.addfield,s=e.messages,a=e.setfname,d=e.setftype,v=e.assetType,f=e.toggleModal,m=e.clearCustomField;return(0,I.jsxs)(l.Z,{open:t,onClose:f,centered:!0,children:[(0,I.jsx)(u.Z,{children:"Add Custom Field"}),(0,I.jsxs)(c.Z,{children:[(0,I.jsx)(j.gc,{disabled:void 0===v,options:C,onChange:function(e,t){return d(t?t.value:"")},renderInput:function(e){return(0,I.jsx)(x.Z,(0,o.Z)((0,o.Z)({},e),{},{label:"Field Type..."}))}}),(0,I.jsx)(x.Z,{name:"Email",margin:"normal",type:"email",disabled:""===v,id:"EmailMulti",value:n,label:"Enter Field Name",onChange:function(e){return a(e.target.value)}}),(0,I.jsx)(j.AG,{label:null!==s&&void 0!==s&&s.resetButton?null===s||void 0===s?void 0:s.resetButton:"Cancel",disabled:void 0===v,handleClick:function(){m(),f()}}),(0,I.jsx)(j.k4,{label:null!==s&&void 0!==s&&s.submitButton?null===s||void 0===s?void 0:s.submitButton:"Add",disabled:""===n||""===i,handleClick:function(e){return r(e)}})]})]})},w=function(e){var t=e.nomineeList,n=e.preview,i=e.editItemFunc,r=e.setDeletedAsset,s=e.setopen,o=e.setassetList,a=e.assetListFromAPI,l=[];a.forEach((function(e,o){var a,u,c,f,m=e.assets,p="";(null===m||void 0===m||null===(a=m.nominees)||void 0===a?void 0:a.length)&&m.nominees.forEach((function(e,n){var i=t.filter((function(t){return t._id===e.id}));i.length&&(n===m.nominees.length-1?p+=i[0].name:p="".concat(p+i[0].name,", "))}));var h=null,x=(0,I.jsxs)(d.ZP,{container:!0,columnSpacing:1,children:[(0,I.jsx)(d.ZP,{item:!0,display:"flex",sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:4,children:(0,I.jsx)(v.Z,{borderRadius:1,textAlign:"center",height:"max-cotent",bgcolor:"primary.link",color:"white",padding:.1,sx:{mr:1,cursor:"pointer"},onClick:function(){return i(e)},children:"EDIT"})}),(0,I.jsx)(d.ZP,{item:!0,xs:4,children:(0,I.jsx)(v.Z,{borderRadius:1,textAlign:"center",height:"max-cotent",bgcolor:"primary.danger",color:"white",padding:.1,sx:{mr:1,cursor:"pointer"},onClick:function(){r(m),s(!0)},children:"DELETE"})})]})}),null===m||void 0===m||null===(u=m.assetDetails)||void 0===u?void 0:u.map((function(e,t){if("Remarks"===e.key&&e.val)return h=t,"";if(""!==e.val){var i,r=e.val;if("File"===e.type){var s=e.val.split("#~#");r=(0,I.jsx)("u",{children:(0,I.jsx)("span",{style:{color:"blue",cursor:"pointer"},onClick:function(){return n(s[2])},children:s[0]})})}return(0,I.jsx)(d.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:5,children:(0,I.jsx)(v.Z,{children:e.key&&(null===(i=e.key.split("*"))||void 0===i?void 0:i[0])})}),(0,I.jsx)(d.ZP,{item:!0,xs:7,children:(0,I.jsxs)(v.Z,{children:[": ","Date"===e.type?(0,g.p6)(r):r]})})]})},t+e.key)}return""})),(0,I.jsx)(d.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:5,children:(0,I.jsx)(v.Z,{children:"Nominees"})}),(0,I.jsx)(d.ZP,{item:!0,xs:7,children:(0,I.jsxs)(v.Z,{children:[": ",p]})})]})}),h&&(0,I.jsx)(d.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:5,children:(0,I.jsx)(v.Z,{children:(null===m||void 0===m?void 0:m.assetDetails[h].key)&&(null===m||void 0===m||null===(c=m.assetDetails[h].key.split("*"))||void 0===c?void 0:c[0])})}),(0,I.jsx)(d.ZP,{item:!0,xs:7,children:(0,I.jsxs)(v.Z,{children:[": ",null===m||void 0===m||null===(f=m.assetDetails[h])||void 0===f?void 0:f.val]})})]})})]}),Z={id:o+1,trashIt:function(){r(e),s(!0)},editIt:function(){i(m)},title:m.assetType,content:x};l.push(Z)})),o(null===l||void 0===l?void 0:l.reverse())},P=function(e){var t=e.docID,n=e.reset,o=(0,b.a1)(t),x=o.data,Z=o.isError,g=o.error,j=o.isLoading,D=(0,a.useState)(""),C=(0,s.Z)(D,2),S=C[0],w=C[1];return(0,a.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var t,n,r,s,o,a,l,u,c,d,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===x||void 0===x||null===(t=x[0])||void 0===t?void 0:t.media,s=k().decompressFromUTF16(r),e.next=4,(0,A.Y)(s);case 4:if(o=e.sent){for(l=atob(null===o||void 0===o?void 0:o.split("base64,")[1]),u=new Array(l.length),c=0;c<l.length;c++)u[c]=l.charCodeAt(c);d=new Uint8Array(u),v=new Blob([d],{type:null===(a=x[0])||void 0===a?void 0:a.type}),n=URL.createObjectURL(v),w({blobUrl:n,selectedforpreview:x,fileName:null===x||void 0===x?void 0:x.name,mediaData:o})}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();x&&e()}),[x]),(0,I.jsx)(y(),{children:(0,I.jsxs)(l.Z,{open:!!t,onClose:function(){return n()},fullWidth:!0,children:[(0,I.jsx)(u.Z,{children:(0,I.jsxs)(d.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,I.jsx)(d.ZP,{item:!0,children:"Preview Attachment"}),(0,I.jsx)(d.ZP,{item:!0,xs:!0}),(0,I.jsx)(d.ZP,{item:!0,children:(0,I.jsx)(f.Z,{onClick:function(){return n()},children:(0,I.jsx)(h.Z,{})})})]})}),(0,I.jsx)(c.Z,{children:Z?(0,I.jsx)(v.Z,{children:g}):j||null===S||void 0===S||!S.blobUrl?(0,I.jsx)(m.Z,{display:"flex",justifyContent:"center",alignItems:"center",height:450,children:(0,I.jsx)(p.Z,{})}):(0,I.jsx)(m.Z,{height:400,children:(0,I.jsx)("iframe",{style:{height:"100%",width:"100%"},title:null===S||void 0===S?void 0:S.fileName,src:null===S||void 0===S?void 0:S.blobUrl})})})]})})}},13798:function(e,t,n){n.d(t,{GR:function(){return m},UB:function(){return f}});var i=n(29439),r=n(47313),s=n(47605),o=n(57775),a=n(19536),l=n(51057),u=n(57798),c=n(1087),d=n(18825),v=n(46417);t.ZP=function(e){var t,n,f=(0,r.useState)(""),m=(0,i.Z)(f,2),p=m[0],h=m[1],x=null===(t=JSON.parse(sessionStorage.getItem("logInUserData")))||void 0===t?void 0:t.assets,Z=null===(n=JSON.parse(sessionStorage.getItem("logInUserData")))||void 0===n?void 0:n.liabilities,y=(0,r.useState)([]),g=(0,i.Z)(y,2),j=g[0],b=g[1],D=(0,r.useState)(),k=(0,i.Z)(D,2),A=k[0],I=k[1],C=e.collapseItems,S=e.colorOption,w=function(e){return null!==S&&void 0!==S&&S[e]?S[e]:e},P=function(e){h(p!==e?e:"")},E=(null===A||void 0===A?void 0:A.length)>0?j:C,L=e.isLoading?(0,v.jsx)(u.$j,{}):e.error?(0,v.jsx)(s.Z,{children:e.error}):E.length>0?E.map((function(e){return(0,v.jsx)(r.Fragment,{children:(0,v.jsx)(c.Z,{collapseID:p,setcollapseID:h,collapseItem:e,formatme:w,toggleCollapse:P})},e.id)})):(0,v.jsx)(s.Z,{style:{fontSize:"14px",marginTop:"-10px"},children:"No Data Found"});return(0,v.jsxs)(o.Z,{children:[(0,v.jsx)(d.z,{heading:e.heading,search:function(t){I(t);var n=C.filter((function(n){var i,r,s=(e.assetShow?null===(i=Z[n.id-1])||void 0===i?void 0:i.liabilityDetails:null===(r=x[n.id-1])||void 0===r?void 0:r.assetDetails).filter((function(e){var n=e.val.toLowerCase().startsWith(t.toLowerCase()),i=e.val.toLowerCase().includes(t.toLowerCase());return!(!n&&!i)})),o=n.title.toLowerCase().startsWith(t.toLowerCase()),a=n.title.toLowerCase().includes(t.toLowerCase());return!!(o||a||s.length>0)}));b(n)}}),(0,v.jsx)(a.Z,{}),(0,v.jsx)(l.Z,{children:L})]})};var f=["Lendor Details","Card Details *","Account Details","EMI Details *","Loan Details*","Scheme Details","Payments Details *","Amount","Amount *","Liability Name","Scheme Details *","Remarks"],m=["Bank Name","Debtor Name","Details","Currency Details","Depositor","Depositor *","Account Details","Account Details *","Bank Name *","Debtor Name *","Investment Firm *","Policy Number *","Amount *","Amount / Quantity","Policy Number","Property Type","Property Area","Retirals Details *","Amount","Remarks"]}}]);