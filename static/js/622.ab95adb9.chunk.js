(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[622],{10498:function(e,t,r){"use strict";r.d(t,{C:function(){return s}});var n=r(47605),a=r(46417),s=function(e){var t=e.msg;return null!==t&&void 0!==t&&t.length?(0,a.jsx)(n.Z,{variant:"subtitle2",sx:{color:"red"},children:t}):(0,a.jsx)(a.Fragment,{})}},97729:function(e,t,r){"use strict";r.d(t,{Gf:function(){return o},Y:function(){return c},c_:function(){return i},mq:function(){return d}});var n=r(74165),a=r(15861),s=r(42612),u=r.n(s),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",u().md.sha512.create().update(t).digest().toHex());case 4:e.prev=4,e.t0=e.catch(0),console.log("Error while hashing: ",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s,i,o,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===t||void 0===t?void 0:t.length)>0)){e.next=19;break}return a=sessionStorage.getItem("secretkey"),s=null!==r&&void 0!==r?r:a,i=u().random.getBytesSync(32),o=u().cipher.createCipher("AES-GCM",s),e.prev=5,o.start({iv:i,additionalData:"binary-encoded string"}),o.update(u().util.createBuffer(t)),o.finish(),c={iv:i,tag:o.mode.tag.toHex(),output:o.output.toHex()},e.abrupt("return",JSON.stringify(c));case 13:return e.prev=13,e.t0=e.catch(5),console.log("Error while encrypting data: ",e.t0),e.abrupt("return","");case 17:e.next=20;break;case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,r){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s,i,o,c,d,l,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:a=sessionStorage.getItem("secretkey"),s=null!==r&&void 0!==r?r:a;try{i=JSON.parse(t)}catch(n){console.log(n)}if(o=i.iv,c=u().util.hexToBytes(i.tag),!(d=i.output)){e.next=28;break}if(e.prev=9,(l=u().cipher.createDecipher("AES-GCM",s)).start({iv:o,additionalData:"binary-encoded string",tag:c}),p=u().util.hexToBytes(d),l.update(u().util.createBuffer(p)),!l.finish()){e.next=19;break}return e.abrupt("return",l.output.toString());case 19:console.log("Error authentication tag didn't match ");case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(9),console.log("Error while decrypting data: ",e.t0),e.abrupt("return","");case 26:e.next=29;break;case 28:return e.abrupt("return",t);case 29:case"end":return e.stop()}}),e,null,[[9,22]])})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s,i,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.length>0)){e.next=18;break}return a=u().md.sha256.create().update(r),s=u().random.getBytesSync(32),i=u().cipher.createCipher("AES-GCM",a.digest()),e.prev=4,i.start({iv:s,additionalData:"binary-encoded string"}),i.update(u().util.createBuffer(t)),i.finish(),o={iv:s,tag:i.mode.tag.toHex(),output:i.output.toHex()},e.abrupt("return",JSON.stringify(o));case 12:return e.prev=12,e.t0=e.catch(4),console.log("Error while encrypting data: ",e.t0),e.abrupt("return","");case 16:e.next=19;break;case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,r){return e.apply(this,arguments)}}()},25323:function(e,t,r){"use strict";var n=r(74165),a=r(15861),s=r(29439),u=r(47313),i=r(58467),o=r(63709),c=r(71003),d=r(9506),l=r(98668),p=r(20938),f=r(10498),v=r(54285),h=r(97729),m=r(95157),g=r(8908),x=r(69173),y=r(49969),b=r(46417);t.Z=function(){var e,t,r=(0,o.I0)(),S=(0,i.s0)(),Z=(0,i.TH)(),k=(0,v.Z)(),w=k.setAuth,A=k.persist,T=k.setPersist,_=(0,m.v_)(),j=(0,s.Z)(_,1)[0],E=(0,m.YA)(),D=(0,s.Z)(E,2),P=D[0],I=D[1],O=I.isError,L=I.isLoading,q=(0,u.useState)(""),C=(0,s.Z)(q,2),R=C[0],G=C[1],M=(0,u.useState)(""),N=(0,s.Z)(M,2),F=N[0],H=N[1],U=(0,u.useState)(""),z=(0,s.Z)(U,2),B=z[0],J=z[1],Q=(null===(e=Z.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/user",V=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,s,u,i,o,c,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),F&&R){e.next=4;break}return J("Both username and password are required"),e.abrupt("return");case 4:return e.prev=4,e.next=7,(0,h.c_)(R);case 7:return a=e.sent,e.next=10,P({user:F.trim(),password:a}).unwrap();case 10:if("Active"!==(null===(s=e.sent)||void 0===s?void 0:s.status)){e.next=28;break}return u=s.token,i=s.passwordKey,o=s.theme,A&&(sessionStorage.setItem("authtoken",u),sessionStorage.setItem("secretkey",i),sessionStorage.setItem("logInUserData",JSON.stringify(s)),sessionStorage.setItem("logInGreeting",!0),sessionStorage.setItem("theme",o||"light")),w(s),r((0,g.Dj)(s)),e.prev=16,e.next=19,j();case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(16),console.error(e.t0);case 24:G(""),H(""),J(""),S(Q,{replace:!0});case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(4),null!==e.t1&&void 0!==e.t1&&e.t1.response?400===(null===(c=e.t1.response)||void 0===c?void 0:c.status)?J("Missing username or password"):401===(null===(d=e.t1.response)||void 0===d?void 0:d.status)?J("Unauthorized"):J("Login failed"):J("No server response");case 33:case"end":return e.stop()}}),e,null,[[4,30],[16,21]])})));return function(t){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){J("")}),[F,R]),(0,u.useEffect)((function(){localStorage.setItem("persist",A)}),[A]),(0,b.jsxs)(d.Z,{component:"form",onSubmit:V,sx:{mt:1},children:[(0,b.jsx)(f.C,{msg:B||O}),(0,b.jsx)(p.nv,{required:!0,label:"Phone or Email",name:"email",autoFocus:!0,value:F,id:"emaillogin",onChange:function(e){H(e.target.value)}}),(0,b.jsx)(p.nv,{required:!0,label:"Password",name:"password",autoComplete:"current-password",value:R,type:"password",id:"password",onChange:function(e){G(e.target.value)}}),(0,b.jsx)(c.Z,{type:"submit",fullWidth:!0,variant:"contained",disabled:!F||!R||L,sx:{mt:3,mb:2},children:L?(0,b.jsx)(l.Z,{size:25}):"Sign In"}),(0,b.jsx)("div",{className:"persistCheck",style:{fontSize:"0.8rem"},children:(0,b.jsx)(x.Z,{control:(0,b.jsx)(y.Z,{id:"persist",checked:A,onChange:function(){T((function(e){return!e}))},color:"primary"}),label:"Trust This Device"})})]})}},95157:function(e,t,r){"use strict";r.d(t,{IZ:function(){return h},YA:function(){return m},dX:function(){return f},f:function(){return l},gJ:function(){return d},gS:function(){return v},n3:function(){return p},v_:function(){return g}});var n=r(74165),a=r(15861),s=r(80571),u=r(8908),i=r(97729),o=JSON.parse(sessionStorage.getItem("logInUserData")),c=s.g.injectEndpoints({endpoints:function(e){return{validatePhoneNumber:e.mutation({query:function(e){return{url:"/backendapi/otp/newuser/send",method:"POST",body:e}}}),forgotPWD:e.mutation({query:function(e){return{url:"/backendapi/user/forget",method:"POST",body:e}}}),validateOTP:e.mutation({query:function(e){return{url:"/backendapi/otp/verify",method:"POST",body:{otp:e.otp,key:e.key}}}}),sendOTP:e.mutation({query:function(e,t){return{url:"/backendapi/otp/send",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function r(){var a,s,i,o;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.dispatch,s=t.queryFulfilled,i=e.recoveryId,r.prev=2,r.next=5,s;case 5:o=r.sent,i&&a((0,u.IE)({recoveryId:i,recoveryOtp:o.data})),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),a({type:"ERROR_ALL_ASSET_DATA",data:r.t0});case 12:return r.prev=12,a({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),r.finish(12);case 15:case"end":return r.stop()}}),r,null,[[2,9,12,15]])})))()}}),validateREcoveryID:e.mutation({query:function(e){return{url:"/backendapi/user/recovercheck",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function r(){var a,s,u,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.dispatch,s=t.queryFulfilled,u=e.recoveryId,r.prev=2,r.next=5,s;case 5:i=r.sent,console.log("response",i),a(c.endpoints.sendOTP(u)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),a({type:"ERROR_ALL_ASSET_DATA",data:r.t0});case 13:return r.prev=13,a({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[2,10,13,16]])})))()},invalidatesTags:function(e,t,r){return[{type:"Post",id:r.id}]}}),subscribe:e.mutation({query:function(e){return{url:"/backendapi/newsletter/subscribe",method:"POST",body:{token:localStorage.getItem("fcmtoken"),topic:e}}},invalidatesTags:function(e,t,r){return[{type:"Post",id:r.id}]}}),login:e.mutation({query:function(e){return{url:"/backendapi/user/login",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:null!==(s=e.sent)&&void 0!==s&&s.data&&r((0,u.Dj)(s.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"ERROR_ALL_ASSET_DATA",data:e.t0});case 11:return e.prev=11,r({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()}}),dropdown:e.mutation({query:function(e){return{url:"/backendapi/dropdowns"}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,s,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:null!==(s=e.sent)&&void 0!==s&&s.data&&sessionStorage.setItem("dropdowns",JSON.stringify(null===(u=s.data)||void 0===u?void 0:u[0])),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"ERROR_ALL_ASSET_DATA",data:e.t0});case 11:return e.prev=11,r({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()}}),getUserData:e.mutation({query:function(e){return{url:"/backendapi/user/get",method:"POST"}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:null!==(s=e.sent)&&void 0!==s&&s.data&&console.log("first dop",s.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"ERROR_ALL_ASSET_DATA",data:e.t0});case 11:return e.prev=11,r({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()}}),updateSecrets:e.mutation({query:function(e){return{url:"/backendapi/user/update/secrets",method:"POST",body:{secrets:e,_id:o._id}}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,s,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:null!==(s=e.sent)&&void 0!==s&&s.data&&r((0,u.Dj)(null===(i=s.data)||void 0===i?void 0:i[0])),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[1,8,10,12]])})))()}}),getDocuments:e.mutation({query:function(e){var t=e.user;e.token;return{url:"/backendapi/document/".concat(null===t||void 0===t?void 0:t._id)}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,s,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:s=e.sent,o=0;case 6:if(!(o<s.length)){e.next=20;break}return e.next=9,(0,i.Y)(s[o].desc);case 9:return s[o].desc=e.sent,s[o].id=o+1,e.next=13,(0,i.Y)(s[o].expiry);case 13:return s[o].expiry=e.sent,e.next=16,(0,i.Y)(s[o].alias);case 16:s[o].alias=e.sent;case 17:o+=1,e.next=6;break;case 20:r((0,u.wF)(s)),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(1);case 25:return e.prev=25,e.finish(25);case 27:case"end":return e.stop()}}),e,null,[[1,23,25,27]])})))()}})}}}),d=(c.useValidatePhoneNumberMutation,c.useForgotPWDMutation),l=c.useValidateOTPMutation,p=c.useSendOTPMutation,f=c.useValidateREcoveryIDMutation,v=c.useGetUserDataMutation,h=c.useUpdateSecretsMutation,m=(c.useSubscribeMutation,c.useLoginMutation),g=c.useDropdownMutation;c.useGetDocumentsMutation},24160:function(e,t,r){"use strict";r.r(t);r(47313);var n=r(19641),a=r(63585),s=r(47605),u=r(25323),i=r(29137),o=r(2135),c=r(19860),d=r(46417);t.default=function(){var e=(0,c.Z)();return(0,d.jsxs)(n.ZP,{container:!0,style:{paddingTop:"4%"},children:[(0,d.jsx)(n.ZP,{item:!0,xs:1,md:4,sm:2}),(0,d.jsx)(n.ZP,{item:!0,xs:10,md:4,sm:8,container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:(0,d.jsxs)(n.ZP,{justifyContent:"center",alignItems:"center",style:{padding:25,backgroundColor:e.palette.background.paper,borderRadius:20,boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.30)",width:"350px"},children:[(0,d.jsx)(n.ZP,{item:!0,align:"center",xs:12,children:(0,d.jsx)(a.Z,{sx:{color:e.palette.background.paper,backgroundColor:e.palette.primary.main},children:(0,d.jsx)(i.Z,{})})}),(0,d.jsx)(n.ZP,{item:!0,children:(0,d.jsx)(s.Z,{align:"center",variant:"h5",children:"SignIn"})}),(0,d.jsx)(n.ZP,{sx:{marginTop:"1rem"},item:!0,children:(0,d.jsx)(u.Z,{})}),(0,d.jsxs)(n.ZP,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",sx:{fontSize:"0.8rem"},children:[(0,d.jsx)(n.ZP,{item:!0,children:(0,d.jsx)(o.rU,{style:{color:e.palette.primary.main},to:"/forgot",children:"Forgot password?"})}),(0,d.jsx)(n.ZP,{item:!0,children:(0,d.jsx)(o.rU,{style:{color:e.palette.primary.main},to:"/signup",children:"Haven't registered? Sign Up"})})]})]})}),(0,d.jsx)(n.ZP,{item:!0,xs:1,md:4,sm:2})]})}},29137:function(e,t,r){"use strict";var n=r(64836);t.Z=void 0;var a=n(r(45045)),s=r(46417),u=(0,a.default)((0,s.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");t.Z=u},25819:function(){}}]);