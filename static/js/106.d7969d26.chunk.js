"use strict";(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[106],{51427:function(e,n,t){t.d(n,{EL:function(){return v},cm:function(){return p},is:function(){return f},qi:function(){return d}});var i=t(74165),o=t(15861),r=t(31881),a=t.n(r),l=t(58470),s=t(97729),c=t(46417),u=JSON.parse(sessionStorage.getItem("logInUserData")),d=function(e){var n=e.user,t=e.token;return function(){var e=(0,o.Z)((0,i.Z)().mark((function e(o){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o({type:"GET_ALL_DOCS_LOADING",data:!0}),a().get("/backendapi/documents/".concat(null===n||void 0===n?void 0:n._id),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){o({type:"GET_ALL_DOCS_LOADING",data:!1});for(var n=e.data,t=0;t<n.length;t+=1)n[t].desc=(0,s.Y)(n[t].desc),n[t].id=t+1,n[t].expiry=(0,s.Y)(n[t].expiry),n[t].alias=(0,s.Y)(n[t].alias);o({type:"GET_ALL_DOCS",resp:n})})).catch((function(e){o({type:"GET_ALL_DOCS_ERROR",err:"Error getting docs"})}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},f=function(){return function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"GET_USER_ALL_DATA_LOADING",data:!0}),e.next=3,a().post("/backendapi/users/get",{id:u._id},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){if(n({type:"GET_USER_ALL_DATA_LOADING",data:!1}),null!==e&&void 0!==e&&e.data){var t=e.data[0];n({type:"GET_USER_ALL_DATA",data:t})}})).catch((function(e){n({type:"GET_USER_ALL_DATA_LOADING",data:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},p=function(e){return function(n){return n({type:"FILTER_DATA",value:e})}},v=function(e){return function(){var n=(0,o.Z)((0,i.Z)().mark((function n(t){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a().post("/backendapi/update/secrets",{secrets:e,_id:u._id},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){return(0,c.jsx)(l.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Secret Updated Successfully"})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},39995:function(e,n,t){t(47313);var i=t(51268),o=t.n(i),r=t(71535),a=t(60236),l=t(86282),s=t(46417);function c(e){return(0,s.jsx)(a.Z,{component:"img",image:e.item.img,alt:e.item.label})}n.Z=function(e){var n=[{label:"Random Name #1",description:"Probably !",img:l.oX},{label:"Random Name #2",description:"Hello World!",img:l.XL},{label:"Random Name #3",description:"Probably !",img:l.Ev},{label:"Random Name #4",description:"Hello World!",img:l.yc},{label:"Random Name #5",description:"Hello World!",img:l.Ye}];return(0,s.jsx)(r.ZP,{item:!0,xs:4,sx:{display:"flex",justifyContent:"center"},children:(0,s.jsx)(o(),{stopAutoPlayOnHover:!0,navButtonsAlwaysInvisible:!0,swipe:!0,height:160,sx:{alignItems:"center",width:"250px"},animation:"fade",children:n.map((function(e,n){return(0,s.jsx)(c,{item:e},n)}))})})}},71639:function(e,n,t){t.d(n,{RS:function(){return S},fh:function(){return y},zY:function(){return w}});var i=t(1413),o=t(93433),r=t(29439),a=t(47313),l=t(30712),s=t(13760),c=t(80614),u=t(71363),d=t(62463),f=t(71535),p=t(96900),v=t(56972),h=t(22449),m=t(34940),x=t(39995),g=t(86282),Z=t(61474),j=t(58470),D=t(46417),y=function(e){var n=(0,a.useState)(e.file?e.file:[]),t=(0,r.Z)(n,2),f=t[0],p=t[1],v=(0,c.uI)({maxFiles:e.notMulti?1:5,multiple:!e.notMulti,onDrop:function(n){if(1===e.notMulti)e.setfilesOndrop(n),p(n.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})));else{if((f.length?f.filter((function(e){var t;return(null===e||void 0===e?void 0:e.name)===(null===(t=n[0])||void 0===t?void 0:t.name)})):[]).length)return(0,D.jsx)(j.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"File already added"});e.setfilesOndrop([].concat((0,o.Z)(f),(0,o.Z)(n))),p([].concat((0,o.Z)(f),(0,o.Z)(n)))}}}),h=v.getInputProps,m=v.open,x=null===f||void 0===f?void 0:f.map((function(n){return(0,D.jsxs)(u.Z,{children:["".concat(n.name.length>15?"".concat(n.name.slice(0,15),"..."):n.name),(0,D.jsx)(l.Z,{size:15,onClick:function(t){t.stopPropagation(),function(n){e.isMulti?p(f.filter((function(e){return e!==n}))):p([])}(n)}})]},n.name)}));return(0,a.useEffect)((function(){return function(){f.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[f]),(0,a.useEffect)((function(){e.resetDropzone&&p([])}),[e.resetDropzone]),(0,D.jsxs)(d.Z,{onClick:m,children:[(0,D.jsx)(j.nv,(0,i.Z)({},h())),(0,D.jsxs)(u.Z,{sx:{display:"flex",border:"2px solid lightgray",padding:"1rem"},children:[x.length>0?(0,D.jsx)("aside",{children:x}):"Drag `n` drop Or Browse",(0,D.jsx)(s.Z,{})]})]})},b=[{value:"Asset",label:"Asset"},{value:"Expenses",label:"Expenses"},{value:"Vault",label:"Document Vault"},{value:"Liability",label:"Liability"},{value:"Postman",label:"Postman"}],w=function(e){var n=e.alias,t=e.setalias,i=e.expiry,o=e.setexpiry,r=e.desc,l=e.setdesc,s=e.handleReset,c=e.isDisabled,u=e.submitDropzone,h=e.setfilesOndrop,m=e.resetDropzone;return(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)(f.ZP,{item:!0,xs:12,sm:8,children:(0,D.jsxs)(p.Z,{children:[(0,D.jsx)(j.ll,{title:"Upload any file, scans, documents"}),(0,D.jsxs)(v.Z,{children:[(0,D.jsxs)(f.ZP,{container:!0,spacing:1,children:[(0,D.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,D.jsx)(j.nv,{margin:"dense",name:"AttachmentName",id:"AttachmentName",placeholder:"Attachment Name / Alias",value:n,onChange:function(e){var n;return t(null===(n=e.target.value)||void 0===n?void 0:n.trim())}})}),(0,D.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,D.jsx)(j.nv,{margin:"dense",type:"Date",name:"Date",id:"nameMultiExpiry",placeholder:"Expiry Date",min:(0,g.BZ)(),max:"9999-12-31",value:i,onChange:function(e){return o(e.target.value)}})}),(0,D.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,D.jsx)(j.nv,{margin:"dense",type:"textarea",name:"name1",id:"nameMultiDescription1",placeholder:"Description",value:r,onChange:function(e){var n;return l(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)}})}),(0,D.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,D.jsx)(y,{setfilesOndrop:h,resetDropzone:m,isMulti:!0,notMulti:!1})})]}),(0,D.jsxs)(d.Z,{direction:"row",spacing:3,sx:{mt:3},justifyContent:"end",children:[(0,D.jsx)(Z.ZP,{varient:"outlined",label:"Reset",onClick:function(){return s()}}),(0,D.jsx)(Z.ZP,{varient:"contained",label:"Add",disabled:c,onClick:function(e){u(e)}})]})]})]})}),(0,D.jsx)(x.Z,{})]})},S=function(e){var n,t=e.filter,o=e.handleFilter,r=e.search,a=e.columns,l=e.searchresult;return(0,D.jsxs)(p.Z,{sx:{minHeight:"300px"},children:[(0,D.jsxs)(f.ZP,{container:!0,justifyContent:"space-between",sx:{p:2},spacing:2,alignItems:"center",children:[(0,D.jsx)(f.ZP,{item:!0,lg:4,xs:12,children:(0,D.jsx)(u.Z,{variant:"secondary",component:"h3",children:"Documents List"})}),(0,D.jsx)(f.ZP,{item:!0,lg:4,xs:6,children:(0,D.jsx)(Z.gc,{isMulti:!0,id:"optionSelect",onChange:function(e,n){return o(n)},options:b,value:t.map((function(e){var n=b.filter((function(n){return n.value===e.id}));return{value:n[0].value,label:n[0].label}})),renderInput:function(e){return(0,D.jsx)(j.nv,(0,i.Z)((0,i.Z)({},e),{},{placeholder:"Select Category"}))}})}),(0,D.jsx)(f.ZP,{item:!0,lg:4,xs:6,children:(0,D.jsx)(h.Z,{type:"text",onChange:function(e){return r(e.target.value)},placeholder:"Search",fullWidth:!0})})]}),(0,D.jsx)(m.Z,{}),(0,D.jsx)(v.Z,{children:(0,D.jsx)(j.Gn,{columns:a,rows:null!==l&&void 0!==l&&l.length?l:null!==(n=e.documentList)&&void 0!==n&&n.length?e.documentList:[]})})]})}},4106:function(e,n,t){t.r(n),t.d(n,{default:function(){return Y}});var i=t(74165),o=t(15861),r=t(29439),a=t(47313),l=t(64162),s=t.n(l),c=t(40229),u=t(71535),d=t(58470),f=t(31616),p=t(97729),v=t(46095),h=t(46417),m=(0,v.Z)((0,h.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Mail"),x=t(91210),g=t(18377),Z=t(35192),j=t(1413),D=t(66135),y=t(51427),b=t(31881),w=t.n(b),S=t(7081),A=t(5448),k=t(88356),C=t(45959),L=t(89870),E=t(86282),M=t(61474),_=sessionStorage.getItem("authtoken"),z=JSON.parse(sessionStorage.getItem("logInUserData")),P=[{value:"1h",label:"1 Hour"},{value:"1d",label:"1 Day"},{value:"1w",label:"1 Week"},{value:"1m",label:"1 Month"}],I=[{value:!0,label:"Allow Download"},{value:!1,label:"Allow View Only"}],O=(0,D.$j)((function(e){var n;return{docsList:null===(n=e.reducer.dataList)||void 0===n?void 0:n.docsList}}),(function(e){return{getDocuments:function(n){return e((0,y.qi)(n))}}}))((function(e){var n=(0,a.useState)(""),t=(0,r.Z)(n,2),i=t[0],o=t[1],l=(0,a.useState)(""),s=(0,r.Z)(l,2),c=s[0],f=s[1],p=(0,a.useState)(""),v=(0,r.Z)(p,2),m=v[0],x=v[1],g=(0,a.useState)(!1),Z=(0,r.Z)(g,2),D=Z[0],y=Z[1];return console.log(e.loading),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(S.Z,{open:e.modal,onClose:function(){e.toggleModal()},centered:!0,size:"lg",fullWidth:!0,children:[(0,h.jsx)(A.Z,{children:"Send as mail"}),(0,h.jsxs)(k.Z,{children:[e.loading&&(0,h.jsx)(C.Z,{}),!e.loading&&(0,h.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,h.jsx)(u.ZP,{item:!0,xs:6,children:(0,h.jsx)(d.nv,{value:i,label:"Email *",onChange:function(e){return o(e.target.value)},placeholder:"Enter Email"})}),(0,h.jsx)(u.ZP,{item:!0,xs:6,children:(0,h.jsx)(d.nv,{value:c,label:"Name *",onChange:function(e){return f(e.target.value)},placeholder:"Enter Name"})}),(0,h.jsx)(u.ZP,{item:!0,xs:6,children:(0,h.jsx)(M.gc,{id:"data-category",name:"label",onChange:function(e,n){return x(null===n||void 0===n?void 0:n.value)},options:P,value:(0,E.NA)(P,m),renderInput:function(e){return(0,h.jsx)(d.nv,(0,j.Z)((0,j.Z)({},e),{},{placeholder:"Expiry for Documents *"}))}})}),(0,h.jsx)(u.ZP,{item:!0,xs:6,children:(0,h.jsx)(M.gc,{id:"data-category",onChange:function(e,n){return y(null===n||void 0===n?void 0:n.value)},name:"label",options:I,value:(0,E.NA)(I,D),renderInput:function(e){return(0,h.jsx)(d.nv,(0,j.Z)((0,j.Z)({},e),{},{placeholder:"Allow Download"}))}})}),(0,h.jsx)(u.ZP,{item:!0,xs:12,justifyContent:"center",children:(0,h.jsx)(L.Z,{onClick:function(n){if(n.preventDefault(),""===i)return(0,h.jsx)(d.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Enter reciver Mail Id",severity:"warning"});if(""===c)return(0,h.jsx)(d.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Enter reciver Name",severity:"warning"});if(""===m)return(0,h.jsx)(d.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Select Document Expiry",severity:"warning"});var t=new Date;"1m"===m?t.setMonth(t.getMonth()+1):"1d"===m?t.setDate(t.getDate()+1):"1w"===m?t.setDate(t.getDate()+7):"1h"===m&&t.setHours(t.getHours()+1);var r={email:i,name:c,expiry:t,allowdownload:D,docs:e.mailAtt,status:0,user:null===z||void 0===z?void 0:z._id};w().post("/backendapi/documentmail",r,{headers:{Authorization:"Bearer ".concat(_)}}).then((function(n){return"Success"===(null===n||void 0===n?void 0:n.data)?(o(""),f(""),x(""),y(!1),e.toggleModal(),(0,h.jsx)(d.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Mail sent successfully"})):(0,h.jsx)(d.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Mail sent failed. Please check email address",severity:"error"})}))},variant:"contained",children:"Send"})})]})]})]})})})),N=t(62463),R=t(71363),T=(0,v.Z)((0,h.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),U=(0,v.Z)((0,h.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),G=t(49461),F=t.n(G),H=function(e){var n=e.modal,t=e.setprevidx,i=e.loading,o=e.bloburl,r=e.selectedforpreview,a=e.selectedatt,l=e.previdx,s=e.setDeleteId,c=e.setopen,d=e.toggleModal,p=e.open,v=e.deletedoc,m=e.preview;return(0,h.jsx)(F(),{children:(0,h.jsxs)(S.Z,{open:n,onClose:function(){d(),t(0)},centered:!0,size:"lg",fullWidth:!0,children:[(0,h.jsx)(A.Z,{toggle:function(){d(),t(0)},children:(0,h.jsxs)(N.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[!i&&(0,h.jsx)("a",{href:o,download:null===r||void 0===r?void 0:r.name,tabIndex:"_balnk",style:{cursor:"pointer",display:"flex"},children:(0,h.jsx)(g.Z,{size:25,color:"primary"})}),!i&&a.length>1&&(0,h.jsx)(Z.Z,{style:{cursor:"pointer",display:"flex"},color:"primary",size:25,className:"collapse-icon",onClick:function(){s(r._id),c(!0)}}),(0,h.jsxs)(u.ZP,{style:{justifyContent:"center"},children:[l>0&&!i&&(0,h.jsx)(T,{style:{cursor:"pointer"},color:"primary",size:25,onClick:function(){m(a[l-1]),t(l-1)}}),a.length>l+1&&!i&&(0,h.jsx)(U,{size:25,style:{cursor:"pointer"},color:"primary",onClick:function(){m(a[l+1]),t(l+1)}})]}),(0,h.jsxs)(R.Z,{style:{color:"var(--warning)",fontSize:"1.45rem",fontWeight:"bold",letterSpacing:"1px"},children:["Preview ",l+1," of ",null===a||void 0===a?void 0:a.length]})]})}),(0,h.jsxs)(k.Z,{className:"justify-content-center",children:[(0,h.jsx)(f.Z,{handleConfirm:function(){v(),c(!1)},isOpen:p,closeModal:function(){return c(!1)}}),i&&(0,h.jsx)(C.Z,{}),!i&&(0,h.jsx)("div",{children:(0,h.jsx)("iframe",{style:{height:"500px",width:"100%"},title:"Aaq",src:"".concat(o)})})]})]})})},W=t(71639),V=t(72845),B=t(54727),X=sessionStorage.getItem("authtoken"),Y=(0,D.$j)((function(e){var n=e.reducer.dataList,t=void 0===n?{}:n;return{docsList:null===t||void 0===t?void 0:t.docsList,selectedforpreview:null===t||void 0===t?void 0:t.selectedforpreview,blobUrl:null===t||void 0===t?void 0:t.blobUrl,blobUrlAllDocs:null===t||void 0===t?void 0:t.blobUrlAllDocs,fileNameAllDocs:null===t||void 0===t?void 0:t.fileNameAllDocs,addDocsSuccess:null===t||void 0===t?void 0:t.addDocsSuccess,addDocsFailure:null===t||void 0===t?void 0:t.addDocsFailure,addDocsFailureMsg:null===t||void 0===t?void 0:t.addDocsFailureMsg,removedDocSuccess:null===t||void 0===t?void 0:t.removedDocSuccess,removingDocfailed:null===t||void 0===t?void 0:t.removingDocfailed,deletedDoc:null===t||void 0===t?void 0:t.deletedDoc,deletedDocfailed:null===t||void 0===t?void 0:t.deletedDocfailed,loading:null===t||void 0===t?void 0:t.previewLoading,uploading:null===t||void 0===t?void 0:t.addDocsLoading}}),(function(e){return{getDocs:function(n){return e(V.Xg.endpoints.getData.initiate(n))},getAllDocs:function(n){return e(V.Xg.endpoints.getAllDocs.initiate(n))},previewDoc:function(n){return e(V.Xg.endpoints.previewDoc.initiate(n))},addDoc:function(n){return e(V.Xg.endpoints.addDoc.initiate(n))},deleteWholeDoc:function(n){return e(V.Xg.endpoints.deleteDoc.initiate(n))},removeOneDoc:function(n){return e(V.Xg.endpoints.deleteOneDoc.initiate(n))}}}))((function(e){var n=e.getDocs,t=e.getAllDocs,l=e.previewDoc,v=e.addDoc,j=e.deleteWholeDoc,D=e.removeOneDoc,y=e.docsList,b=e.selectedforpreview,S=e.bloburl,A=e.loading,k=e.uploading,C=e.blobUrlAllDocs,L=e.fileNameAllDocs,E=e.addDocsSuccess,M=e.addDocsFailure,_=(e.addDocsFailureMsg,e.removedDocSuccess),z=e.deletedDoc,P=e.deletedDocfailed,I=e.removingDocfailed,N=[{label:"Send",id:"send",cell:function(e){return(0,h.jsx)(m,{onClick:function(){return Xe(e.attachment)}})}},{label:"View",id:"view",cell:function(e){return(0,h.jsx)(x.Z,{style:{cursor:"pointer"},size:20,onClick:function(){q(e._id),Q(e.attachment),We(),Ve(e.attachment[0])}})}},{label:"Name / Alias",id:"alias",cell:function(e){return e.alias}},{label:"Expiry",id:"expiry",sortable:!0,cell:function(e){return(null===e||void 0===e?void 0:e.expiry)&&(0,B.p6)(e.expiry.split("T")[0])}},{label:"Created At",id:"createdat",cell:function(e){return(null===e||void 0===e?void 0:e.createdAt)&&(0,B.p6)(e.createdAt.split("T")[0])}},{label:"Type",id:"type",cell:function(e){return e.type}},{label:"Download",id:"download",cell:function(e){return(0,h.jsx)(g.Z,{size:20,onClick:function(){return Be(e.attachment)}})}},{label:"Trash",id:"trash",cell:function(e){return"Document Vault"===e.type&&(0,h.jsx)(Z.Z,{size:20,onClick:function(){He(e._id),Te(!0)}})}}],R=(0,a.useState)(!1),T=(0,r.Z)(R,2),U=T[0],G=T[1],F=(0,a.useState)(),V=(0,r.Z)(F,2),Y=V[0],q=V[1],J=(0,a.useState)([]),$=(0,r.Z)(J,2),K=$[0],Q=$[1],ee=(0,a.useState)(0),ne=(0,r.Z)(ee,2),te=ne[0],ie=ne[1],oe=(0,a.useState)([]),re=(0,r.Z)(oe,2),ae=re[0],le=re[1],se=(0,a.useState)([]),ce=(0,r.Z)(se,2),ue=ce[0],de=ce[1],fe=(0,a.useState)(!1),pe=(0,r.Z)(fe,2),ve=pe[0],he=pe[1],me=(0,a.useState)(""),xe=(0,r.Z)(me,2),ge=xe[0],Ze=xe[1],je=(0,a.useState)(""),De=(0,r.Z)(je,2),ye=De[0],be=De[1],we=(0,a.useState)(""),Se=(0,r.Z)(we,2),Ae=Se[0],ke=Se[1],Ce=(0,a.useState)([]),Le=(0,r.Z)(Ce,2),Ee=Le[0],Me=Le[1],_e=(0,a.useState)([]),ze=(0,r.Z)(_e,2),Pe=ze[0],Ie=ze[1],Oe=(0,a.useState)(!1),Ne=(0,r.Z)(Oe,2),Re=Ne[0],Te=Ne[1],Ue=(0,a.useState)(!1),Ge=(0,r.Z)(Ue,2),Fe=Ge[0],He=Ge[1],We=function(){G(!U)};(0,a.useEffect)((function(){if(null!==ue&&void 0!==ue&&ue.length){var e=[];null===y||void 0===y||y.filter((function(n){var t=n.type,i=!1;return ue.forEach((function(o){var r,a;return"all"===(null===o||void 0===o||null===(r=o.name)||void 0===r?void 0:r.toLowerCase())?Me(y):(i=(null===o||void 0===o||null===(a=o.name)||void 0===a?void 0:a.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase()))?(e.push(n),i):void 0})),i})),Me(e)}else Me(y)}),[ue]);var Ve=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(n);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),We(),e.abrupt("return",(0,h.jsx)(d.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Something went wrong",severity:"warning"}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){if(C){var e=document.createElement("a");e.href=C,e.setAttribute("download","".concat(L)),document.body.appendChild(e),e.click(),e.parentNode.removeChild(e)}}),[C]);var Be=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.forEach((function(e){try{t(e)}catch(n){console.log("error",n)}}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var t,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rn(!0),en(!0),t=[],o=0;case 4:if(!(o<n.length)){e.next=10;break}return e.next=7,w().get("/backendapi/sender/msg/".concat(n[o]),{headers:{Authorization:"Bearer ".concat(X)}}).then((function(e){var n,i,o=(0,p.Y)(null===(n=e.data[0])||void 0===n?void 0:n.media),r=s().decompress(o),a=null===(i=e.data[0])||void 0===i?void 0:i.name;t.push({data:r,filename:a})}));case 7:o+=1,e.next=4;break;case 10:cn(t),rn(!1);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){n()}),[]),(0,a.useEffect)((function(){Me(y)}),[y]);var Ye=function(){Ze(""),ke(""),be(""),le([]),he(!0)};(0,a.useEffect)((function(){E&&Ye(),M&&(Ze(),ke(),be(),he(!0),d.A9)}),[E,M]);var qe=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),(null===ae||void 0===ae||!ae.length)&&d.A9,null!==ae&&void 0!==ae&&ae.length){e.next=4;break}return e.abrupt("return");case 4:try{v({files:ae,alias:ge,desc:Ae,expiry:ye})}catch(t){console.log("error",t)}case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){P&&(d.A9,null===P||void 0===P||P.length),z&&d.A9}),[P,z]),(0,a.useEffect)((function(){_&&(Q([]),ie(0),We(),d.A9),I&&(d.A9,null===I||void 0===I||I.length)}),[_,I]);var Je=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{j(Fe)}catch(n){console.log("error",n)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=(0,a.useState)(!1),Ke=(0,r.Z)($e,2),Qe=Ke[0],en=Ke[1],nn=(0,a.useState)(!0),tn=(0,r.Z)(nn,2),on=tn[0],rn=tn[1],an=(0,a.useState)([]),ln=(0,r.Z)(an,2),sn=ln[0],cn=ln[1];return(0,h.jsxs)(c.Z,{children:[(0,h.jsx)(O,{modal:Qe,toggleModal:function(){return en(!Qe)},loading:on,mailAtt:sn}),(0,h.jsx)(f.Z,{handleConfirm:function(){Je(),Te(!1)},isOpen:Re,closeModal:function(){return Te(!1)}}),U&&(0,h.jsx)(H,{modal:U,setprevidx:ie,loading:A,bloburl:S,selectedforpreview:b,selectedatt:K,previdx:te,setDeleteId:He,setopen:Te,open:Re,toggleModal:We,deletedoc:function(e){try{D({deleteId:Fe,selecteddoc:Y})}catch(n){console.log("error",n)}},preview:Ve}),(0,h.jsx)(u.ZP,{container:!0,spacing:1,sx:{p:1},children:(0,h.jsx)(W.zY,{alias:ge,setalias:Ze,expiry:ye,setexpiry:be,desc:Ae,setdesc:ke,handleReset:Ye,isDisabled:k||!ye||!ae.length||new Date(ye).getTime()<(new Date).getTime(),uploading:k,submitDropzone:qe,setfilesOndrop:function(e){he(!1),le(e)},resetDropzone:ve})}),(0,h.jsx)(W.RS,{filter:ue,handleFilter:function(e){var n=[];(null===e||void 0===e?void 0:e.length)&&e.forEach((function(e){n.push({id:e.value,name:e.label})})),de(n)},search:function(e){if(null!==Ee&&void 0!==Ee&&Ee.length){var n=Ee.filter((function(n){var t=n.desc,i=n.alias,o=(null===t||void 0===t?void 0:t.toLowerCase().startsWith(e.toLowerCase()))||(null===i||void 0===i?void 0:i.toLowerCase().startsWith(e.toLowerCase())),r=(null===t||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase()))||(null===i||void 0===i?void 0:i.toLowerCase().includes(e.toLowerCase()));return!(!o&&!r)}));Ie(n)}},columns:N,searchresult:Pe,documentList:Ee})]})}))},18377:function(e,n,t){var i=t(46095),o=t(46417);n.Z=(0,i.Z)((0,o.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download")},91210:function(e,n,t){var i=t(46095),o=t(46417);n.Z=(0,i.Z)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility")}}]);