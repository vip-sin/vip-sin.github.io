(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[773],{51427:function(e,t,n){"use strict";n.d(t,{EL:function(){return x},IZ:function(){return m},Id:function(){return L},Jj:function(){return D},Pe:function(){return v},SR:function(){return S},VA:function(){return _},Yu:function(){return p},ZT:function(){return g},cm:function(){return Z},is:function(){return h},qi:function(){return f}});var a=n(37762),r=n(74165),o=n(15861),i=n(31881),s=n.n(i),u=n(63861),c=n(97729),d=n(46417),l=JSON.parse(sessionStorage.getItem("logInUserData")),f=function(e){var t=e.user,n=e.token;return function(){var e=(0,o.Z)((0,r.Z)().mark((function e(a){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"GET_ALL_DOCS_LOADING",data:!0}),s().get("/backendapi/documents/".concat(null===t||void 0===t?void 0:t._id),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){a({type:"GET_ALL_DOCS_LOADING",data:!1});for(var t=e.data,n=0;n<t.length;n+=1)t[n].desc=(0,c.Y)(t[n].desc),t[n].id=n+1,t[n].expiry=(0,c.Y)(t[n].expiry),t[n].alias=(0,c.Y)(t[n].alias);a({type:"GET_ALL_DOCS",resp:t})})).catch((function(e){a({type:"GET_ALL_DOCS_ERROR",err:"Error getting docs"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GET_ALL_DATA_LOADING",data:!0}),t.next=3,s().get("/backendapi/nominee/list/".concat(l._id),{params:e,headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(t){if(n({type:"GET_ALL_DATA_LOADING",data:!1}),null!==t&&void 0!==t&&t.data){var r,o=(0,a.Z)(t.data);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.nomineeId=(0,c.Y)(i.nomineeId),i.name=(0,c.Y)(i.name),i.relation=(0,c.Y)(i.relation),i.relation1=(0,c.Y)(i.relation1),i.email=(0,c.Y)(i.email),i.primaryContact=(0,c.Y)(i.primaryContact),i.secondaryContact=(0,c.Y)(i.secondaryContact),i.address=(0,c.Y)(i.address)}}catch(s){o.e(s)}finally{o.f()}n({type:"GET_DATA",data:t.data,totalPages:t.length,params:e})}})).catch((function(e){n({type:"GET_ALL_DATA_LOADING",data:!1})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(){return function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USER_ALL_DATA_LOADING",data:!0}),e.next=3,s().post("/backendapi/users/get",{id:l._id},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){if(t({type:"GET_USER_ALL_DATA_LOADING",data:!1}),null!==e&&void 0!==e&&e.data){var n=e.data[0];t({type:"GET_USER_ALL_DATA",data:n})}})).catch((function(e){t({type:"GET_USER_ALL_DATA_LOADING",data:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GET_ALL_ASSET_DATA_LOADING",data:!0}),s().get("/backendapi/user/assets/".concat(null===l||void 0===l?void 0:l._id),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){t({type:"GET_ALL_ASSET_DATA_LOADING",data:!1});var n=JSON.parse((0,c.Y)(e.data[0]));t({type:"GET_ALL_ASSET_DATA",data:n})})).catch((function(e){t({type:"ERROR_ALL_ASSET_DATA",data:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(){return function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GET_ALL_LIABILITY_DATA_LOADING",data:!0}),s().get("/backendapi/user/liabilities/".concat(null===l||void 0===l?void 0:l._id),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){t({type:"GET_ALL_LIABILITY_DATA_LOADING",data:!1});var n=JSON.parse((0,c.Y)(e.data[0]));t({type:"GET_ALL_LIABILITY_DATA",data:n})})).catch((function(e){t({type:"ERROR_ALL_LIABILITY_DATA",data:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(e,t){return function(){var n=(0,o.Z)((0,r.Z)().mark((function n(a){var o,i,u,c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"GET_SPEND_DATA_LOADING",data:!0}),null!==t&&void 0!==t&&t.year&&(o=new Date,i=A(o),u=Number(t.year?t.year:3),o.setMonth(o.getMonth()-u),o.setDate(1),c=A(o),e.dateRangeStart=c,e.dateRangeEnd=i),null!==t&&void 0!==t&&t.labels&&(e.labels=t.labels),n.next=5,s().get("/backendapi/spend/list/".concat(l._id),{params:e,headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(t){a({type:"GET_SPEND_DATA_LOADING",data:!1}),a({type:"GET_DATA",data:null===t||void 0===t?void 0:t.data,totalPages:t.length,params:e})})).catch((function(e){a({type:"GET_SPEND_DATA_LOADING",data:!1})}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},A=function(e){var t="".concat(e.getMonth()+1);1===t.length&&(t="0".concat(t));var n="".concat(e.getDate());return 1===n.length&&(n="0".concat(n)),[e.getFullYear(),t,n].join("-")},Z=function(e){return function(t){return t({type:"FILTER_DATA",value:e})}},S=function(e){return function(t){s().post("/backendapi/nominee/delete",e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(n){t({type:"DELETE_DATA",obj:e})}))}},D=function(e){return function(t){s().post("/backendapi/spend/delete",e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(n){t({type:"DELETE_DATA",obj:e})}))}},L=function(e){var t={userId:l._id,name:(0,c.Gf)(e.name),relation:(0,c.Gf)(e.relation),relation1:(0,c.Gf)(e.relation1),email:(0,c.Gf)(e.email),primaryContact:(0,c.Gf)(e.contact1),secondaryContact:(0,c.Gf)(e.contact2),address:(0,c.Gf)(e.address),secrets:e.secrets};return function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().post("/backendapi/nominee/add",t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){e.data&&(u.A9,"Success"===e.data||e.data,e.data),n(p())}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=function(e){var t={_id:e._id,usage:e.usage?e.usage:"Unused",userId:l._id,name:(0,c.Gf)(e.name),relation:(0,c.Gf)(e.relation),relation1:(0,c.Gf)(e.relation1),email:(0,c.Gf)(e.email),primaryContact:(0,c.Gf)(e.contact1),secondaryContact:(0,c.Gf)(e.contact2),address:(0,c.Gf)(e.address),secrets:e.secrets};return function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().post("/backendapi/nominee/update",t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){return(0,d.jsx)(u.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Nominee Updated Successfully"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(e){return function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("/backendapi/update/secrets",{secrets:e,_id:l._id},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){return(0,d.jsx)(u.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Secret Updated Successfully"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},54727:function(e,t,n){"use strict";n.d(t,{Yd:function(){return a},p6:function(){return r}}),t.ZP=function(e){var t=(null===e||void 0===e?void 0:e.keyCode)||(null===e||void 0===e?void 0:e.which);if(t=String.fromCharCode(t),!/^[0-9]*$/.test(t))return e.preventDefault(),!1};var a=RegExp(/^[6-9]{1}[0-9]{9}$/),r=function(e,t){var n="";if(!e)return n;var a=new Date(e),r=a.getFullYear(),o="".concat(a.getMonth()+1),i="".concat(a.getDate());if(o.length<2&&(o="0".concat(o)),i.length<2&&(i="0".concat(i)),"dd/mm/yyyy"===t)n=[i,o,r].join("/");else n=[i,o,r].join("-");return n}},97729:function(e,t,n){"use strict";n.d(t,{Gf:function(){return u},Y:function(){return c},tc:function(){return o}});var a=n(42612),r=n.n(a);function o(e){try{var t=r().md.sha512.create();return t.update(e),t.digest().toHex()}catch(n){return console.log("Error while hashing: ",n),""}}var i=r().random.getBytesSync(16),s=r().random.getBytesSync(16),u=function(e,t,n){if(!e)return e;var a=r().cipher.createCipher("AES-GCM",i);try{a.start({iv:s,additionalData:"binary-encoded string",tagLength:128}),a.update(r().util.createBuffer(e)),a.finish();var o=a.output,u=a.mode.tag;return console.log("keyForge,encryptdata, iv",i,s,u.toHex()),o.toHex()}catch(c){return console.log("Error while encrypting data: ",c),""}},c=function(e,t,n){if(!e)return e;var a=r().cipher.createCipher("AES-GCM",i),o=a.mode.tag;console.log("keyForge decryptdata, iv",i,s,o);try{var u=r().cipher.createDecipher("AES-GCM",i);if(u.start({iv:s,additionalData:"binary-encoded string",tagLength:128,tag:a.mode.tag}),u.update(e),u.finish())return console.log(u.output.toHex()),u.output.toHex();console.log("Error authentication tag didn't match ")}catch(c){return console.log("Error while decrypting data: ",c),""}}},34269:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return J}});var a=n(1413),r=n(29439),o=n(47313),i=n(48737),s=n(61474),u=n(97729),c=n(9506),d=n(51771),l=n(19641),f=n(71003),p=n(56605),h=n(49709),v=n(80836),m=n(57775),g=n(51057),A=n(47605),Z=n(96327),S=n(63861),D=n(54727),L=n(71207),_=n(35192),x=n(11610),y=n(18377),b=n(66135),w=n(98668),C=n(51427),I=n(49920),j=n(19536),k=n(35898),E=n(8586),T=n(39653),G=n(86240),N=n(46417),O=JSON.parse(sessionStorage.getItem("dropdowns")).dailySpendsLabels,P=function(e){var t=e.data,n=(0,o.useState)(""),i=(0,r.Z)(n,2),u=i[0],d=i[1],f=(0,o.useState)("other"),p=(0,r.Z)(f,2),h=p[0],v=p[1],m=(0,o.useState)(""),g=(0,r.Z)(m,2),Z=g[0],L=g[1],_=(0,o.useState)(""),x=(0,r.Z)(_,2),y=x[0],b=x[1],w=(0,o.useState)(""),C=(0,r.Z)(w,2),P=C[0],R=C[1],M=(0,o.useState)(""),B=(0,r.Z)(M,2),Y=B[0],z=B[1],U=(0,o.useState)(""),F=(0,r.Z)(U,2),J=F[0],H=F[1],V=(0,o.useState)(!1),W=(0,r.Z)(V,2),$=W[0],q=W[1],K=function(){z(""),H(""),d(""),v(""),L(""),b(""),R("")};(0,o.useEffect)((function(){if(t){var e=t.id,n=t.name,a=t.relation,r=t.address,o=t.date,i=t.primaryContact;z(e),H(n),d(a),v(null===t||void 0===t?void 0:t.relation1),b(r),L(o),R(i)}t&&!$||K(),q(!1)}),[t]);var Q=function(e){var t=e.target.name,n=e.target.value;switch(t){case"item":H(n);break;case"description":b(n);break;case"date":L(n);break;case"price":n>=0&&n<=999999999999999&&R(n);break;case"relation1":v(n)}},X=e.handleSidebar,ee=e.data,te=e.show;return(0,N.jsx)(I.Z,{anchor:"right",open:te,children:(0,N.jsxs)(c.Z,{sx:{mt:10,width:350,px:2},component:"form",children:[(0,N.jsxs)(l.ZP,{item:!0,sx:{display:"flex",justifyContent:"space-between",p:1},children:[(0,N.jsx)(A.Z,{children:null!==ee?"UPDATE SPEND DETAILS":"ADD NEW SPEND"}),(0,N.jsx)(E.Z,{size:20,onClick:function(){X(!1,!0),K()}})]}),(0,N.jsx)(j.Z,{}),(0,N.jsx)(T.Z,{name:"item",value:J,margin:"dense",placeholder:"Item *",onChange:Q,id:"data-name"}),(0,N.jsx)(l.ZP,{item:!0,sx:{mt:1},children:(0,N.jsx)(s.gc,{id:"labelId",name:"label",value:(0,G.NA)(O,u),onChange:function(e,t){return function(e){var t=null===e||void 0===e?void 0:e.value;d(t),"Others"!==t&&v("")}(t)},options:O,renderInput:function(e){return(0,N.jsx)(T.Z,(0,a.Z)((0,a.Z)({},e),{},{placeholder:"Select Label *"}))}})}),"Others"===u&&(0,N.jsx)(T.Z,{margin:"dense",name:"relation1",value:h,placeholder:"Label Name",onChange:Q,id:"data-name"}),(0,N.jsx)(T.Z,{type:"date",value:Z,name:"date",margin:"dense",placeholder:"Enter Date",id:"data-name",max:"9999-12-31",min:"1900-01-01",onChange:Q}),(0,N.jsx)(T.Z,{type:"number",onKeyPress:function(e){return(0,D.ZP)(e)},value:P,margin:"dense",id:"data-price",name:"price",max:999999999999999,placeholder:"Enter spend amount *",onChange:Q}),(0,N.jsx)(T.Z,{type:"textarea",value:y,margin:"dense",name:"description",placeholder:"Description",id:"data-name",onChange:Q}),(0,N.jsxs)(k.Z,{spacing:3,direction:"row",sx:{mt:3,justifyContent:"end"},children:[(0,N.jsx)(s.ZP,{varient:"outlined",label:null!==ee?"Cancel":"Reset",onClick:function(){null!==ee&&X(!1,!0),K()}}),(0,N.jsx)(s.ZP,{varient:"contained",onClick:function(){return function(){if(e.isLoading)return(0,N.jsx)(S.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:null!==t?"Updating still in process":"Adding Spend in process",severity:"warning"});var n={relation:null===u||void 0===u?void 0:u.trim(),relation1:null===h||void 0===h?void 0:h.trim(),date:null===Z||void 0===Z?void 0:Z.trim(),address:null===y||void 0===y?void 0:y.trim(),contact1:P,_id:null===Y||void 0===Y?void 0:Y.trim(),name:null===J||void 0===J?void 0:J.trim()};null!==t?(n._id=t._id,n.usage=t.usage,e.updateData(n)):(q(!0),e.addData(n),K())}()},disabled:function(){var n=!(null!==J&&void 0!==J&&J.length)||!(null!==u&&void 0!==u&&u.length)||"Others"===u&&!(null!==h&&void 0!==h&&h.length)||!P||!(null!==Z&&void 0!==Z&&Z.length),a=null!==e.data&&J===(null===t||void 0===t?void 0:t.name)&&u===(null===t||void 0===t?void 0:t.relation)&&h===(null===t||void 0===t?void 0:t.relation1)&&y===(null===t||void 0===t?void 0:t.address)&&Z===(null===t||void 0===t?void 0:t.date)&&P===(null===t||void 0===t?void 0:t.primaryContact);return n||a}(),label:null!==ee?"Update":"Add",isLoading:e.isLoading})]})]})})},R=n(31881),M=n.n(R),B=JSON.parse(sessionStorage.getItem("dropdowns")).dailySpendsLabels,Y=[{label:"Last 3 month",value:3},{label:"Last 6 month",value:6},{label:"Last 1 year",value:12},{label:"Last 3 years",value:36}],z=function(e){return(0,N.jsx)(L.Z,{size:15,onClick:function(){return e.currentData(e.row)}})},U=function(e){return(0,N.jsx)(_.Z,{size:15,onClick:function(){return e.setRow()}})},F=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.preventDefault();var a=i.P6.book_new(),r="Spenditure_Report.xlsx";if(n){var o=[];t[n].forEach((function(e){o.push({Month:e.seperator,Date:e.date,Label:e.label,Item:e.item,Amount:"\u20b9".concat(e.amount),Description:e.desc,"Created At":(0,D.p6)(e.updatedAt)})}));var s=i.P6.json_to_sheet(o),u=[{wch:14},{wch:10},{wch:25},{wch:20},{wch:7},{wch:25},{wch:10}];s["!cols"]=u,s.A1.s={font:{sz:24,bold:!0,color:{rgb:"FFAA00"}}},i.P6.book_append_sheet(a,s,n),r="Spediture_Report-".concat(n,".xlsx")}else Object.keys(t).forEach((function(e){var n=[];t[e].forEach((function(e){n.push({Month:e.seperator,Date:e.date,Label:e.label,Item:e.item,Amount:e.amount,Description:e.desc,"Created At":(0,D.p6)(e.updatedAt)})}));var r=i.P6.json_to_sheet(n);r["!cols"]=[{wch:14},{wch:10},{wch:25},{wch:20},{wch:7},{wch:25},{wch:10}],i.P6.book_append_sheet(a,r,e)}));(0,i.NC)(a,r)},J=(0,b.$j)((function(e){var t=e.dataList.data;return t.map((function(e){var t,n=null===e||void 0===e||null===(t=e.date)||void 0===t?void 0:t.split("T");return e.date=null===n||void 0===n?void 0:n[0],e})),{dataList:e.dataList,listLoading:e.dataList.spendLoading,data:t}}),(function(e){return{deleteSpendData:function(t){return e((0,C.Jj)(t))},getSpendData:function(t,n){return e((0,C.ZT)(t,n))},addData:function(t){return e((0,C.Id)(t))},updateData:function(t){return e((0,C.VA)(t))}}}))((function(e){var t=(0,o.useState)([]),n=(0,r.Z)(t,2),i=n[0],L=n[1],_=(0,o.useState)(),b=(0,r.Z)(_,2),C=b[0],I=b[1],j=(0,o.useState)({}),k=(0,r.Z)(j,2),E=k[0],T=k[1],O=(0,o.useState)(!1),R=(0,r.Z)(O,2),J=R[0],H=R[1],V=(0,o.useState)(""),W=(0,r.Z)(V,2),$=W[0],q=W[1],K=(0,o.useState)(!1),Q=(0,r.Z)(K,2),X=Q[0],ee=Q[1],te=(0,o.useState)(null),ne=(0,r.Z)(te,2),ae=ne[0],re=ne[1],oe=(0,o.useState)(""),ie=(0,r.Z)(oe,2),se=ie[0],ue=ie[1],ce=(0,o.useState)({}),de=(0,r.Z)(ce,2),le=de[0],fe=de[1],pe=(0,o.useState)(!1),he=(0,r.Z)(pe,2),ve=he[0],me=he[1],ge=[{label:"Edit",cell:function(t){return(0,N.jsx)(z,{row:t,getSpendData:e.getSpendData,currentData:Se})}},{label:"Item",id:"item",cell:function(e){return e.item}},{label:"Description",id:"desc",cell:function(e){return e.desc}},{label:"Label",id:"label",cell:function(e){return(null===e||void 0===e?void 0:e.label1)||(null===e||void 0===e?void 0:e.label)}},{label:"Date",id:"date",cell:function(e){return(0,D.p6)(null===e||void 0===e?void 0:e.date)}},{label:"Amount",id:"amount",cell:function(e){return e.amount}},{label:"Delete",cell:function(t){return(0,N.jsx)(U,{row:t,setRow:function(){q(t),H(!0)},getSpendData:e.getSpendData})}}],Ae=function(e){e&&e.forEach((function(t,n){if(t.date){var a=new Date(t.date),r=new Intl.DateTimeFormat("en",{year:"numeric"}).format(a),o=new Intl.DateTimeFormat("en",{month:"long"}).format(a);e[n].seperator="".concat(o,", ").concat(r)}}));var t,n=(t="seperator",e.reduce((function(e,n){return e[n[t]]||(e[n[t]]=[]),e[n[t]].push(n),e}),{}));fe(n)};(0,o.useEffect)((function(){e.data&&Ae(e.dataList.allData)}),[e.data]),(0,o.useEffect)((function(){e.getSpendData(E);var t=sessionStorage.getItem("logInUserData")?JSON.parse(sessionStorage.getItem("logInUserData")):{};M().get("/backendapi/spend/count/".concat(t._id),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){console.log("settotal",null===e||void 0===e?void 0:e.data)}))}),[]);var Ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ee(e),!0===t&&(re(null),ue(!0))},Se=function(e){e.name=e.item,e.relation=e.label,e.relation1=e.label1,e.address=e.desc,e.primaryContact=e.amount,re(e),Ze(!0)};return e.listLoading?(0,N.jsx)(w.Z,{}):(0,N.jsxs)(c.Z,{children:[(0,N.jsx)(Z.Z,{handleConfirm:function(){e.deleteSpendData($),e.getSpendData(),H(!1)},isOpen:J,closeModal:function(){return H(!1)}}),(0,N.jsx)(P,{show:X,data:ae,updateData:function(t){me(!0);var n=sessionStorage.getItem("logInUserData")?JSON.parse(sessionStorage.getItem("logInUserData")):{},a={_id:t._id,userId:n._id,item:t.name,label:t.relation,label1:t.relation1,date:t.date,amount:t.contact1,desc:t.address};M().post("/backendapi/spend/update",a,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(t){me(!1),t&&S.A9,Ze(!1,!0),e.getSpendData()})).catch((function(e){me(!1),S.A9}))},addData:function(t){me(!0);var n={userId:(sessionStorage.getItem("logInUserData")?JSON.parse(sessionStorage.getItem("logInUserData")):{})._id,item:t.name,label:t.relation,label1:t.relation1,date:t.date,amount:t.contact1,desc:t.address};"others"===t.relation&&t.relation1&&(n.relation=(0,u.Gf)(t.relation1)),M().post("/backendapi/spend/add",n,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(t){me(!1),S.A9,Ze(!1,!0),e.getSpendData()})).catch((function(e){me(!1),S.A9}))},isLoading:ve,handleSidebar:Ze,thumbView:e.thumbView,getSpendData:e.getSpendData,addNew:se}),(0,N.jsx)(d.Z,{sx:{pl:{sm:2},pr:{xs:1,sm:1}},children:(0,N.jsxs)(l.ZP,{container:!0,justifyContent:"space-between",spacing:.5,children:[(0,N.jsx)(l.ZP,{item:!0,xs:5,children:(0,N.jsx)(f.Z,{variant:"outlined",onClick:function(){return Ze(!0,!0)},children:"Add Item"})}),(0,N.jsx)(l.ZP,{item:!0,xs:5,children:(0,N.jsx)(p.Z,{onChange:function(t){return function(t){var n=t.target.value;if(n.length){var a=(e.dataList.allData.length?e.dataList.allData:e.data).filter((function(e){var t,a,r,o,i=e.desc,s=e.item,u=e.amount,c=e.label;return r=(null===i||void 0===i?void 0:i.toLowerCase().startsWith(n.toLowerCase()))||(null===s||void 0===s?void 0:s.toLowerCase().startsWith(n.toLowerCase()))||(null===(t=toString(u))||void 0===t?void 0:t.toLowerCase().startsWith(n.toLowerCase()))||(null===c||void 0===c?void 0:c.toLowerCase().includes(n.toLowerCase())),o=(null===i||void 0===i?void 0:i.toLowerCase().includes(n.toLowerCase()))||(null===s||void 0===s?void 0:s.toLowerCase().includes(n.toLowerCase()))||(null===(a=toString(u))||void 0===a?void 0:a.toLowerCase().includes(n.toLowerCase()))||(null===c||void 0===c?void 0:c.toLowerCase().includes(n.toLowerCase())),r||(!r&&o?o:null)}));Ae(a)}else{var r;Ae(null===(r=e.dataList)||void 0===r?void 0:r.allData)}}(t)},placeholder:"Search"})}),(0,N.jsx)(l.ZP,{item:!0,xs:2,children:(0,N.jsx)(h.Z,{title:"Download",children:(0,N.jsx)(v.Z,{children:(0,N.jsx)(x.Z,{onClick:function(e){return F(e,le)}})})})})]})}),(0,N.jsx)(m.Z,{sx:{m:1},children:(0,N.jsx)(g.Z,{children:(0,N.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,N.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,N.jsx)(s.gc,{isMulti:!0,id:"data-category",name:"label",value:null===i||void 0===i?void 0:i.map((function(e){var t=B.filter((function(t){return t.value===e.value}));return{value:t[0].value,label:t[0].label}})),onChange:function(e,t){return function(e){var t=[];(null===e||void 0===e?void 0:e.length)&&e.forEach((function(e){t.push(e)})),console.log(t),L(t)}(t)},options:B,renderInput:function(e){return(0,N.jsx)(S.nv,(0,a.Z)((0,a.Z)({},e),{},{placeholder:"Filter by label"}))}})}),(0,N.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,N.jsx)(s.gc,{id:"dateID",name:"date",onChange:function(e,t){return I(null===t||void 0===t?void 0:t.value)},options:Y,value:(0,G.NA)(Y,C),renderInput:function(e){return(0,N.jsx)(S.nv,(0,a.Z)((0,a.Z)({},e),{},{placeholder:"Date range filter",onChange:function(e){return I(null===e||void 0===e?void 0:e.value)}}))}})}),(0,N.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,N.jsx)(f.Z,{variant:"outlined",onClick:function(t){T({labels:i.map((function(e){return e.value})).join(","),year:C}),e.getSpendData({labels:i.map((function(e){return e.value})).join(","),year:C})},children:"Apply"})})]})})}),Object.keys(le).map((function(e,t){var n,a=null===(n=le[e])||void 0===n?void 0:n.map((function(e){return Number(e.amount)})).reduce((function(e,t){return e+t}));return(0,N.jsx)(m.Z,{sx:{m:1},children:(0,N.jsxs)(g.Z,{children:[(0,N.jsxs)(l.ZP,{container:!0,spacing:1,sx:{display:"flex",justifyContent:"space-around"},children:[(0,N.jsxs)(A.Z,{children:["Total Spends :",a]}),(0,N.jsx)(A.Z,{children:e}),(0,N.jsx)(y.Z,{onClick:function(t){return F(t,le,e)}})]}),(0,N.jsx)(S.Gn,{columns:ge,rows:le[e]})]})},t+1)}))]})}))},18377:function(e,t,n){"use strict";var a=n(54750),r=n(46417);t.Z=(0,a.Z)((0,r.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download")},57775:function(e,t,n){"use strict";var a=n(87462),r=n(63366),o=n(47313),i=n(83061),s=n(21921),u=n(17592),c=n(77342),d=n(85345),l=n(27049),f=n(46417),p=["className","raised"],h=(0,u.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),v=o.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiCard"}),o=n.className,u=n.raised,d=void 0!==u&&u,v=(0,r.Z)(n,p),m=(0,a.Z)({},n,{raised:d}),g=function(e){var t=e.classes;return(0,s.Z)({root:["root"]},l.y,t)}(m);return(0,f.jsx)(h,(0,a.Z)({className:(0,i.default)(g.root,o),elevation:d?8:void 0,ref:t,ownerState:m},v))}));t.Z=v},27049:function(e,t,n){"use strict";n.d(t,{y:function(){return r}});var a=n(32298);function r(e){return(0,a.Z)("MuiCard",e)}var o=(0,n(77430).Z)("MuiCard",["root"]);t.Z=o},51057:function(e,t,n){"use strict";var a=n(87462),r=n(63366),o=n(47313),i=n(83061),s=n(21921),u=n(17592),c=n(77342),d=n(30943),l=n(46417),f=["className","component"],p=(0,u.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),h=o.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiCardContent"}),o=n.className,u=n.component,h=void 0===u?"div":u,v=(0,r.Z)(n,f),m=(0,a.Z)({},n,{component:h}),g=function(e){var t=e.classes;return(0,s.Z)({root:["root"]},d.N,t)}(m);return(0,l.jsx)(p,(0,a.Z)({as:h,className:(0,i.default)(g.root,o),ownerState:m,ref:t},v))}));t.Z=h},30943:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var a=n(32298);function r(e){return(0,a.Z)("MuiCardContent",e)}var o=(0,n(77430).Z)("MuiCardContent",["root"]);t.Z=o},25819:function(){}}]);