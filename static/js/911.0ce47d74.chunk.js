"use strict";(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[911],{1087:function(e,n,t){t.d(n,{Z:function(){return a}});t(47313);var i=t(33505),r=t(36186),l=t(39338),o=t(6306),s=t(46417);function a(e){var n=e.collapseID,t=(e.setcollapseID,e.collapseItem),a=e.formatme,u=e.toggleCollapse;return(0,s.jsxs)(i.Z,{sx:{my:.9},expanded:n===t.id,onChange:function(){return u(t.id)},children:[(0,s.jsx)(l.Z,{expandIcon:(0,s.jsx)(o.Z,{}),children:a(t.title)}),(0,s.jsx)(r.Z,{children:t.content})]})}},18825:function(e,n,t){t.d(n,{z:function(){return a}});var i=t(19641),r=t(9506),l=t(56605),o=(t(47313),t(94843)),s=t(46417),a=function(e){return(0,s.jsxs)(i.ZP,{container:!0,sx:{px:2.5,py:1},children:[(0,s.jsx)(i.ZP,{item:!0,xs:6,children:(0,s.jsx)(o.ll,{title:e.heading})}),(0,s.jsx)(i.ZP,{item:!0,xs:6,children:(0,s.jsx)(r.Z,{display:"flex",justifyContent:"flex-end",children:(0,s.jsx)(l.Z,{onChange:function(n){return e.search(n.target.value)},placeholder:"Search"})})})]})}},72845:function(e,n,t){t.d(n,{BS:function(){return d},E4:function(){return s},HH:function(){return o},Q7:function(){return u},a1:function(){return a},mo:function(){return c}});var i=t(80571),r=JSON.parse(sessionStorage.getItem("logInUserData")),l=i.g.injectEndpoints({endpoints:function(e){return{getDocs:e.query({query:function(){return"/backendapi/document/".concat(r._id)},providesTags:["Document"]}),getAllDocs:e.query({query:function(e){return"/backendapi/sender/msg/".concat(e)},providesTags:["Document"]}),previewDocs:e.query({query:function(e){return"/backendapi/sender/msg/".concat(e)},providesTags:["Document"]}),resetPreview:function(){return function(e){e({type:"RESET_PREVIEW_DATA"})}},addDoc:e.mutation({query:function(e){return{url:"backendapi/document/add",method:"POST",body:e}},invalidatesTags:["Document"]}),deleteDocs:e.mutation({query:function(e){return{url:"/backendapi/document/deletebyid/".concat(e.deleteId),method:"DELETE"}},invalidatesTags:["Document"]}),deleteOneDoc:e.mutation({query:function(e){return{url:"/backendapi/document/media/deletebyid/".concat(e.deleteId,"/").concat(e.selecteddoc),method:"DELETE"}},invalidatesTags:["Document"]})}}}),o=l.useGetDocsQuery,s=l.useGetAllDocsQuery,a=l.usePreviewDocsQuery,u=l.useAddDocMutation,c=l.useDeleteDocsMutation,d=l.useDeleteOneDocMutation},23317:function(e,n,t){t.d(n,{BS:function(){return s},Yy:function(){return o}});var i=t(80571),r=JSON.parse(sessionStorage.getItem("logInUserData")),l=i.g.injectEndpoints({endpoints:function(e){return{getLiability:e.query({query:function(){return"/backendapi/liability/".concat(null===r||void 0===r?void 0:r._id)},providesTags:["Liability"]}),addLiability:e.mutation({query:function(e){return{url:"backendapi/liability/adddetails",method:"POST",body:e}},invalidatesTags:["Liability"]})}}}),o=l.useGetLiabilityQuery,s=l.useAddLiabilityMutation},50850:function(e,n,t){t.d(n,{Id:function(){return S},Vh:function(){return w},zV:function(){return L}});var i=t(74165),r=t(15861),l=t(29439),o=t(1413),s=t(47313),a=t(94469),u=t(33604),c=t(69625),d=t(19641),v=t(47605),f=t(80836),m=t(9506),p=t(98668),h=t(11198),x=t(52156),Z=t(49461),y=t.n(Z),j=t(54727),g=t(61474),b=t(72845),D=t(64162),k=t.n(D),P=t(97729),I=t(46417),C=[{value:"Text",label:"Text",color:"#00B8D9",isFixed:!0},{value:"textarea",label:"Text Area",color:"#0052CC",isFixed:!0},{value:"Date",label:"Date",color:"#0052CC",isFixed:!0},{value:"Number",label:"Number",color:"#0052CC",isFixed:!0}],S=function(e){var n=e.modal,t=e.fname,i=e.ftype,r=e.addfield,l=e.messages,s=e.setfname,d=e.setftype,v=e.assetType,f=e.toggleModal,m=e.clearCustomField;return(0,I.jsxs)(a.Z,{open:n,onClose:f,centered:!0,children:[(0,I.jsx)(u.Z,{children:"Add Custom Field"}),(0,I.jsxs)(c.Z,{children:[(0,I.jsx)(g.gc,{disabled:void 0===v,options:C,onChange:function(e,n){return d(n?n.value:"")},renderInput:function(e){return(0,I.jsx)(x.Z,(0,o.Z)((0,o.Z)({},e),{},{label:"Field Type..."}))}}),(0,I.jsx)(x.Z,{name:"Email",margin:"normal",type:"email",disabled:""===v,id:"EmailMulti",value:t,label:"Enter Field Name",onChange:function(e){return s(e.target.value)}}),(0,I.jsx)(g.AG,{label:null!==l&&void 0!==l&&l.resetButton?null===l||void 0===l?void 0:l.resetButton:"Cancel",disabled:void 0===v,handleClick:function(){m(),f()}}),(0,I.jsx)(g.k4,{label:null!==l&&void 0!==l&&l.submitButton?null===l||void 0===l?void 0:l.submitButton:"Add",disabled:""===t||""===i,handleClick:function(e){return r(e)}})]})]})},w=function(e){var n=e.nomineeList,t=e.preview,i=e.editItemFunc,r=e.setdeleteID,l=e.setopen,o=e.setassetList,s=e.assetListFromAPI,a=[];(null===s||void 0===s?void 0:s.length)&&s.forEach((function(e,o){if(e.id){var s,u,c,f,m="";(null===e||void 0===e||null===(s=e.nominees)||void 0===s?void 0:s.length)&&e.nominees.forEach((function(t,i){var r=n.filter((function(e){return e._id===t.id}));r.length&&(i===e.nominees.length-1?m+=r[0].name:m="".concat(m+r[0].name,", "))}));var p=null,h=(0,I.jsxs)(d.ZP,{container:!0,columnSpacing:1,children:[(0,I.jsx)(d.ZP,{item:!0,display:"flex",sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:4,children:(0,I.jsx)(v.Z,{borderRadius:1,textAlign:"center",height:"max-cotent",bgcolor:"primary.link",color:"white",padding:.1,sx:{mr:1,cursor:"pointer"},onClick:function(){return i(e)},children:"EDIT"})}),(0,I.jsx)(d.ZP,{item:!0,xs:4,children:(0,I.jsx)(v.Z,{borderRadius:1,textAlign:"center",height:"max-cotent",bgcolor:"primary.danger",color:"white",padding:.1,sx:{mr:1,cursor:"pointer"},onClick:function(){r(e.id),l(!0)},children:"DELETE"})})]})}),null===e||void 0===e||null===(u=e.assetDetails)||void 0===u?void 0:u.map((function(e,n){if("Remarks"===e.key&&e.val)return p=n,"";if(""!==e.val){var i,r=e.val;if("File"===e.type){var l=e.val.split("#~#");r=(0,I.jsx)("u",{children:(0,I.jsx)("span",{style:{color:"blue",cursor:"pointer"},onClick:function(){return t(l[2])},children:l[0]})})}return(0,I.jsx)(d.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:5,children:(0,I.jsx)(v.Z,{children:e.key&&(null===(i=e.key.split("*"))||void 0===i?void 0:i[0])})}),(0,I.jsx)(d.ZP,{item:!0,xs:7,children:(0,I.jsxs)(v.Z,{children:[": ","Date"===e.type?(0,j.p6)(r):r]})})]})},n+e.key)}return""})),(0,I.jsx)(d.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:5,children:(0,I.jsx)(v.Z,{children:"Nominees"})}),(0,I.jsx)(d.ZP,{item:!0,xs:7,children:(0,I.jsxs)(v.Z,{children:[": ",m]})})]})}),p&&(0,I.jsx)(d.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(d.ZP,{container:!0,children:[(0,I.jsx)(d.ZP,{item:!0,xs:5,children:(0,I.jsx)(v.Z,{children:(null===e||void 0===e?void 0:e.assetDetails[p].key)&&(null===e||void 0===e||null===(c=e.assetDetails[p].key.split("*"))||void 0===c?void 0:c[0])})}),(0,I.jsx)(d.ZP,{item:!0,xs:7,children:(0,I.jsxs)(v.Z,{children:[": ",null===e||void 0===e||null===(f=e.assetDetails[p])||void 0===f?void 0:f.val]})})]})})]}),x={id:o+1,trashIt:function(){r(e.id),l(!0)},editIt:function(){i(e)},title:e.assetType,content:h};a.push(x)}})),o(null===a||void 0===a?void 0:a.reverse())},L=function(e){var n=e.docID,t=e.reset,o=(0,b.a1)(n),x=o.data,Z=o.isError,j=o.error,g=o.isLoading,D=(0,s.useState)(""),C=(0,l.Z)(D,2),S=C[0],w=C[1];return(0,s.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var n,t,r,l,o,s,a,u,c,d,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===x||void 0===x||null===(n=x[0])||void 0===n?void 0:n.media,l=k().decompressFromUTF16(r),e.next=4,(0,P.Y)(l);case 4:if(o=e.sent){for(a=atob(null===o||void 0===o?void 0:o.split("base64,")[1]),u=new Array(a.length),c=0;c<a.length;c++)u[c]=a.charCodeAt(c);d=new Uint8Array(u),v=new Blob([d],{type:null===(s=x[0])||void 0===s?void 0:s.type}),t=URL.createObjectURL(v),w({blobUrl:t,selectedforpreview:x,fileName:null===x||void 0===x?void 0:x.name,mediaData:o})}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();x&&e()}),[x]),(0,I.jsx)(y(),{children:(0,I.jsxs)(a.Z,{open:!!n,onClose:function(){return t()},fullWidth:!0,children:[(0,I.jsx)(u.Z,{children:(0,I.jsxs)(d.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,I.jsx)(d.ZP,{item:!0,children:"Preview Attachment"}),(0,I.jsx)(d.ZP,{item:!0,xs:!0}),(0,I.jsx)(d.ZP,{item:!0,children:(0,I.jsx)(f.Z,{onClick:function(){return t()},children:(0,I.jsx)(h.Z,{})})})]})}),(0,I.jsx)(c.Z,{children:Z?(0,I.jsx)(v.Z,{children:j}):g||null===S||void 0===S||!S.blobUrl?(0,I.jsx)(m.Z,{display:"flex",justifyContent:"center",alignItems:"center",height:450,children:(0,I.jsx)(p.Z,{})}):(0,I.jsx)(m.Z,{height:400,children:(0,I.jsx)("iframe",{style:{height:"100%",width:"100%"},title:null===S||void 0===S?void 0:S.fileName,src:null===S||void 0===S?void 0:S.blobUrl})})})]})})}},77911:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var i=t(1413),r=t(93433),l=t(74165),o=t(15861),s=t(29439),a=t(47313),u=t(95162),c=t(64162),d=t.n(c),v=t(9506),f=t(19641),m=t(57775),p=t(51057),h=t(35898),x=t(71003),Z=t(52156),y=t(39500),j=t(81800),g=t(13798),b=t(35192),D=t(63709),k=t(20938),P=t(79428),I=t(61474),C=t(29748),S=t(50850),w=t(47605),L=t(54727),E=t(46417),A=function(e){var n=e.nomineeList,t=e.preview,i=e.editItemFunc,r=e.setdeleteID,l=e.setopen,o=e.setliabilityList,s=e.liabilityListAPI,a=[];(null===s||void 0===s?void 0:s.length)&&s.forEach((function(e,o){if(e.id){var s,u,c,d,v="";(null===e||void 0===e||null===(s=e.nominees)||void 0===s?void 0:s.length)&&e.nominees.forEach((function(t,i){var r=n.filter((function(e){return e._id===t.id}));r.length&&(i===e.nominees.length-1?v+=r[0].name:v="".concat(v+r[0].name,", "))}));var m=null,p=(0,E.jsxs)(f.ZP,{container:!0,columnSpacing:1,children:[(0,E.jsx)(f.ZP,{item:!0,display:"flex",sm:4,xs:12,children:(0,E.jsxs)(f.ZP,{container:!0,children:[(0,E.jsx)(f.ZP,{item:!0,xs:4,children:(0,E.jsx)(w.Z,{borderRadius:1,textAlign:"center",height:"max-cotent",bgcolor:"primary.link",color:"white",padding:.1,sx:{mr:1,cursor:"pointer"},onClick:function(){return i(e)},children:"EDIT"})}),(0,E.jsx)(f.ZP,{item:!0,xs:4,children:(0,E.jsx)(w.Z,{borderRadius:1,textAlign:"center",height:"max-cotent",bgcolor:"primary.danger",color:"white",padding:.1,sx:{mr:1,cursor:"pointer"},onClick:function(){r(e.id),l(!0)},children:"DELETE"})})]})}),null===e||void 0===e||null===(u=e.liabilityDetails)||void 0===u?void 0:u.map((function(e,n){if("Remarks"===e.key&&e.val)return m=n,"";if(""!==e.val){var i,r=e.val;if("File"===e.type){var l=e.val.split("#~#");r=(0,E.jsx)("u",{children:(0,E.jsx)("span",{style:{color:"blue",cursor:"pointer"},onClick:function(){return t(l[2])},children:l[0]})})}return(0,E.jsx)(f.ZP,{item:!0,sm:4,xs:12,children:(0,E.jsxs)(f.ZP,{container:!0,children:[(0,E.jsx)(f.ZP,{item:!0,xs:5,children:(0,E.jsx)(w.Z,{children:e.key&&(null===(i=e.key.split("*"))||void 0===i?void 0:i[0])})}),(0,E.jsx)(f.ZP,{item:!0,xs:7,children:(0,E.jsxs)(w.Z,{children:[": ","Date"===e.type?(0,L.p6)(r):r]})})]})},n+e.key)}return""})),(0,E.jsx)(f.ZP,{item:!0,sm:4,xs:12,children:(0,E.jsxs)(f.ZP,{container:!0,children:[(0,E.jsx)(f.ZP,{item:!0,xs:5,children:(0,E.jsx)(w.Z,{children:"Nominees"})}),(0,E.jsx)(f.ZP,{item:!0,xs:7,children:(0,E.jsxs)(w.Z,{children:[": ",v]})})]})}),m&&(0,E.jsx)(f.ZP,{item:!0,sm:4,xs:12,children:(0,E.jsxs)(f.ZP,{container:!0,children:[(0,E.jsx)(f.ZP,{item:!0,xs:5,children:(0,E.jsx)(w.Z,{children:(null===e||void 0===e?void 0:e.liabilityDetails[m].key)&&(null===e||void 0===e||null===(c=e.liabilityDetails[m].key.split("*"))||void 0===c?void 0:c[0])})}),(0,E.jsx)(f.ZP,{item:!0,xs:7,children:(0,E.jsxs)(w.Z,{children:[": ",null===e||void 0===e||null===(d=e.liabilityDetails[m])||void 0===d?void 0:d.val]})})]})})]}),h={id:o+1,trashIt:function(){r(e.id),l(!0)},editIt:function(){i(e)},title:e.liabilityType,content:p};a.push(h)}})),o(null===a||void 0===a?void 0:a.reverse())},T=t(97729),F=t(36936),N=t(23317),O=t(71147),R=t(72845),B=t(54285),U=function(e){var n,t,c,w=(0,a.createRef)(),U=(0,B.Z)().setSnack,q=(0,N.Yy)(),_=q.data,M=q.isFetching,J=q.isError,Q=(0,F.mB)().data,z=(0,N.BS)(),G=(0,s.Z)(z,2),Y=G[0],V=G[1],W=(0,R.Q7)(),H=(0,s.Z)(W,1)[0],K=(0,R.mo)(),$=(0,s.Z)(K,1)[0],X=(0,D.v9)(O.Jy),ee=JSON.parse(sessionStorage.getItem("dropdowns")).liabilityOption,ne=JSON.parse(sessionStorage.getItem("logInUserData")),te=Object.keys(ee).map((function(e){var n,t;return{value:e,label:null!==(n=null===X||void 0===X||null===(t=X.colorOption)||void 0===t?void 0:t[e])&&void 0!==n?n:e}})),ie=(0,a.useState)([]),re=(0,s.Z)(ie,2),le=re[0],oe=re[1],se=(0,a.useState)(""),ae=(0,s.Z)(se,2),ue=ae[0],ce=ae[1],de=(0,a.useState)(!1),ve=(0,s.Z)(de,2),fe=ve[0],me=ve[1],pe=(0,a.useState)(!1),he=(0,s.Z)(pe,2),xe=he[0],Ze=he[1],ye=(0,a.useState)(null),je=(0,s.Z)(ye,2),ge=je[0],be=je[1],De=(0,a.useState)(""),ke=(0,s.Z)(De,2),Pe=ke[0],Ie=ke[1],Ce=(0,a.useState)(""),Se=(0,s.Z)(Ce,2),we=Se[0],Le=Se[1],Ee=(0,a.useState)([]),Ae=(0,s.Z)(Ee,2),Te=Ae[0],Fe=Ae[1],Ne=(0,a.useState)(""),Oe=(0,s.Z)(Ne,2),Re=Oe[0],Be=Oe[1],Ue=(0,a.useState)(!1),qe=(0,s.Z)(Ue,2),_e=qe[0],Me=qe[1],Je=(0,a.useState)([]),Qe=(0,s.Z)(Je,2),ze=Qe[0],Ge=Qe[1],Ye=(0,a.useState)(!1),Ve=(0,s.Z)(Ye,2),We=Ve[0],He=Ve[1],Ke=(0,a.useState)(),$e=(0,s.Z)(Ke,2),Xe=$e[0],en=$e[1],nn=(0,a.useState)([]),tn=(0,s.Z)(nn,2),rn=tn[0],ln=tn[1],on=(0,a.useState)(""),sn=(0,s.Z)(on,2),an=sn[0],un=sn[1],cn=(0,a.useState)(!1),dn=(0,s.Z)(cn,2),vn=dn[0],fn=dn[1],mn=(0,a.useState)(""),pn=(0,s.Z)(mn,2),hn=pn[0],xn=pn[1],Zn=(0,a.useState)(null),yn=(0,s.Z)(Zn,2),jn=yn[0],gn=yn[1],bn=(0,a.useState)(!0),Dn=(0,s.Z)(bn,2),kn=Dn[0],Pn=Dn[1],In=(0,a.useState)(!1),Cn=(0,s.Z)(In,2),Sn=Cn[0],wn=Cn[1],Ln=(0,a.useState)([{value:"Add Nominee",label:"Add Nominee"}]),En=(0,s.Z)(Ln,2),An=En[0],Tn=En[1];(0,a.useEffect)((function(){var e;(null!==V&&void 0!==V&&V.isSuccess&&U({msg:"Liability added successfully",severity:"success"}),null!==V&&void 0!==V&&V.isError)&&U({msg:null!==(e=V.error)&&void 0!==e?e:"Something went wrong!",severity:"error"});null!==V&&void 0!==V&&V.isLoading&&console.log("isLoading")}),[V]),(0,a.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,T.Y)(_);case 2:n=e.sent,(n=JSON.parse(n))&&A({nomineeList:Q,preview:function(e){return ce(e)},editItemFunc:Yn,setdeleteID:be,setopen:me,setliabilityList:Fe,liabilityListAPI:n}),oe(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();null!==_&&void 0!==_&&_.length&&null!==Q&&void 0!==Q&&Q.length&&e()}),[_,Q]),(0,a.useEffect)((function(){if(null!==Q&&void 0!==Q&&Q.length){var e=[{value:"Add Nominee",label:"Add Nominee"}];Q.forEach((function(n){var t={value:n._id,label:"".concat(n.name," - ").concat(n.relation)};e.push(t)})),Tn(e)}}),[Q]);var Fn=function(){He(!We)},Nn=function(e,n){var t,i;"File"===e.type&&en(null===(i=n.target)||void 0===i?void 0:i.files[0]);var r=null!==(t=n.target.value)&&void 0!==t?t:"",l=rn,o=rn.findIndex((function(n){return n.key===e.key}));r.length<250&&(l[o].val=r,ln(l),Ze(!xe),On())},On=function(){var e=!1;rn.forEach((function(n){n.mandatory&&!n.val.trim()&&(e=!0)})),Pn(e)},Rn=function(e){return new Promise((function(n,t){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){return n(i.result)},i.onerror=function(e){return t(e)}}))},Bn=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(n){var t,i,r,o,s,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],(i={}).user=null===ne||void 0===ne?void 0:ne._id,i.type="Liability",e.next=6,(0,T.Gf)(n.name);case 6:return i.alias=e.sent,e.next=9,Rn(n);case 9:return r=e.sent,e.next=12,(0,T.Gf)(r);case 12:return o=e.sent,s=d().compressToUTF16(o),t.push({media:s,name:n.name,type:n.type,user:null===ne||void 0===ne?void 0:ne._id}),i.attachment=t,e.next=18,H(i);case 18:return a=e.sent,e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Un=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(n){var t,i,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wn(!0),n.preventDefault(),an&&!Xe&&rn.forEach((function(e){"Attachments"===e.key&&(e.val="")})),t={liabilityType:Re,liabilityDetails:(0,P.OQ)(rn),nominees:ze,id:hn},!((i=le.findIndex((function(e){return e.id===hn})))>=0)){e.next=10;break}le.splice(i,1),le.push(t),e.next=11;break;case 10:return e.abrupt("return");case 11:r=[],ze.forEach((function(e){e.objectid=hn})),jn.nominees.forEach((function(e){-1===ze.findIndex((function(n){return n.id===e.id}))&&(e.objectid=hn,r.push(e))})),_n({nominees:ze,deletednominee:r});case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),qn=function(e){wn(!0),e.preventDefault(),fn(!1);var n=rn.findIndex((function(e){return"File"===e.type}));n>=0&&Xe?""!==rn[n].val?Bn(Xe).then(function(){var t=(0,o.Z)((0,l.Z)().mark((function t(i){var r;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,T.Y)(i.data.alias);case 2:r=t.sent,rn[n].val="".concat(r,"#~#").concat(i.data._id,"#~#").concat(i.data.attachment[0]),ln(rn),Un(e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){var n;wn(!1),U({msg:(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)||"error",severity:"error"})})):Un(e):Un(e)},_n=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(n){var t,i,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.nominees,i=n.deletednominee,e.prev=1,e.t0=null===ne||void 0===ne?void 0:ne._id,e.next=5,(0,T.Gf)(JSON.stringify(le));case 5:e.t1=e.sent,r={userId:e.t0,liabilities:e.t1},i&&(r.deletednominee=i),null!==t&&void 0!==t&&t.length&&(r.deletednominee=t),Y(r),an&&$(an),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(1),console.log("error asset add",e.t2);case 16:zn(),Gn(),Pn(!0),wn(!1);case 20:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}(),Mn=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={liabilityType:Re,liabilityDetails:(0,P.OQ)(rn),nominees:ze,id:(0,u.Z)()},ze.forEach((function(e){e.objectid=n.id})),le.push(n),_n({nominees:ze});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Jn=function(e){wn(!0),e.preventDefault();var n=rn.findIndex((function(e){return"File"===e.type}));n>=0?""!==rn[n].val?Bn(Xe).then(function(){var e=(0,o.Z)((0,l.Z)().mark((function e(t){var i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,T.Y)(t.data.alias);case 2:i=e.sent,rn[n].val="".concat(i,"#~#").concat(t.data._id,"#~#").concat(t.data.attachment[0]),ln(rn),Mn();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){var n;wn(!1),U({msg:(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)||"error",severity:"error"})})):Mn():Mn()},Qn=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(n){var t,i,o,s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,r.Z)(le),i=t.findIndex((function(e){return e.id===n})),o=[],console.log(i,"id"),!(i>=0)){e.next=12;break}s=t[i].liabilityDetails.filter((function(e){return"File"===e.type})),console.log(s),s.forEach((function(e){var n=e.val.split("#~#");(null===n||void 0===n?void 0:n[1])&&$({deleteId:n[1]})})),t[i].nominees.forEach((function(e){e.objectid=t[i].id,o.push(e)})),t.splice(i,1),e.next=13;break;case 12:return e.abrupt("return");case 13:_n(ze,o);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),zn=function(){le&&A({nomineeList:Q,preview:function(e){return ce(e)},editItemFunc:Yn,setdeleteID:be,setopen:me,setliabilityList:Fe,liabilityListAPI:le}),Be(""),un(""),en(""),ln([]),Ge([]),vn&&Pn(!0)},Gn=function(){Ie(""),Le(""),w.current&&w.current.select.clearValue()},Yn=function(e){var n=e.liabilityDetails,t=e.liabilityType,i=e.nominees;Be(t),fn(!0),xn(e.id),gn(e),ln(n),Ge((0,r.Z)(i))},Vn=function(){var e={value:"",label:""};return te.forEach((function(n){n.value===Re&&(e=n)})),e};return(0,E.jsxs)(v.Z,{children:[ue&&(0,E.jsx)(S.zV,{docID:ue,reset:function(){return ce("")}}),(0,E.jsx)(y.Z,{handleConfirm:function(){Qn(ge),me(!1)},isOpen:fe,closeModal:function(){return me(!1)}}),_e&&(0,E.jsx)(C.Z,{handleSidebar:function(){return Me(!1)}}),(0,E.jsxs)(f.ZP,{container:!0,spacing:2,sx:{p:2},children:[(0,E.jsx)(f.ZP,{item:!0,xs:12,md:9,lg:9,children:(0,E.jsx)(m.Z,{children:(0,E.jsxs)(p.Z,{children:[(0,E.jsx)(k.ll,{title:vn?"Edit Liability Details":"Add New Liability"}),(0,E.jsxs)(f.ZP,{rowSpacing:.01,container:!0,spacing:1,children:[(0,E.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,E.jsx)(I.gc,{id:"liabilityID",name:"liability",isDisabled:vn,options:te,onChange:function(e,n){return function(e){var n;Pn(!0),(0,P.L9)(),Ie(""),Le(""),Ge([]),en(""),Be(null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:void 0),ln(e?ee[e.value]:{})}(n)},value:Vn(),renderInput:function(e){var n;return(0,E.jsx)(Z.Z,(0,i.Z)((0,i.Z)({},e),{},{label:vn?Vn().value:null!==(n=null===X||void 0===X?void 0:X.liabilityOptionText)&&void 0!==n?n:"Liability Type"}))}})}),(0,E.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,E.jsx)(I.gc,{isMulti:!0,name:"nominee",id:"nomineeId",onChange:function(e,n){return function(e){vn&&Pn(!1);var n=[];(null===e||void 0===e?void 0:e.length)&&e.forEach((function(e){"Add Nominee"===e.value?Me(!0):n.push({id:e.value,name:e.label})})),Ge([].concat(n))}(n)},autoComplete:!1,options:null===An||void 0===An?void 0:An.filter((function(e){return!ze.some((function(n){return n.id===e.value}))})),value:ze.map((function(e){var n=An.filter((function(n){return n.value===e.id}));return{value:n[0].value,label:n[0].label}})),renderInput:function(e){var n;return(0,E.jsx)(Z.Z,(0,i.Z)((0,i.Z)({},e),{},{label:null!==(n=null===X||void 0===X?void 0:X.nomineeOption)&&void 0!==n?n:"Nominee(s)"}))}})}),Object.keys(ee).includes(Re)&&rn.map((function(e,n){return(0,E.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:"Attachments"!==e.key?(0,E.jsxs)(E.Fragment,{children:[e.deletable&&(0,E.jsx)(b.Z,{size:15,onClick:function(){return function(e){vn&&Pn(!1);var n=rn.filter((function(n){return e.key!==n.key}));ln(n)}(e)}}),(0,E.jsx)(Z.Z,{type:e.type,onKeyPress:function(n){"number"===e.type.toLowerCase()&&((0,L.ZP)(n),function(e){var n=(null===e||void 0===e?void 0:e.keyCode)||(null===e||void 0===e?void 0:e.which),t=document.getElementById("liabSubmit");13===n&&(!t||t.disabled||Sn||(vn?qn(e):Jn(e)))}(n))},name:e.key,id:e.id,rows:"1",label:e.key,max:"9999-12-31",min:"1900-01-01",value:"File"!==e.type?e.val:null,onChange:function(n){return Nn(e,n)}})]}):vn&&!an&&e.val.split("#~#")[1]?(0,E.jsxs)("div",{children:[(0,E.jsx)(b.Z,{style:{position:"absolute",right:"-5px",top:"-7px"},size:15,onClick:function(){un(e.val.split("#~#")[1])}}),(0,E.jsx)("span",{style:{color:"blue",cursor:"pointer"},onClick:function(){ce(e.val.split("#~#")[2])},children:e.val.split("#~#")[0]})]}):(0,E.jsx)(Z.Z,{label:"",fullWidth:!0,type:e.type,size:"small",value:null,id:"fileAtt",onChange:function(n){Nn(e,n)}})},n)}))]}),(0,E.jsxs)(h.Z,{direction:"row",spacing:3,sx:{mt:3},justifyContent:"end",children:[Re&&(0,E.jsx)(x.Z,{onClick:Fn,children:"Add Custom Field"}),(0,E.jsx)(I.ZP,{varient:"outlined",label:vn?"Cancel":null!==(n=null===X||void 0===X?void 0:X.resetButton)&&void 0!==n?n:"Reset",onClick:function(e){fn(!1),zn()}}),(0,E.jsx)(I.ZP,{varient:"contained",id:"assetSubmit",isLoading:Sn,label:vn?"Update":null!==(t=null===X||void 0===X?void 0:X.submitButton)&&void 0!==t?t:"Add",disabled:!an&&(0===ze.length||!Re||kn||Sn),onClick:function(e){vn?qn(e):Jn(e)}})]})]})})}),(0,E.jsx)(j.Z,{}),(0,E.jsx)(f.ZP,{item:!0,xs:12,md:9,lg:9,sx:{pt:2,pl:2},children:(0,E.jsx)(g.ZP,{heading:null!==(c=null===X||void 0===X?void 0:X.textList)&&void 0!==c?c:"Liabilities List",isLoading:M||(null===V||void 0===V?void 0:V.isLoading),error:J,collapseItems:Te,colorOption:null===X||void 0===X?void 0:X.colorOption1,assetShow:!0})})]}),(0,E.jsx)(S.Id,{modal:We,fname:Pe,ftype:we,addfield:function(){if(""!==Re){var e=rn,n=e.length,t="";e.findIndex((function(e){return e.key===Pe}))>=0&&U({msg:"Field Already Exist! Please add new field",severity:"error"}),"Attachments"===rn[n-1].key?(t=e[n-1],e[n-1]={key:Pe,val:"",type:we,deletable:!0},e.push(t),ln(e),Ie(""),Le("")):(e.push({key:Pe,val:"",type:we,deletable:!0}),ln(e),Ie(""),Le("")),Fn()}},messages:X,setfname:Ie,setftype:Le,assetType:Re,toggleModal:Fn,selectCustomRef:w,clearCustomField:Gn})]})}},13798:function(e,n,t){t.d(n,{GR:function(){return m},UB:function(){return f}});var i=t(29439),r=t(47313),l=t(47605),o=t(57775),s=t(19536),a=t(51057),u=t(20938),c=t(1087),d=t(18825),v=t(46417);n.ZP=function(e){var n,t,f=(0,r.useState)(""),m=(0,i.Z)(f,2),p=m[0],h=m[1],x=null===(n=JSON.parse(sessionStorage.getItem("logInUserData")))||void 0===n?void 0:n.assets,Z=null===(t=JSON.parse(sessionStorage.getItem("logInUserData")))||void 0===t?void 0:t.liabilities,y=(0,r.useState)([]),j=(0,i.Z)(y,2),g=j[0],b=j[1],D=(0,r.useState)(),k=(0,i.Z)(D,2),P=k[0],I=k[1],C=e.collapseItems,S=e.colorOption,w=function(e){return null!==S&&void 0!==S&&S[e]?S[e]:e},L=function(e){h(p!==e?e:"")},E=(null===P||void 0===P?void 0:P.length)>0?g:C,A=e.isLoading?(0,v.jsx)(u.$j,{}):e.error?(0,v.jsx)(l.Z,{children:e.error}):E.length>0?E.map((function(e){return(0,v.jsx)(r.Fragment,{children:(0,v.jsx)(c.Z,{collapseID:p,setcollapseID:h,collapseItem:e,formatme:w,toggleCollapse:L})},e.id)})):(0,v.jsx)(l.Z,{style:{fontSize:"14px",marginTop:"-10px"},children:"No Data Found"});return(0,v.jsxs)(o.Z,{children:[(0,v.jsx)(d.z,{heading:e.heading,search:function(n){I(n);var t=C.filter((function(t){var i,r,l=(e.assetShow?null===(i=Z[t.id-1])||void 0===i?void 0:i.liabilityDetails:null===(r=x[t.id-1])||void 0===r?void 0:r.assetDetails).filter((function(e){var t=e.val.toLowerCase().startsWith(n.toLowerCase()),i=e.val.toLowerCase().includes(n.toLowerCase());return!(!t&&!i)})),o=t.title.toLowerCase().startsWith(n.toLowerCase()),s=t.title.toLowerCase().includes(n.toLowerCase());return!!(o||s||l.length>0)}));b(t)}}),(0,v.jsx)(s.Z,{}),(0,v.jsx)(a.Z,{children:A})]})};var f=["Lendor Details","Card Details *","Account Details","EMI Details *","Loan Details*","Scheme Details","Payments Details *","Amount","Amount *","Liability Name","Scheme Details *","Remarks"],m=["Bank Name","Debtor Name","Details","Currency Details","Depositor","Depositor *","Account Details","Account Details *","Bank Name *","Debtor Name *","Investment Firm *","Policy Number *","Amount *","Amount / Quantity","Policy Number","Property Type","Property Area","Retirals Details *","Amount","Remarks"]}}]);