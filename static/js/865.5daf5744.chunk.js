"use strict";(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[865],{1087:function(e,n,t){t.d(n,{Z:function(){return a}});t(47313);var i=t(33505),s=t(36186),r=t(39338),l=t(6306),o=t(46417);function a(e){var n=e.collapseID,t=(e.setcollapseID,e.collapseItem),a=e.formatme,c=e.toggleCollapse;return(0,o.jsxs)(i.Z,{sx:{my:.9},expanded:n===t.id,onChange:function(){return c(t.id)},children:[(0,o.jsx)(r.Z,{expandIcon:(0,o.jsx)(l.Z,{}),children:a(t.title)}),(0,o.jsx)(s.Z,{children:t.content})]})}},18825:function(e,n,t){t.d(n,{z:function(){return a}});var i=t(19641),s=t(9506),r=t(56605),l=(t(47313),t(94843)),o=t(46417),a=function(e){return(0,o.jsxs)(i.ZP,{container:!0,sx:{px:2.5,py:1},children:[(0,o.jsx)(i.ZP,{item:!0,xs:6,children:(0,o.jsx)(l.ll,{title:e.heading})}),(0,o.jsx)(i.ZP,{item:!0,xs:6,children:(0,o.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",children:(0,o.jsx)(r.Z,{onChange:function(n){return e.search(n.target.value)},placeholder:"Search"})})})]})}},47578:function(e,n,t){t.d(n,{r:function(){return f}});var i=t(1413),s=t(93433),r=t(29439),l=t(47313),o=t(30712),a=t(13760),c=t(80614),d=t(44610),u=t(47605),x=t(71003),h=t(35898),v=t(57798),Z=t(46417),f=function(e){var n=(0,l.useState)(e.file?e.file:[]),t=(0,r.Z)(n,2),f=t[0],m=t[1],j=(0,c.uI)({maxFiles:e.notMulti?1:5,multiple:!e.notMulti,onDrop:function(n){if(1===e.notMulti)e.setfilesOndrop(n),m(n.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})));else{if((f.length?f.filter((function(e){var t;return(null===e||void 0===e?void 0:e.name)===(null===(t=n[0])||void 0===t?void 0:t.name)})):[]).length)return(0,Z.jsx)(v.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"File already added"});e.setfilesOndrop([].concat((0,s.Z)(f),(0,s.Z)(n))),m([].concat((0,s.Z)(f),(0,s.Z)(n)))}}}),p=j.getInputProps,g=j.open,P=null===f||void 0===f?void 0:f.map((function(n){return(0,Z.jsx)(d.Z,{sx:{m:1},label:(0,Z.jsxs)(u.Z,{children:["".concat(n.name.length>15?"".concat(n.name.slice(0,10),"..."):n.name),(0,Z.jsx)(o.Z,{size:15,sx:{margin:"-6px 6px"},onClick:function(t){t.stopPropagation(),function(n){1===(null===f||void 0===f?void 0:f.length)&&e.setfilesParent([]),e.isMulti&&(m(f.filter((function(e){return e!==n}))),e.setfilesParent(f.filter((function(e){return e!==n}))))}(n)}})]},n.name),variant:"outlined"},n.name)}));return(0,l.useEffect)((function(){return function(){f.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[f]),(0,l.useEffect)((function(){e.resetDropzone&&m([])}),[e.resetDropzone]),(0,Z.jsxs)(x.Z,{variant:"outlined",fullWidth:!0,sx:{display:"inline-block",my:1},children:[(0,Z.jsxs)(h.Z,{onClick:g,children:[(0,Z.jsx)(v.nv,(0,i.Z)({},p())),(P.length<=0||e.isMulti)&&(0,Z.jsxs)(u.Z,{children:[e.buttonText," ",(0,Z.jsx)(a.Z,{sx:{margin:"-6px 6px"}})]})]}),(0,Z.jsx)("div",{children:P.length>0&&(0,Z.jsx)("aside",{style:{display:"flex"},children:P})})]})}},25240:function(e,n,t){var i=t(29439),s=t(42357),r=t(47313),l=t(19641),o=t(57775),a=t(51057),c=t(47605),d=t(29917),u=t(61474),x=t(46417);n.Z=function(e){var n=(0,r.useState)("00"),t=(0,i.Z)(n,2),h=t[0],v=t[1],Z=(0,r.useState)("00"),f=(0,i.Z)(Z,2),m=f[0],j=f[1],p=(0,r.useState)(!1),g=(0,i.Z)(p,2),P=g[0],S=g[1],y=(0,r.useState)(0),b=(0,i.Z)(y,2),C=b[0],w=b[1];(0,r.useEffect)((function(){var e;return P&&(e=setInterval((function(){var e=C%60,n=Math.floor(C/60),t=1===String(e).length?"0".concat(e):e,i=1===String(n).length?"0".concat(n):n;v(t),j(i),w((function(e){return e+1}))}),650)),function(){return clearInterval(e)}}),[P,C]);var R=(0,s.useReactMediaRecorder)({video:!1,audio:!0,echoCancellation:!0,onStop:function(n,t){console.log(t),function(e){var n=new FileReader;return n.readAsDataURL(e),new Promise((function(e){n.onloadend=function(){e(n.result)}}))}(t).then((function(n){e.setRecVideo(n)}))}}),D=R.status,k=R.startRecording,A=R.stopRecording,M=R.pauseRecording,L=R.clearBlobUrl,I=R.mediaBlobUrl;return(0,x.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,x.jsxs)(o.Z,{variant:"outlined",children:[(0,x.jsxs)(a.Z,{children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",padding:"5px"},borderRadius:"50px",padding:"15px",marginBottom:1,children:[(0,x.jsxs)(c.Z,{color:"text.secondary",children:[" ","Recording Status : ",D]}),(0,x.jsxs)(c.Z,{color:"text.secondary",children:[m," : ",h]})]}),(I||e.recVideo)&&(0,x.jsx)("audio",{style:{width:"100%"},src:I||e.recVideo,controls:!0})]}),(0,x.jsxs)(d.Z,{sx:{justifyContent:"center"},children:[(0,x.jsx)(u.ZP,{varient:"contained",label:P?"Pause":"paused"===D?"Resume":"Start",onClick:function(){P?M():k(),S(!P)}}),(0,x.jsx)(u.ZP,{varient:"outlined",label:"Stop",onClick:function(){A(),S(!1)}}),(0,x.jsx)(u.ZP,{varient:"outlined",label:"Reset",onClick:function(){S(!1),w(0),v("00"),j("00"),L(),S(!1)}})]})]})})}},48424:function(e,n,t){t.r(n),t.d(n,{default:function(){return $}});var i=t(29439),s=t(47313),r=t(9506),l=t(19641),o=t(36936),a=t(81800),c=t(47605),d=t(94469),u=t(33604),x=t(57775),h=t(19536),v=t(51057),Z=t(31881),f=t.n(Z),m=t(39500),j=t(57798),p=t(54727),g=t(1087),P=t(18825),S=t(69625),y=t(98668),b=t(87124),C=t(1413),w=t(80571),R=JSON.parse(sessionStorage.getItem("logInUserData")),D=w.g.injectEndpoints({endpoints:function(e){return{getScheduled:e.query({query:function(){return"/backendapi/sender/getlist/".concat(R._id)},providesTags:["Postman"]}),getMedia:e.query({query:function(e){return"/backendapi/sender/msg/".concat(e)},providesTags:["Postman"]}),scheduleNew:e.mutation({query:function(e){return{url:"/backendapi/sender/schedulenew",method:"POST",body:(0,C.Z)((0,C.Z)({},e),{},{user:R._id})}},invalidatesTags:["Postman"]}),editMessage:e.mutation({query:function(e){return{url:"/backendapi/sender/update",method:"POST",body:{obj:e,user:R._id}}},invalidatesTags:["Postman"]})}}}),k=D.useGetScheduledQuery,A=D.useGetMediaQuery,M=D.useEditMessageMutation,L=D.useScheduleNewMutation,I=t(46417),V=function(e){var n=e.video,t=A(n.msg),r=t.data,l=t.isFetching,o=(0,s.useState)(),a=(0,i.Z)(o,2),c=a[0],d=a[1];return(0,s.useEffect)((function(){var e;if(r&&null!==(e=r[0])&&void 0!==e&&e.media){for(var n,t,i=null===(n=r[0])||void 0===n||null===(t=n.media)||void 0===t?void 0:t.split("base64,"),s=i[0].substring(5,i[0].length-1),l=atob(i[1]),o=new Array(l.length),a=0;a<l.length;a++)o[a]=l.charCodeAt(a);var c=new Uint8Array(o),u=new Blob([c],{type:s}),x=URL.createObjectURL(u);d(x)}}),[r]),(0,I.jsx)(S.Z,{children:l?(0,I.jsx)(y.Z,{}):(0,I.jsx)(b.Z,{component:n.type?"video":"audio",controls:!0,src:c,autoPlay:!0,sx:{minWidth:"250px"}})})},E=function(e){var n=(0,s.useState)(!1),t=(0,i.Z)(n,2),o=t[0],a=t[1],Z=(0,s.useState)(""),S=(0,i.Z)(Z,2),y=S[0],b=S[1],C=(0,s.useState)(""),w=(0,i.Z)(C,2),R=w[0],D=w[1],k=(0,s.useState)(!1),A=(0,i.Z)(k,2),M=A[0],L=A[1],E=(0,s.useState)([]),O=(0,i.Z)(E,2),z=O[0],_=O[1],U=(0,s.useState)(""),F=(0,i.Z)(U,2),T=F[0],N=F[1],B=(0,s.useState)(),q=(0,i.Z)(B,2),W=q[0],G=q[1],H=function(){a(!o)},Q=function(e){b(y!==e?e:"")},$=function(n){var t;return null!==(t=e.colorOption)&&void 0!==t&&t[n]?e.colorOption[n]:n},J=function(n){var t,i,s="";return(null===n||void 0===n||null===(t=n.nominees)||void 0===t?void 0:t.length)&&n.nominees.forEach((function(e,t){t===n.nominees.length-1?s+=null===e||void 0===e?void 0:e.name:s="".concat(s+(null===e||void 0===e?void 0:e.name),", ")})),(0,I.jsxs)(l.ZP,{container:!0,columnSpacing:1,rowSpacing:1,children:[(0,I.jsx)(l.ZP,{item:!0,display:"flex",sm:4,xs:12,children:(0,I.jsxs)(l.ZP,{container:!0,children:[(0,I.jsx)(l.ZP,{item:!0,xs:4,children:(0,I.jsx)(c.Z,{borderRadius:1,textAlign:"center",height:"max-cotent",bgcolor:"#3f3fcb",color:"white",padding:.1,sx:{cursor:"pointer"},onClick:function(){return e.editItem(n)},children:"EDIT"})}),(0,I.jsx)(l.ZP,{item:!0,xs:4,children:(0,I.jsx)(c.Z,{borderRadius:1,textAlign:"center",height:"max-cotent",bgcolor:"#e53a29",color:"white",padding:.1,sx:{mx:1,cursor:"pointer"},onClick:function(){N(n._id),D(!0)},children:"DELETE"})})]})}),(0,I.jsx)(l.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(l.ZP,{container:!0,children:[(0,I.jsx)(l.ZP,{item:!0,xs:5,children:(0,I.jsx)(c.Z,{children:"Type"})}),(0,I.jsx)(l.ZP,{item:!0,xs:7,children:(0,I.jsxs)(c.Z,{children:[": ",n.type]})})]})}),(0,I.jsx)(l.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(l.ZP,{container:!0,children:[(0,I.jsx)(l.ZP,{item:!0,xs:5,children:(0,I.jsx)(c.Z,{children:"Description"})}),(0,I.jsx)(l.ZP,{item:!0,xs:7,children:(0,I.jsxs)(c.Z,{children:[": ",n.desc]})})]})}),(0,I.jsx)(l.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(l.ZP,{container:!0,children:[(0,I.jsx)(l.ZP,{item:!0,xs:5,children:(0,I.jsx)(c.Z,{children:"Date"})}),(0,I.jsx)(l.ZP,{item:!0,xs:7,children:(0,I.jsxs)(c.Z,{children:[": ",null!==n&&void 0!==n&&n.date?(0,p.p6)(null===n||void 0===n||null===(i=n.date)||void 0===i?void 0:i.split("T")[0]):"After Death"]})})]})}),(0,I.jsx)(l.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(l.ZP,{container:!0,children:[(0,I.jsx)(l.ZP,{item:!0,xs:5,children:(0,I.jsx)(c.Z,{children:"Receiver Name"})}),(0,I.jsx)(l.ZP,{item:!0,xs:7,children:(0,I.jsxs)(c.Z,{children:[": ",n.rname]})})]})}),(0,I.jsx)(l.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(l.ZP,{container:!0,children:[(0,I.jsx)(l.ZP,{item:!0,xs:5,children:(0,I.jsx)(c.Z,{children:"Receiver Email"})}),(0,I.jsx)(l.ZP,{item:!0,xs:7,children:(0,I.jsxs)(c.Z,{children:[": ",n.remail]})})]})}),(0,I.jsx)(l.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(l.ZP,{container:!0,children:[(0,I.jsx)(l.ZP,{item:!0,xs:5,children:(0,I.jsx)(c.Z,{children:"Receiver Phone"})}),(0,I.jsx)(l.ZP,{item:!0,xs:7,children:(0,I.jsxs)(c.Z,{children:[": ",n.rphone]})})]})}),(0,I.jsx)(l.ZP,{item:!0,sm:4,xs:12,children:(0,I.jsxs)(l.ZP,{container:!0,children:[(0,I.jsx)(l.ZP,{item:!0,xs:5,children:(0,I.jsx)(c.Z,{children:"Status"})}),(0,I.jsx)(l.ZP,{item:!0,xs:7,children:(0,I.jsxs)(c.Z,{children:[":",0===n.status?(0,I.jsx)(I.Fragment,{children:" Pending"}):1===n.status?(0,I.jsx)(I.Fragment,{children:" Delivered"}):(0,I.jsxs)(I.Fragment,{children:[" Failed : ",n.failReason]})]})})]})}),(0,I.jsx)(l.ZP,{item:!0,sm:4,xs:12,children:("Video"===n.type||"Voice"===n.type)&&(0,I.jsx)(c.Z,{sx:{color:"#20756d",cursor:"pointer"},onClick:function(){H(),L({msg:n.msg,type:n.type})},children:"Video"===n.type?"Play Video":"Play Audio"})})]})},K=(null===W||void 0===W?void 0:W.length)>0?z:e.collapseItems;return(0,I.jsxs)(r.Z,{children:[(0,I.jsxs)(d.Z,{open:o,onClose:H,centered:!0,children:[(0,I.jsx)(u.Z,{children:"Message"}),(0,I.jsx)(V,{video:M})]}),e.loadingmsg&&null===e.collapseItems?(0,I.jsx)(j.$j,{}):(0,I.jsxs)(x.Z,{children:[(0,I.jsx)(P.z,{heading:e.heading,search:function(n){G(n);var t=e.collapseItems.filter((function(e){var t=e.desc.toLowerCase().startsWith(n.toLowerCase())||e.type.toLowerCase().startsWith(n.toLowerCase())||e.title.toLowerCase().startsWith(n.toLowerCase()),i=e.desc.toLowerCase().includes(n.toLowerCase())||e.type.toLowerCase().includes(n.toLowerCase())||e.title.toLowerCase().includes(n.toLowerCase());return!(!t&&!i)}));_(t)}}),(0,I.jsx)(m.Z,{handleConfirm:function(){var n;n=T,f().delete("/backendapi/sender/deletebyid/".concat(n),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){e&&j.A9})).catch(),D(!1),e.refreshData.callFunc(!e.refreshData.value)},isOpen:R,closeModal:function(){return D(!1)}}),(0,I.jsx)(h.Z,{}),(0,I.jsx)(v.Z,{children:(null===K||void 0===K?void 0:K.length)>0?K.map((function(e){return(0,I.jsx)(s.Fragment,{children:(0,I.jsx)(g.Z,{collapseID:y,setcollapseID:b,collapseItem:{content:J(e),title:null===e||void 0===e?void 0:e.title,id:e._id},formatme:$,toggleCollapse:Q})},e._id)})):(0,I.jsx)("span",{children:"No Messages Found"})})]})]})},O=t(29748),z=t(49969),_=t(69173),U=t(35898),F=t(82363),T=t(25240),N=t(61474),B=t(47578),q=t(79428),W=t(73675),G=t(48182),H=[{value:"Attachment",label:"Attachment"},{value:"Text",label:"Text"},{value:"Voice",label:"Voice"},{value:"Video",label:"Video"}],Q=function(e){var n=e.nomineeOption,t=e.oldMsg,r=e.handleSidebar,o=L(),a=(0,i.Z)(o,1)[0],c=M(),d=(0,i.Z)(c,1)[0],u=(0,s.useState)([]),h=(0,i.Z)(u,2),Z=h[0],f=h[1],m=(0,s.useState)(""),g=(0,i.Z)(m,2),P=g[0],S=g[1],y=(0,s.useState)(""),b=(0,i.Z)(y,2),w=b[0],R=b[1],D=(0,s.useState)(""),k=(0,i.Z)(D,2),A=k[0],V=k[1],E=(0,s.useState)(""),O=(0,i.Z)(E,2),Q=O[0],$=O[1],J=(0,s.useState)(null),K=(0,i.Z)(J,2),Y=K[0],X=K[1],ee=(0,s.useState)([]),ne=(0,i.Z)(ee,2),te=ne[0],ie=ne[1],se=(0,s.useState)(""),re=(0,i.Z)(se,2),le=re[0],oe=re[1],ae=(0,s.useState)(""),ce=(0,i.Z)(ae,2),de=ce[0],ue=ce[1],xe=(0,s.useState)(!1),he=(0,i.Z)(xe,2),ve=he[0],Ze=he[1],fe=(0,s.useState)(""),me=(0,i.Z)(fe,2),je=me[0],pe=me[1],ge=(0,s.useState)(!1),Pe=(0,i.Z)(ge,2),Se=Pe[0],ye=Pe[1],be=(0,s.useState)(!1),Ce=(0,i.Z)(be,2),we=Ce[0],Re=Ce[1],De=(0,s.useState)(!1),ke=(0,i.Z)(De,2),Ae=ke[0],Me=ke[1],Le=(0,s.useState)(""),Ie=(0,i.Z)(Le,2),Ve=Ie[0],Ee=Ie[1],Oe=(0,s.useState)(""),ze=(0,i.Z)(Oe,2),_e=ze[0],Ue=ze[1],Fe=(0,s.useState)(""),Te=(0,i.Z)(Fe,2),Ne=Te[0],Be=Te[1],qe=(0,s.useState)(!1),We=(0,i.Z)(qe,2),Ge=We[0],He=We[1];(0,s.useEffect)((function(){if(null!==t&&void 0!==t&&t._id){var e,n=t.date,i=t.desc,s=t.rname,r=t.remail,l=t.rphone,o=t.signature,a=t.title,c=t.type,d=t._id,u=t.mediaDetails;X(d),ue(null===n||void 0===n?void 0:n.split("T")[0]),V(i),f(Z),Ue(r),Ee(s),Be(l),R(o),S(a),$(c),Ze(!n),oe("Attachment"===c?u:null===(e=u[0])||void 0===e?void 0:e.media)}}),[t]);var Qe=function(){Ee(""),Be(""),Ue(""),S(""),$(""),V(""),ue(""),Ze(!1),R(""),f([]),pe(""),oe(""),ie("")};return(0,s.useEffect)((function(){if(null!==je&&void 0!==je&&je.length){var e,t,i,s=n.filter((function(e){return(null===e||void 0===e?void 0:e.label)===je}));if(null!==s&&void 0!==s&&s.length)Ee(null===s||void 0===s||null===(e=s[0])||void 0===e?void 0:e.label),Ue(null===s||void 0===s||null===(t=s[0])||void 0===t?void 0:t.email),Be(null===s||void 0===s||null===(i=s[0])||void 0===i?void 0:i.primaryContact)}}),[je]),(0,I.jsx)(x.Z,{children:(0,I.jsxs)(v.Z,{children:[(0,I.jsx)(j.ll,{title:(0,I.jsxs)(l.ZP,{container:!0,flexDirection:"row",justifyContent:"space-between",children:[(0,I.jsx)(l.ZP,{item:!0,children:null!==t&&void 0!==t&&t._id?"Edit Message":"Message Scheduler"}),(0,I.jsx)(l.ZP,{item:!0,children:Q&&(0,I.jsx)(_.Z,{label:"Deliver after my death",control:(0,I.jsx)(z.Z,{checked:ve,onChange:function(){return!ve&&ue(""),void Ze(!ve)}})})})]})}),(0,I.jsxs)(l.ZP,{container:!0,rowSpacing:.01,spacing:1,justifyContent:"center",children:[(0,I.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(N.gc,{name:"color",options:H,isDisabled:null===t||void 0===t?void 0:t._id,onChange:function(e,n){return $(null===n||void 0===n?void 0:n.value)},value:(0,q.NA)(H,Q),renderInput:function(e){return(0,I.jsx)(W.Z,(0,C.Z)((0,C.Z)({},e),{},{label:null!==t&&void 0!==t&&t._id?Q:"Message Type *"}))}})}),(0,I.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(G.Z,{options:n,value:je,onChange:function(e,t){"Add Nominee"!==t?t&&!n.includes(t)&&pe(t):r()},onInputChange:function(e,n){"Add Nominee"!==n?pe(n):r()},renderInput:function(e){return(0,I.jsx)(W.Z,(0,C.Z)((0,C.Z)({},e),{},{label:"Reciever"}))}})}),Q&&(0,I.jsxs)(s.Fragment,{children:[(0,I.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(W.Z,{type:"email",id:"remail",error:Se,label:"Receiver Email *",value:_e,onChange:function(e){return function(e){var n=String(e).toLowerCase().match(/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/);Ue(e),ye(!n)}(e.target.value)}})}),(0,I.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(W.Z,{type:"tel",id:"phone",maxLength:10,error:we,label:"Receiver Phone *",value:Ne,onChange:function(e){e.preventDefault();var n=e.target.value,t=p.Yd.test(n);Be(n),Re(!t)},onKeyPress:function(e){return(0,p.ZP)(e)}})}),(0,I.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(W.Z,{id:"title",label:"Subject *",value:P,onChange:function(e){return S(e.target.value)}})}),(0,I.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(W.v,{value:ve?null:de,id:"exampleDate",label:"Delivery Date",disabled:!!ve,onChange:function(e){return function(e){var n=new Date(e)>new Date||""===e;ue(e),Me(!n)}(e)},shouldDisableDate:function(e){return!(e>new Date)}})}),"Voice"===Q&&(0,I.jsx)(T.Z,(0,C.Z)({},e)),"Video"===Q&&(0,I.jsx)(F.Z,{setRecVideo:oe,recVideo:le}),(0,I.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(W.Z,{type:"textarea",label:"Description",rows:"3",id:"description",value:A,onChange:function(e){return V(e.target.value)}})}),(0,I.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(W.Z,{type:"textarea",label:"Signature",className:"input-label placeholder ",rows:"1",id:"signature",value:w,onChange:function(e){return R(e.target.value)}})}),(0,I.jsx)(l.ZP,{item:!0,xs:12,sm:12,children:"Attachment"===Q&&(0,I.jsx)(B.r,{notMulti:1,setfilesOndrop:function(e){He(!1),ie(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))},resetDropzone:Ge,file:le})})]})]}),(0,I.jsxs)(U.Z,{direction:"row",spacing:3,sx:{mt:3},justifyContent:"end",children:[(0,I.jsx)(N.ZP,{varient:"outlined",label:null!==t&&void 0!==t&&t._id?"Cancel":"Reset",onClick:function(){return Qe()}}),(0,I.jsx)(N.ZP,{varient:"contained",label:null!==t&&void 0!==t&&t._id?"Update":"Add",onClick:function(e){return function(e){var n;e.preventDefault(),!(Se||we||!ve&&Ae||null===Ve||void 0===Ve)&&Ve.length&&null!==Ne&&void 0!==Ne&&Ne.length&&null!==_e&&void 0!==_e&&_e.length&&null!==Q&&void 0!==Q&&Q.length&&null!==P&&void 0!==P&&P.length&&(ve||de)&&(de!==(null===t||void 0===t||null===(n=t.date)||void 0===n?void 0:n.split("T")[0])||A!==(null===t||void 0===t?void 0:t.desc)||Ve!==(null===t||void 0===t?void 0:t.rname)||_e!==(null===t||void 0===t?void 0:t.remail)||Ne!==(null===t||void 0===t?void 0:t.rphone)||w!==(null===t||void 0===t?void 0:t.signature)||P!==(null===t||void 0===t?void 0:t.title))&&(null!==t&&void 0!==t&&t._id?d({_id:Y,desc:A,type:Q,title:P,date:de,signature:w,rname:Ve,remail:_e,rphone:Ne,msg:("Voice"===Q||"Video"===Q||"Attachment"===Q)&&le||te.length&&te||""}):a({desc:A,type:Q,title:P,date:de,signature:w,rname:Ve,remail:_e,rphone:Ne,msg:("Voice"===Q||"Video"===Q||"Attachment"===Q)&&le||te.length&&te||""}),Qe())}(e)}})]})]})})},$=function(){var e=k(),n=e.data,t=e.isFetching,c=(0,o.mB)().data,d=(0,s.useState)(null),u=(0,i.Z)(d,2),x=u[0],h=u[1],v=(0,s.useState)(!1),Z=(0,i.Z)(v,2),f=Z[0],m=Z[1],j=(0,s.useState)([]),p=(0,i.Z)(j,2),g=p[0],P=p[1],S=(0,s.useState)(!1),y=(0,i.Z)(S,2),b=y[0],C=y[1];return(0,s.useEffect)((function(){if(null!==c&&void 0!==c&&c.length){var e=[{value:"Add Nominee",label:"Add Nominee"}];c.forEach((function(n){var t={value:n._id,primaryContact:n.primaryContact,email:n.email,label:"".concat(n.name," - ").concat(n.relation)};e.push(t)})),P(e)}}),[c]),(0,I.jsxs)(r.Z,{children:[f&&(0,I.jsx)(O.Z,{handleSidebar:function(){return m(!1)}}),(0,I.jsxs)(l.ZP,{container:!0,spacing:1,sx:{p:2},children:[(0,I.jsx)(l.ZP,{item:!0,xs:12,md:9,lg:9,children:(0,I.jsx)(Q,{oldMsg:x,nomineeOption:g,handleSidebar:function(){return m(!0)}})}),(0,I.jsx)(a.Z,{}),(0,I.jsx)(l.ZP,{item:!0,xs:12,md:9,lg:9,children:(0,I.jsx)(E,{heading:"History",collapseItems:n,colorOption:null===n||void 0===n?void 0:n.colorOption,editItem:function(e){return h(e)},loadingmsg:t,handleFilter:function(){console.log("Call filter function")},refreshData:{value:b,callFunc:C}})})]})]})}},82363:function(e,n,t){var i=t(29439),s=t(47313),r=t(61474),l=t(42357),o=t(38693),a=t(57441),c=t(16423),d=t(91536),u=t(19641),x=t(57775),h=t(51057),v=t(47605),Z=t(9506),f=t(29917),m=t(46417),j=function(e){var n=e.stream,t=(0,s.useRef)(null);return(0,s.useEffect)((function(){t.current&&n&&(t.current.srcObject=n)}),[n]),n?(0,m.jsx)("video",{ref:t,width:"100%",height:"100%",autoPlay:!0,controls:!0}):null};n.Z=function(e){var n=e.setRecVideo,t=e.recVideo,p=(0,s.useState)(!0),g=(0,i.Z)(p,2),P=g[0],S=g[1],y=(0,s.useState)(!1),b=(0,i.Z)(y,2),C=b[0],w=b[1],R=(0,s.useState)(!1),D=(0,i.Z)(R,2),k=D[0],A=D[1];return(0,m.jsx)(u.ZP,{item:!0,xs:12,sm:8,children:(0,m.jsx)(l.ReactMediaRecorder,{screen:k,video:!k,audio:P,onStop:function(e,t){console.log(t),function(e){var n=new FileReader;return n.readAsDataURL(e),new Promise((function(e){n.onloadend=function(){e(n.result)}}))}(t).then((function(e){console.log(e),n(e)}))},render:function(e){var n=e.status,i=e.startRecording,s=e.pauseRecording,l=e.stopRecording,u=e.clearBlobUrl,p=e.mediaBlobUrl,g=e.previewStream;return(0,m.jsxs)(x.Z,{variant:"outlined",children:[(0,m.jsxs)(h.Z,{children:[(0,m.jsxs)(v.Z,{textAlign:"center",children:["Status : ",n]}),C&&g&&(0,m.jsx)(j,{stream:g}),!C&&(p||t)&&(0,m.jsx)("video",{src:p||t,controls:!0,autoPlay:!1,width:"100%",height:"100%"}),(0,m.jsxs)(Z.Z,{display:"flex",justifyContent:"space-evenly",sx:{mt:2},children:[P?(0,m.jsx)(o.Z,{fontSize:"large",onClick:function(){return S(!P)}}):(0,m.jsx)(a.Z,{fontSize:"large",onClick:function(){return S(!P)}}),(0,m.jsx)(c.Z,{fontSize:"large",onClick:function(e){A(!0)},color:"".concat(k&&"primary")}),(0,m.jsx)(d.Z,{fontSize:"large",onClick:function(e){A(!1)},color:"".concat(!k&&"primary")})]})]}),(0,m.jsxs)(f.Z,{sx:{justifyContent:"center"},children:[(0,m.jsx)(r.ZP,{varient:"contained",label:C?"Pause":"paused"===n?"Resume":"Start",onClick:function(){C?s():i(),w(!C)}}),(0,m.jsx)(r.ZP,{varient:"outlined",label:"Stop",onClick:function(){l(),w(!1)}}),(0,m.jsx)(r.ZP,{varient:"outlined",label:"Clear",onClick:function(){u(),w(!1)}})]})]})}})})}},6306:function(e,n,t){var i=t(64836);n.Z=void 0;var s=i(t(45045)),r=t(46417),l=(0,s.default)((0,r.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");n.Z=l},28790:function(e,n,t){var i=t(54750),s=t(46417);n.Z=(0,i.Z)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle")},85585:function(e,n,t){var i=t(54750),s=t(46417);n.Z=(0,i.Z)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseOutlined")}}]);