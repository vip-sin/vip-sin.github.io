"use strict";(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[216],{18825:function(e,n,t){t.d(n,{z:function(){return c}});var s=t(19641),r=t(9506),a=t(56605),i=(t(47313),t(94843)),o=t(46417),c=function(e){return(0,o.jsxs)(s.ZP,{container:!0,sx:{px:2.5,py:1},children:[(0,o.jsx)(s.ZP,{item:!0,xs:6,children:(0,o.jsx)(i.ll,{title:e.heading})}),(0,o.jsx)(s.ZP,{item:!0,xs:6,children:(0,o.jsx)(r.Z,{display:"flex",justifyContent:"flex-end",children:(0,o.jsx)(a.Z,{onChange:function(n){return e.search(n.target.value)},placeholder:"Search"})})})]})}},46216:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var s=t(1413),r=t(74165),a=t(15861),i=t(93433),o=t(29439),c=t(47313),l=t(9506),u=t(80836),d=t(19536),p=t(34203),f=t(81800),h=t(94469),x=t(69625),v=t(6961),Z=t(71003),w=t(33604),m=t(60636),j=t(47605),g=t(19641),y=t(57775),C=t(51057),S=t(61474),k=t(97729),N=t(12613),P=t(71207),b=t(35192),M=t(91210),L=t(8586),z=t(54750),I=t(46417),A=(0,z.Z)((0,I.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy"),G=t(79428),D=t(16615),O=t(18825),U=function(e){return(0,I.jsx)(P.Z,{onClick:function(){return e.editRow(!0)}})},V=function(e){var n=(0,c.useState)(!1),t=(0,o.Z)(n,2),s=t[0],r=t[1];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(h.Z,{open:s,children:[(0,I.jsx)(x.Z,{children:"Are you sure you want to delete this record?"}),(0,I.jsxs)(v.Z,{children:[(0,I.jsx)(Z.Z,{onClick:function(){return r(!1)},children:"Cancel"}),(0,I.jsx)(Z.Z,{onClick:function(){e.deleteRow(),r(!1)},children:"Delete"})]})]}),(0,I.jsx)(p.Z,{handleConfirm:function(){e.deleteRow(),r(!1)},isOpen:s,closeModal:function(){return r(!1)}}),(0,I.jsx)(b.Z,{size:window.screen.width<500?13:20,onClick:function(){return r(!0)}})]})},_=function(e){return(0,I.jsx)(M.Z,{onClick:function(){return e.set()}})},E=JSON.parse(sessionStorage.getItem("dropdowns")).passwordTypes,H=function(e){var n=(0,D.tE)(),t=(0,o.Z)(n,1)[0],p=(0,D.B)(),v=(0,o.Z)(p,1)[0],P=(0,D.np)(),b=(0,o.Z)(P,1)[0],M=(0,D.T2)(),z=(0,o.Z)(M,1)[0],H=(0,c.useState)(!1),T=(0,o.Z)(H,2),J=T[0],R=T[1],W=(0,c.useState)(!1),F=(0,o.Z)(W,2),Y=F[0],B=F[1],q=(0,c.useState)(!1),K=(0,o.Z)(q,2),Q=K[0],X=K[1],$=(0,c.useState)(null),ee=(0,o.Z)($,2),ne=ee[0],te=ee[1],se=(0,c.useState)(!1),re=(0,o.Z)(se,2),ae=re[0],ie=re[1],oe=(0,c.useState)(""),ce=(0,o.Z)(oe,2),le=ce[0],ue=ce[1],de=(0,c.useState)(""),pe=(0,o.Z)(de,2),fe=pe[0],he=pe[1],xe=(0,c.useState)(""),ve=(0,o.Z)(xe,2),Ze=ve[0],we=ve[1],me=(0,c.useState)(""),je=(0,o.Z)(me,2),ge=je[0],ye=je[1],Ce=(0,c.useState)(""),Se=(0,o.Z)(Ce,2),ke=Se[0],Ne=Se[1],Pe=(0,c.useState)(""),be=(0,o.Z)(Pe,2),Me=be[0],Le=be[1],ze=(0,c.useState)(""),Ie=(0,o.Z)(ze,2),Ae=Ie[0],Ge=Ie[1],De=(0,c.useState)([]),Oe=(0,o.Z)(De,2),Ue=Oe[0],Ve=Oe[1],_e=(0,c.useState)([]),Ee=(0,o.Z)(_e,2),He=Ee[0],Te=Ee[1],Je=(0,c.useState)(!1),Re=(0,o.Z)(Je,2),We=Re[0],Fe=Re[1],Ye=[{label:"Edit",id:"edit",cell:function(e){return(0,I.jsx)(U,{row:e,editRow:function(){Be(e)}})}},{label:"Alias",selector:"pwdname",id:"pwdname",cell:function(e){return e.pwdname}},{label:"Type",selector:"ptype",id:"ptype",cell:function(e){return e.ptype}},{label:"UserName",selector:"userName",id:"userName",cell:function(e){return(0,I.jsxs)("span",{children:[e.userName.charAt(0),"******",e.userName.charAt(e.userName.length-1)]})}},{label:"Password",selector:"pwd",cell:function(e){return(0,I.jsx)("span",{children:"********"})}},{label:"",sortable:!1,cell:function(e){return(0,I.jsx)(_,{showPass:Y,set:function(){Le(e),ie(!ae)}})}},{label:"",sortable:!1,cell:function(e){return(0,I.jsx)(V,{row:e,deleteRow:function(){return $e(e)}})}}];(0,c.useEffect)((function(){qe()}),[]),(0,c.useEffect)((function(){if(fe.length){var e=(He.length?He:Ue).filter((function(e){var n,t,s=e.userName,r=e.pwdName,a=e.pType;return n=(null===s||void 0===s?void 0:s.toLowerCase().startsWith(fe.toLowerCase()))||(null===r||void 0===r?void 0:r.toLowerCase().startsWith(fe.toLowerCase()))||(null===a||void 0===a?void 0:a.toLowerCase().startsWith(fe.toLowerCase())),t=(null===s||void 0===s?void 0:s.toLowerCase().includes(fe.toLowerCase()))||(null===r||void 0===r?void 0:r.toLowerCase().includes(fe.toLowerCase()))||(null===a||void 0===a?void 0:a.toLowerCase().includes(fe.toLowerCase())),n||(!n&&t?t:null)}));Ve((0,i.Z)(e))}else Ve((0,i.Z)(He))}),[fe]);var Be=function(e){var n=e.ptype,t=e.pwd,s=e.pwdname,r=e.userName;we(n),X(!0),te(e),ue(t),ye(r),Ne(s)},qe=function(){JSON.parse(sessionStorage.getItem("logInUserData"))&&v().then(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,s,a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n,"res"),t=[],s=0;case 3:if(!(s<(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.length))){e.next=23;break}return i={},e.next=7,(0,k.Y)(n.data[s].ptype);case 7:return i.ptype=e.sent,e.next=10,(0,k.Y)(n.data[s].pwd);case 10:return i.pwd=e.sent,i.pwdId=n.data[s].pwdId,e.next=14,(0,k.Y)(n.data[s].pwdname);case 14:return i.pwdname=e.sent,e.next=17,(0,k.Y)(n.data[s].userName);case 17:i.userName=e.sent,i._id=n.data[s]._id,t.push(i);case 20:s+=1,e.next=3;break;case 23:null!==n&&void 0!==n&&n.data&&(Ve(t.reverse()),Te(t.reverse()));case 24:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},Ke=function(){ie(!ae),Ge(""),Le(""),B(!1)},Qe=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(!0),n.preventDefault(),""!==Ze&&""!==le&&""!==ke){e.next=7;break}return R(!1),e.abrupt("return",(0,I.jsx)(N.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Mandatory Field Missing !!",severity:"warning"}));case 7:return e.next=9,(0,k.Gf)(ke);case 9:return e.t0=e.sent,e.next=12,(0,k.Gf)(le);case 12:return e.t1=e.sent,e.next=15,(0,k.Gf)(Ze);case 15:return e.t2=e.sent,e.next=18,(0,k.Gf)(ge);case 18:e.t3=e.sent,e.t4=JSON.parse(sessionStorage.getItem("logInUserData"))._id,e.t5=ne._id,s={showPass:!1,pwdname:e.t0,pwd:e.t1,ptype:e.t2,userName:e.t3,user:e.t4,_id:e.t5},Ve(""),ue(""),X(!1),te(null),we(""),ye(""),Ne(""),t(s).then((function(e){return qe(),R(!1),(0,I.jsx)(N.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Password saved successfully"})}));case 30:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(!0),n.preventDefault(),""!==Ze&&""!==le&&""!==ke){e.next=7;break}return R(!1),e.abrupt("return",(0,I.jsx)(N.A9,{handleClick:function(){},openSnack:We,openSnackMsg:"Mandatory Field Missing !!",severity:"warning"}));case 7:return t={pwdname:ke,pwd:le,showPass:!1,userName:ge,accountNumber:ke},e.next=10,(0,k.Gf)(ke);case 10:return e.t0=e.sent,e.next=13,(0,k.Gf)(le);case 13:return e.t1=e.sent,e.next=16,(0,k.Gf)(Ze);case 16:return e.t2=e.sent,e.next=19,(0,k.Gf)(ge);case 19:e.t3=e.sent,e.t4=JSON.parse(sessionStorage.getItem("logInUserData"))._id,s={showPass:!1,pwdname:e.t0,pwd:e.t1,ptype:e.t2,userName:e.t3,user:e.t4},console.log(Ue,"dneoidnow"),Ue.push(t),Ve(""),ue(""),we(""),ye(""),Ne(""),b(s).then((function(e){return qe(),R(!1),(0,I.jsx)(N.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Password saved successfully"})}));case 30:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$e=function(e){z(e).then((function(n){n&&N.A9;var t=Ue.filter((function(n){return n._id!==e._id}));Ve(t),Te(t)})),en(!1,null)},en=function(e,n){},nn=JSON.parse(sessionStorage.getItem("logInUserData")),tn="";nn&&((tn=nn.pwdtime)>10||tn<2)&&(tn=3);var sn=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById(n).innerHTML,e.prev=1,e.next=4,navigator.clipboard.writeText(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("Failed to copy: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}();return(0,I.jsxs)(l.Z,{children:[(0,I.jsx)(N.A9,{openSnack:We,handleClick:function(){return Fe(!1)},openSnackMsg:"Wrong Password",severity:"warning"}),";",(0,I.jsxs)(h.Z,{open:ae,onClose:Ke,children:[(0,I.jsxs)(w.Z,{children:["Confirm your identity",(0,I.jsx)(u.Z,{onClick:Ke,sx:{position:"absolute",right:8},children:(0,I.jsx)(L.Z,{})})]}),(0,I.jsxs)(x.Z,{children:["Enter your login password to continue",(0,I.jsx)(N.nv,{type:"password",id:"password",placeholder:"Password",value:Ae,onChange:function(e){Ge(e.target.value)}}),Y&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(m.Z,{icon:!1,sx:{py:0,my:1},children:(0,I.jsxs)(j.Z,{display:"flex",children:["Username :",(0,I.jsx)(j.Z,{fontWeight:700,color:"primary.theme",marginLeft:1,id:"vault-username",children:Me.userName})]})}),(0,I.jsx)(m.Z,{icon:!1,action:(0,I.jsx)(Z.Z,{color:"inherit",size:"small",onClick:function(){return sn("vault-password")},children:(0,I.jsx)(A,{fontSize:"small"})}),sx:{py:0,alignItems:"center"},children:(0,I.jsxs)(j.Z,{display:"flex",children:["Password :",(0,I.jsx)(j.Z,{fontWeight:700,color:"primary.theme",id:"vault-password",marginLeft:1,children:Me.pwd})]})})]})]}),(0,I.jsx)(x.Z,{sx:{pt:0,justifyContent:"end",display:"flex"},children:(0,I.jsx)(Z.Z,{disabled:""===Ae,onClick:function(){var e=JSON.parse(sessionStorage.getItem("logInUserData"));(0,k.c_)(Ae).then((function(n){n!==(null===e||void 0===e?void 0:e.pwdHashed)?Fe(!0):(!function(e,n){var t=Ue.map((function(e){return Object.assign({},e)}));console.log(t.reverse,"locations"),t[n].showPass=e,Ve(t),B(e)}(!0,Ue.indexOf(Me)),Ge(""))}))},variant:"contained",children:"View"})})]}),(0,I.jsxs)(g.ZP,{container:!0,spacing:2,sx:{p:2},children:[(0,I.jsx)(g.ZP,{item:!0,xs:12,md:9,lg:9,children:(0,I.jsx)(g.ZP,{item:!0,children:(0,I.jsx)(y.Z,{children:(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(N.ll,{color:"text.secondary",title:Q?"Edit Password":"Save new Password"}),(0,I.jsxs)(g.ZP,{container:!0,rowSpacing:.01,spacing:1,children:[(0,I.jsx)(g.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(S.gc,{id:"color",name:"color",options:E,onChange:function(e,n){return we(n?n.value:"")},value:(0,G.NA)(E,Ze),renderInput:function(e){return(0,I.jsx)(N.nv,(0,s.Z)((0,s.Z)({},e),{},{placeholder:"Password Type *"}))}})}),(0,I.jsx)(g.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(N.nv,{name:"accountNumber",id:"accountNumberMulti",placeholder:"Alias *",value:ke,onChange:function(e){var n=e.target.value.trim();Ne(n?e.target.value:"")}})}),(0,I.jsx)(g.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(N.nv,{name:"userName1",id:"userNameMulti1",placeholder:"User Name",value:ge,onChange:function(e){var n=e.target.value.trim();ye(n||"")}})}),(0,I.jsx)(g.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(N.nv,{type:"password",name:"name",id:"nameMultiPassword",placeholder:"Password *",value:le,onChange:function(e){ue(e.target.value)}})})]}),(0,I.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,I.jsx)(S.AG,{label:Q?"Cancel":"Reset",handleClick:function(){return X(!1),ue(""),we(""),ye(""),void Ne("")}}),(0,I.jsx)(S.k4,{isLoading:J,label:Q?"Update":"Add",handleClick:function(e){!J&&(Q?Qe(e):Xe(e))}})]})]})})})}),(0,I.jsx)(f.Z,{}),(0,I.jsx)(g.ZP,{item:!0,xs:9,children:(0,I.jsxs)(y.Z,{children:[(0,I.jsx)(O.z,{heading:"Saved Passwords",search:function(e){he(e.target.value)}}),(0,I.jsx)(d.Z,{}),(0,I.jsxs)(C.Z,{children:[0===(null===Ue||void 0===Ue?void 0:Ue.length)&&(0,I.jsx)(j.Z,{children:"No records found!!!"}),(null===Ue||void 0===Ue?void 0:Ue.length)>0&&(0,I.jsx)(N.Gn,{rows:Ue,columns:Ye})]})]})})]})]})}},8586:function(e,n,t){var s=t(54750),r=t(46417);n.Z=(0,s.Z)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},35192:function(e,n,t){var s=t(54750),r=t(46417);n.Z=(0,s.Z)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},71207:function(e,n,t){var s=t(54750),r=t(46417);n.Z=(0,s.Z)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},91210:function(e,n,t){var s=t(54750),r=t(46417);n.Z=(0,s.Z)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility")}}]);