(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[441],{18825:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(19641),s=n(9506),a=n(56605),i=(n(47313),n(94843)),o=n(46417),u=function(e){return(0,o.jsxs)(r.ZP,{container:!0,sx:{px:2.5,py:1},children:[(0,o.jsx)(r.ZP,{item:!0,xs:6,children:(0,o.jsx)(i.ll,{title:e.heading})}),(0,o.jsx)(r.ZP,{item:!0,xs:6,children:(0,o.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",children:(0,o.jsx)(a.Z,{onChange:function(t){return e.search(t.target.value)},placeholder:"Search"})})})]})}},39500:function(e,t,n){"use strict";n(47313);var r=n(94469),s=n(69625),a=n(47605),i=n(9506),o=n(61474),u=n(46417);t.Z=function(e){var t=e.modalMessage,n=e.handleConfirm,c=e.isOpen,l=e.closeModal,d=e.confirmText,p=void 0===d?"Delete":d,f=e.cancelText,h=void 0===f?"Cancel":f,v=e.warning,x=void 0===v?"":v,w=t||"Are you sure you want to delete this record?";return(0,u.jsx)("div",{children:(0,u.jsx)(r.Z,{open:!!c,children:(0,u.jsxs)(s.Z,{children:[(0,u.jsx)(a.Z,{children:w}),(0,u.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[!x&&(0,u.jsx)(o.AG,{handleClick:l,label:h}),(0,u.jsx)(o.k4,{label:x?"Ok":p,handleClick:n})]})]})})})}},97729:function(e,t,n){"use strict";n.d(t,{Gf:function(){return c},Y:function(){return l},c_:function(){return o},zY:function(){return u}});var r=n(74165),s=n(15861),a=n(42612),i=n.n(a),o=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",i().md.sha512.create().update(t).digest().toHex());case 4:e.prev=4,e.t0=e.catch(0),console.log("Error while hashing: ",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=t||sessionStorage.getItem("secretkey"),e.next=4,o(n);case 4:return a=e.sent,e.next=7,c(s,a);case 7:return i=e.sent,e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(0),console.log("Error while hashing: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,a,o,u,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===t||void 0===t?void 0:t.length)>0)){e.next=19;break}return s=sessionStorage.getItem("secretkey"),a=null!==n&&void 0!==n?n:s,o=i().random.getBytesSync(32),u=i().cipher.createCipher("AES-GCM",a),e.prev=5,u.start({iv:o,additionalData:"binary-encoded string"}),u.update(i().util.createBuffer(t)),u.finish(),c={iv:o,tag:u.mode.tag.toHex(),output:u.output.toHex()},e.abrupt("return",JSON.stringify(c));case 13:return e.prev=13,e.t0=e.catch(5),console.log("Error while encrypting data: ",e.t0),e.abrupt("return","");case 17:e.next=20;break;case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,a,o,u,c,l,d,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:s=sessionStorage.getItem("secretkey"),a=null!==n&&void 0!==n?n:s;try{o=JSON.parse(t)}catch(r){console.log(r)}if(u=o.iv,c=i().util.hexToBytes(o.tag),!(l=o.output)){e.next=28;break}if(e.prev=9,(d=i().cipher.createDecipher("AES-GCM",a)).start({iv:u,additionalData:"binary-encoded string",tag:c}),p=i().util.hexToBytes(l),d.update(i().util.createBuffer(p)),!d.finish()){e.next=19;break}return e.abrupt("return",d.output.toString());case 19:console.log("Error authentication tag didn't match ");case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(9),console.log("Error while decrypting data: ",e.t0),e.abrupt("return","");case 26:e.next=29;break;case 28:return e.abrupt("return",t);case 29:case"end":return e.stop()}}),e,null,[[9,22]])})));return function(t,n){return e.apply(this,arguments)}}()},50232:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var r=n(93433),s=n(74165),a=n(1413),i=n(15861),o=n(29439),u=n(47313),c=n(9506),l=n(80836),d=n(19536),p=n(39500),f=n(81800),h=n(94469),v=n(69625),x=n(6961),w=n(71003),Z=n(33604),g=n(60636),m=n(47605),j=n(19641),y=n(57775),C=n(51057),b=n(61474),k=n(97729),S=n(57798),P=n(71207),N=n(35192),E=n(91210),L=n(8586),M=n(54750),I=n(46417),T=(0,M.Z)((0,I.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy"),z=n(79428),U=n(80571),A=JSON.parse(sessionStorage.getItem("logInUserData")),O=U.g.injectEndpoints({endpoints:function(e){return{getPassword:e.query({query:function(){return"/backendapi/pwd/".concat(null===A||void 0===A?void 0:A._id)},providesTags:["Vault"]}),addPassword:e.mutation({query:function(e){return{url:"backendapi/pwd/create",method:"POST",body:e}},invalidatesTags:["Vault"]}),updatePassword:e.mutation({query:function(e){return{url:"/backendapi/pwd/update",method:"PUT",body:e}},invalidatesTags:["Vault"]}),deletePassword:e.mutation({query:function(e){return{url:"/backendapi/pwd/delete/".concat(e.pwdId),method:"DELETE"}},invalidatesTags:["Vault"]})}}}),V=O.useGetPasswordQuery,D=O.useAddPasswordMutation,H=O.useUpdatePasswordMutation,G=O.useDeletePasswordMutation,J=n(18825),_=function(e){return(0,I.jsx)(P.Z,{onClick:function(){return e.editRow(!0)}})},B=function(e){var t=(0,u.useState)(!1),n=(0,o.Z)(t,2),r=n[0],s=n[1];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(h.Z,{open:r,children:[(0,I.jsx)(v.Z,{children:"Are you sure you want to delete this record?"}),(0,I.jsxs)(x.Z,{children:[(0,I.jsx)(w.Z,{onClick:function(){return s(!1)},children:"Cancel"}),(0,I.jsx)(w.Z,{onClick:function(){e.deleteRow(),s(!1)},children:"Delete"})]})]}),(0,I.jsx)(p.Z,{handleConfirm:function(){e.deleteRow(),s(!1)},isOpen:r,closeModal:function(){return s(!1)}}),(0,I.jsx)(N.Z,{size:window.screen.width<500?13:20,onClick:function(){return s(!0)}})]})},R=function(e){return(0,I.jsx)(E.Z,{onClick:function(){return e.set()}})},W=JSON.parse(sessionStorage.getItem("dropdowns")).passwordTypes,q=function(e){var t=JSON.parse(sessionStorage.getItem("logInUserData")),n=V().data,p=D(),x=(0,o.Z)(p,2),P=x[0],N=x[1],E=H(),M=(0,o.Z)(E,2),U=M[0],A=M[1],O=G(),q=(0,o.Z)(O,2),F=q[0],Y=q[1],Q=(0,u.useState)(!1),K=(0,o.Z)(Q,2),X=K[0],$=K[1],ee=(0,u.useState)(!1),te=(0,o.Z)(ee,2),ne=te[0],re=te[1],se=(0,u.useState)(null),ae=(0,o.Z)(se,2),ie=ae[0],oe=ae[1],ue=(0,u.useState)(!1),ce=(0,o.Z)(ue,2),le=ce[0],de=ce[1],pe=(0,u.useState)(""),fe=(0,o.Z)(pe,2),he=fe[0],ve=fe[1],xe=(0,u.useState)(""),we=(0,o.Z)(xe,2),Ze=we[0],ge=we[1],me=(0,u.useState)(""),je=(0,o.Z)(me,2),ye=je[0],Ce=je[1],be=(0,u.useState)(""),ke=(0,o.Z)(be,2),Se=ke[0],Pe=ke[1],Ne=(0,u.useState)(""),Ee=(0,o.Z)(Ne,2),Le=Ee[0],Me=Ee[1],Ie=(0,u.useState)(""),Te=(0,o.Z)(Ie,2),ze=Te[0],Ue=Te[1],Ae=(0,u.useState)(""),Oe=(0,o.Z)(Ae,2),Ve=Oe[0],De=Oe[1],He=(0,u.useState)([]),Ge=(0,o.Z)(He,2),Je=Ge[0],_e=Ge[1],Be=(0,u.useState)([]),Re=(0,o.Z)(Be,2),We=Re[0],qe=Re[1],Fe=(0,u.useState)(!1),Ye=(0,o.Z)(Fe,2),Qe=Ye[0],Ke=Ye[1],Xe=[{label:"Edit",id:"edit",cell:function(e){return(0,I.jsx)(_,{row:e,editRow:function(){$e(e)}})}},{label:"Alias",selector:"aliasUser",id:"aliasUser",cell:function(e){return e.aliasUser}},{label:"Type",selector:"ptype",id:"ptype",cell:function(e){return e.ptype}},{label:"UserName",selector:"userName",id:"userName",cell:function(e){return(0,I.jsxs)("span",{children:[e.userName.charAt(0),"******",e.userName.charAt(e.userName.length-1)]})}},{label:"Password",id:"pwd",selector:"pwd",cell:function(e){return(0,I.jsx)("span",{children:"********"})}},{label:"",id:"eye",sortable:!1,cell:function(e){return(0,I.jsx)(R,{showPass:X,set:function(){Ue(e),de(!le)}})}},{label:"",id:"trash",sortable:!1,cell:function(e){return(0,I.jsx)(B,{row:e,deleteRow:function(){return F(e.pwdId)}})}}];(0,u.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var t,r,o,u,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a.Z,e.t1=(0,a.Z)({},t),e.t2={},e.t3=JSON,e.next=6,(0,k.Y)(t.pwdEntry);case 6:return e.t4=e.sent,e.t5=e.t3.parse.call(e.t3,e.t4),e.t6={pwdEntry:e.t5},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t6));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:if(null!==(t=e.sent)&&void 0!==t&&t.length){for(r=[],o=0;o<t.length;o+=1)u={},c=t[o].pwdEntry,u.ptype=c.ptype,u.pwd=c.pwd,u.pwdId=t[o].pwdId,u.aliasUser=c.aliasUser,u.userName=c.userName,u.name=c.userName,u._id=t[o]._id,r.push(u);console.log("pwdData",r),_e(r.reverse()),qe(r.reverse())}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(null===n||void 0===n?void 0:n.length)&&e()}),[n]),(0,u.useEffect)((function(){(null!==N&&void 0!==N&&N.isLoading||null!==A&&void 0!==A&&A.isLoading||Y)&&console.log("isLoading")}),[N,A,Y]),(0,u.useEffect)((function(){if(Ze.length){var e=(We.length?We:Je).filter((function(e){var t,n,r=e.userName,s=e.pwdName,a=e.pType;return t=(null===r||void 0===r?void 0:r.toLowerCase().startsWith(Ze.toLowerCase()))||(null===s||void 0===s?void 0:s.toLowerCase().startsWith(Ze.toLowerCase()))||(null===a||void 0===a?void 0:a.toLowerCase().startsWith(Ze.toLowerCase())),n=(null===r||void 0===r?void 0:r.toLowerCase().includes(Ze.toLowerCase()))||(null===s||void 0===s?void 0:s.toLowerCase().includes(Ze.toLowerCase()))||(null===a||void 0===a?void 0:a.toLowerCase().includes(Ze.toLowerCase())),t||(!t&&n?n:null)}));_e((0,r.Z)(e))}else _e((0,r.Z)(We))}),[Ze]);var $e=function(e){var t=e.ptype,n=e.pwd,r=e.aliasUser,s=e.userName;Ce(t),re(!0),oe(e),ve(n),Pe(s),Me(r)},et=function(){de(!le),De(""),Ue(""),$(!1)},tt=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.Gf)(JSON.stringify({aliasUser:Le,pwd:he,ptype:ye,userName:Se}));case 2:r=e.sent,U({pwdEntry:r,userId:null===t||void 0===t?void 0:t._id,pwdId:ie.pwdId});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.Gf)(JSON.stringify({aliasUser:Le,pwd:he,ptype:ye,userName:Se}));case 2:r=e.sent,P({pwdEntry:r,userId:null===t||void 0===t?void 0:t._id});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt="";t&&((rt=t.pwdtime)>10||rt<2)&&(rt=3);var st=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById(t).innerHTML,e.prev=1,e.next=4,navigator.clipboard.writeText(n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("Failed to copy: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return(0,I.jsxs)(c.Z,{children:[(0,I.jsx)(S.A9,{openSnack:Qe,handleClick:function(){return Ke(!1)},openSnackMsg:"Wrong Password",severity:"warning"}),(0,I.jsxs)(h.Z,{open:le,onClose:et,children:[(0,I.jsxs)(Z.Z,{children:["Confirm your identity",(0,I.jsx)(l.Z,{onClick:et,sx:{position:"absolute",right:8},children:(0,I.jsx)(L.Z,{})})]}),(0,I.jsxs)(v.Z,{children:["Enter your login password to continue",(0,I.jsx)(S.nv,{type:"password",id:"password",autoComplete:"password",label:"Password",value:Ve,onChange:function(e){De(e.target.value)}}),X&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(g.Z,{icon:!1,sx:{py:0,my:1},children:(0,I.jsxs)(m.Z,{display:"flex",children:["Username :",(0,I.jsx)(m.Z,{fontWeight:700,color:"primary.theme",marginLeft:1,id:"vault-username",children:ze.userName})]})}),(0,I.jsx)(g.Z,{icon:!1,action:(0,I.jsx)(w.Z,{color:"inherit",size:"small",onClick:function(){return st("vault-password")},children:(0,I.jsx)(T,{fontSize:"small"})}),sx:{py:0,alignItems:"center"},children:(0,I.jsxs)(m.Z,{display:"flex",children:["Password :",(0,I.jsx)(m.Z,{fontWeight:700,color:"primary.theme",id:"vault-password",marginLeft:1,children:ze.pwd})]})})]})]}),(0,I.jsx)(v.Z,{sx:{pt:0,justifyContent:"end",display:"flex"},children:(0,I.jsx)(w.Z,{disabled:""===Ve,onClick:function(){(0,k.c_)(Ve).then((function(e){e!==(null===t||void 0===t?void 0:t.pwdHashed)?Ke(!0):(!function(e,t){var n=Je.map((function(e){return Object.assign({},e)}));console.log(n.reverse,"locations"),n[t].showPass=e,_e(n),$(e)}(!0,Je.indexOf(ze)),De(""))}))},variant:"contained",children:"View"})})]}),(0,I.jsxs)(j.ZP,{container:!0,spacing:2,sx:{p:2},children:[(0,I.jsx)(j.ZP,{item:!0,xs:12,md:9,lg:9,children:(0,I.jsx)(j.ZP,{item:!0,children:(0,I.jsx)(y.Z,{children:(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(S.ll,{color:"text.secondary",title:ne?"Edit Password":"Password Vault"}),(0,I.jsxs)(j.ZP,{container:!0,rowSpacing:.01,spacing:1,children:[(0,I.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(b.gc,{id:"color",name:"color",autoComplete:"Password Type",options:W,onChange:function(e,t){return Ce(t?t.value:"")},value:(0,z.NA)(W,ye),renderInput:function(e){return(0,I.jsx)(S.nv,(0,a.Z)((0,a.Z)({},e),{},{label:"Password Type *"}))}})}),(0,I.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(S.nv,{name:"aliasUser",id:"accountNumberMulti",label:"Alias *",value:Le,onChange:function(e){var t=e.target.value.trim();Me(t?e.target.value:"")}})}),(0,I.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(S.nv,{name:"userName1",id:"userNameMulti1",label:"User Name",value:Se,onChange:function(e){var t=e.target.value.trim();Pe(t||"")}})}),(0,I.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(S.nv,{type:"password",name:"name",id:"nameMultiPassword",label:"Password *",value:he,onChange:function(e){ve(e.target.value)}})})]}),(0,I.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,I.jsx)(b.AG,{label:ne?"Cancel":"Reset",handleClick:function(){return re(!1),ve(""),Ce(""),Pe(""),void Me("")}}),(0,I.jsx)(b.k4,{isLoading:(null===A||void 0===A?void 0:A.isLoading)||(null===N||void 0===N?void 0:N.isLoading),label:ne?"Update":"Add",handleClick:function(e){ne?tt(e):nt(e)}})]})]})})})}),(0,I.jsx)(f.Z,{}),(0,I.jsx)(j.ZP,{item:!0,xs:9,children:(0,I.jsxs)(y.Z,{children:[(0,I.jsx)(J.z,{heading:"Saved Passwords",search:function(e){ge(e.target.value)}}),(0,I.jsx)(d.Z,{}),(0,I.jsxs)(C.Z,{children:[0===(null===Je||void 0===Je?void 0:Je.length)&&(0,I.jsx)(m.Z,{children:"No records found!!!"}),(null===Je||void 0===Je?void 0:Je.length)>0&&(0,I.jsx)(S.Gn,{rows:Je,columns:Xe})]})]})})]})]})}},8586:function(e,t,n){"use strict";var r=n(54750),s=n(46417);t.Z=(0,r.Z)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},35192:function(e,t,n){"use strict";var r=n(54750),s=n(46417);t.Z=(0,r.Z)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},71207:function(e,t,n){"use strict";var r=n(54750),s=n(46417);t.Z=(0,r.Z)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},91210:function(e,t,n){"use strict";var r=n(54750),s=n(46417);t.Z=(0,r.Z)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility")},25819:function(){}}]);