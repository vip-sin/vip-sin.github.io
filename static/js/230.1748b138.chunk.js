"use strict";(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[230],{55328:function(e,n,t){t.d(n,{Y0:function(){return i},gl:function(){return u},jt:function(){return d},li:function(){return l},sW:function(){return c}});var r=t(74165),a=t(15861),o=t(31881),s=t.n(o),i=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"VALIDATING_MOBILE_NUMBER"}),n.next=3,s().post("/backendapi/otp/newuser/send",e).then((function(e){t({type:"VALIDATED_MOBILE_NUMBER",data:e.data})})).catch((function(e){t({type:"INVALID_MOBILE_NUMBER",data:null===e||void 0===e?void 0:e.response})}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},c=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"REQUEST_CHANGE_PASSWORD"}),n.next=3,s().post("/backendapi/user/changepassword",e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(e){"ok"===e.data&&t({type:"RECEIVE_CHANGE_PASSWORD"})})).catch((function(e){t({type:"FAILURE_CHANGE_PASSWORD"})}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},u=function(e){var n=e.otp,t=e.key;return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"VALIDATING_OTP"}),e.next=3,s().post("/backendapi/otp/verify",{otp:n,key:t}).then((function(e){a({type:"VALIDATED_OTP",data:e.data})})).catch((function(e){a({type:"INVALID_OTP",data:null===e||void 0===e?void 0:e.response})}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},d=function(e,n){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"VALIDATING_OTP"}),t.next=3,s().post("/backendapi/otp/send",e).then((function(e){n&&a({type:"RECEIVE_RECOVERY_ID",data:{recoveryId:n,recoveryOtp:e.data}}),a({type:"VALIDATED_OTP",data:e.data})})).catch((function(e){a({type:"INVALID_OTP",data:null===e||void 0===e?void 0:e.response}),n&&a({type:"FAILURE_RECOVERY_ID",data:null===e||void 0===e?void 0:e.response})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"REQUEST_RECOVERY_ID"}),n.next=3,s().post("/backendapi/user/recovercheck",e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(n){var r=null===n||void 0===n?void 0:n.data[0];t(d(e,r))})).catch((function(e){t({type:"FAILURE_RECOVERY_ID",data:null===e||void 0===e?void 0:e.response})}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},49301:function(e,n,t){var r=t(1413),a=t(93433),o=t(74165),s=t(15861),i=t(29439),c=t(47313),u=t(89870),d=t(96900),l=t(56972),p=t(71535),h=t(71363),f=t(34940),v=t(62463),m=t(8247),w=t(86808),g=t(12613),x=t(86282),y=t(89717),Z=t(66135),P=t(46417),j=function(e){return new Promise((function(n){var t=document.createElement("script");t.src=e,document.body.appendChild(t),t.onload=function(){n(!0)},t.onerror=function(){n(!1)}}))};n.Z=(0,Z.$j)((function(e){var n=e.reducer.dataList,t=void 0===n?{}:n;return{orderDetails:null===t||void 0===t?void 0:t.orderDetails}}),(function(e){return{createOrder:function(n){return e(y.ST.endpoints.createOrder.initiate(n))}}}))((function(e){var n=e.toggleLoginModal,t=e.plan,y=e.setPlan,Z=e.defaultTiers,C=e.createOrder,E=e.orderDetails,_=sessionStorage.getItem("authtoken"),k=c.useState(Z),I=(0,i.Z)(k,2),A=I[0],S=I[1],b=c.useState(!1),D=(0,i.Z)(b,2),L=(D[0],D[1],"www.dev.lastarzi.com"===document.domain||"localhost"===document.domain),R=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(n){var t,r,a,s,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("https://checkout.razorpay.com/v1/checkout.js");case 2:if(t=e.sent){e.next=6;break}return alert("Razorpay SDK failed to load. Are you online?"),e.abrupt("return");case 6:if(r=n.amount,a=n.id,s=n.currency,t){e.next=9;break}return e.abrupt("return",alert("Loading Failed"));case 9:i={key:L?"rzp_test_cgSPFXNnKZx14s":"unavailable",amount:null===r||void 0===r?void 0:r.toString(),currency:s,name:"LastArzi",description:"Pay Dev",image:x.TR,order_id:a,callback_url:"https://eneqd3r9zrjok.x.pipedream.net/",handler:function(e){alert(e.razorpay_payment_id),alert(e.razorpay_order_id),alert(e.razorpay_signature)},prefill:{name:"Vipin Kumar",email:"vksforum@gmail.com",contact:"9458706129"},theme:{backGroundColor:"#20756D"},notes:{address:"LastArzi Corporate Office"}},new window.Razorpay(i).open();case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{C()}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.useEffect((function(){E&&R(E)}),[E]),(0,P.jsxs)(P.Fragment,{children:[!t&&(0,P.jsx)(h.Z,{component:"h2",variant:"h4",textAlign:"center",sx:{mt:10},children:"My Plans"}),(0,P.jsxs)(p.ZP,{container:!0,spacing:4,alignItems:"center",justifyContent:"center",children:[A.map((function(e){return(0,P.jsx)(p.ZP,{item:!0,xs:12,sm:3.7,sx:(0,r.Z)({mt:10},_&&"Basic"===e.title&&{display:"none"}),children:(0,P.jsxs)(d.Z,{raised:!0,style:{boxShadow:" 0px 4px 25px 0px rgb(0 0 0 / 10%)"},children:[(0,P.jsx)(g.ll,{align:"center",title:e.title}),(0,P.jsx)(f.Z,{}),(0,P.jsxs)(l.Z,{children:[(0,P.jsx)(v.Z,{direction:"column",spacing:1,sx:{mb:3},alignItems:"center",children:"0"!==e.annualPrice?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(h.Z,{variant:"h3",color:e.SelectedPrice===e.annualPrice?"text.secondary":"text.primary",children:["\u20b9",e.SelectedPrice===e.price?e.price:e.annualPrice]}),(0,P.jsx)(w.Z,{tier:e,handleChange:function(){return function(e){var n=(0,a.Z)(A);n.forEach((function(n){n.title===e.title&&(n.SelectedPrice===n.price?n.SelectedPrice=n.annualPrice:n.SelectedPrice=n.price)})),S(n)}(e)}})]}):(0,P.jsxs)(h.Z,{variant:"h3",children:["\u20b9",e.price]})}),(0,P.jsx)("ul",{children:e.description.map((function(e){return(0,P.jsx)(h.Z,{component:"li",align:"left",children:e},e)}))})]}),(0,P.jsx)(m.Z,{sx:{justifyContent:"center"},children:(0,P.jsx)(u.Z,{onClick:function(){return function(e){n("SignUp"),y(e)}(e)},variant:e.buttonVariant,children:e.buttonText})})]})},e.title)})),(0,P.jsx)(u.Z,{onClick:function(){O()},children:"RazorPay"})]})]})}))},89709:function(e,n,t){var r=t(1413),a=t(29439),o=t(47313),s=t(66135),i=t(55328),c=t(71535),u=t(40229),d=t(89870),l=t(97729),p=t(39653),h=t(2127),f=t(8586),v=t(46417);n.Z=(0,s.$j)((function(e){var n,t,r=e.reducer.auth,a=void 0===r?{}:r,o=null===a||void 0===a?void 0:a.phoneotp;return{validatedotp:null===o||void 0===o||null===(n=o.validatedotp)||void 0===n||null===(t=n.status)||void 0===t?void 0:t.toLowerCase(),validatingotp:null===o||void 0===o?void 0:o.validatingotp}}),{forgotpwd:i.sW})((function(e){var n={specialChars:/(?=.*?[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~])/,digit:/[0-9]/,lowercase:/[a-z]/,uppercase:/[A-Z]/,noWhitespace:/^\S*$/},t="Invalid input",s="Password and confirm password did not match.",i="Password should be less than 64 characters",m="Are Madatory fields blank?",w=(0,o.useState)(!1),g=(0,a.Z)(w,2),x=g[0],y=g[1],Z=(0,o.useState)(""),P=(0,a.Z)(Z,2),j=P[0],C=P[1],E=(0,o.useState)(""),_=(0,a.Z)(E,2),k=_[0],I=_[1],A=(0,o.useState)(!1),S=(0,a.Z)(A,2),b=S[0],D=S[1],L=(0,o.useState)({}),R=(0,a.Z)(L,2),O=R[0],N=R[1],T=(0,o.useState)(""),z=(0,a.Z)(T,2),V=z[0],W=z[1],B=function(e){var n=e.show;return(0,v.jsx)("span",{style:{marginRight:"5px"},children:n?(0,v.jsx)(h.Z,{size:"15",color:"green"}):(0,v.jsx)(f.Z,{size:"15",color:"red"})})},F=function(){return(0,v.jsx)(c.ZP,{item:!0,children:(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(B,{show:O.minimumLength}),(0,v.jsx)("span",{style:{color:O.minimumLength?"grey":"red"},children:"Minimum 8 characters"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(B,{show:O.uppercase}),(0,v.jsx)("span",{style:{color:O.uppercase?"grey":"red"},children:"Upper case alphabet"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(B,{show:O.lowercase}),(0,v.jsx)("span",{style:{color:O.lowercase?"grey":"red"},children:"Lower case alphabet"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(B,{show:O.digit}),(0,v.jsx)("span",{style:{color:O.digit?"grey":"red"},children:"Numeric"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(B,{show:O.noWhitespace}),(0,v.jsx)("span",{style:{color:O.noWhitespace?"grey":"red"},children:"No spaces"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(B,{show:O.specialChars}),(0,v.jsx)("span",{style:{color:O.specialChars?"grey":"red"},children:"Special character"})]})]})})},M=function(e,n){e&&(n.minimumLength&&n.specialChars&&n.digit&&n.lowercase&&n.uppercase&&n.noWhitespace?n.newPassword===t&&delete n.newPassword:n.newPassword=t)},U=function(){var n=(0,r.Z)({},O);e.fromChangePassword&&function(e,n){0===e.length?(n.currentPassword=m,y(m)):(y(""),delete n.currentPassword)}(V,n),function(e,n){e.length>64?(n.newPassword=i,y(i)):0===e.length?(n.newPassword=m,y(m)):(delete n.newPassword,y(""))}(j,n),M(j,n),function(e,n){0===e.length?(n.confirmNewPassword=m,y(m)):j!==e?(n.confirmNewPassword=s,y(s)):(y(""),delete n.confirmNewPassword)}(k,n),N(n);var t=Object.values(n);return 6===t.length&&t.every((function(e){return!0===e}))},G=function(t){var a,o;t.preventDefault();var s=null===(a=t.target)||void 0===a?void 0:a.name,i=null===(o=t.target)||void 0===o?void 0:o.value,c=(0,r.Z)({},O);"newPassword"===s?(D(!0),function(e,t){e.length>=8?t.minimumLength=!0:delete t.minimumLength,n.specialChars.test(e)?t.specialChars=!0:delete t.specialChars,n.digit.test(e)?t.digit=!0:delete t.digit,n.lowercase.test(e)?t.lowercase=!0:delete t.lowercase,n.uppercase.test(e)?t.uppercase=!0:delete t.uppercase,n.noWhitespace.test(e)?t.noWhitespace=!0:delete t.noWhitespace}(i,c),M(i,c)):D(!1),"newPassword"===s?e.signup?e.setpassword(i):C(i):e.signup?e.setconfirmPass(i):I(i),N(c)};return(0,v.jsxs)(u.Z,{type:"form",children:[e.fromChangePassword&&(0,v.jsx)(p.Z,{margin:"normal",required:!0,type:"password",value:V,placeholder:"Current Password",name:"currentPassword",onChange:function(e){return W(e.target.value)},onBlur:function(e){return W(e.target.value)},onFocus:function(e){W(e.target.value)},id:"password"}),(0,v.jsx)(p.Z,{margin:"normal",required:!0,fullWidth:!0,type:"password",inputProps:{autocomplete:"new-password",form:{autocomplete:"off"}},value:e.signup?e.password:j,placeholder:"New Password",name:"newPassword",onChange:G,onBlur:G,onFocus:G}),(0,v.jsx)(p.Z,{margin:"normal",required:!0,fullWidth:!0,type:"password",inputProps:{autocomplete:"new-password",form:{autocomplete:"off"}},value:e.signup?e.confirmPass:k,placeholder:"Confirm Password",name:"confirmPassword",onChange:G,onBlur:G,onFocus:G}),b&&(0,v.jsx)(u.Z,{children:(0,v.jsx)(F,{})}),x&&(0,v.jsx)("div",{style:{color:"red",textAlign:"center"},children:x}),e.error&&(0,v.jsx)("div",{style:{color:"red",textAlign:"center"},children:e.error}),!e.signup&&(0,v.jsx)(d.Z,{variant:"contained",sx:{mt:3,mb:2},type:"submit",fullWidth:!0,onClick:function(n){if(n.preventDefault(),U())if(e.fromChangePassword)e.changePassword({currentPass:V,newPass:j});else{var t=(0,l.Gf)(e.changePass,!1,j),r={_id:e.userId,password:t};console.log("body",r),e.forgotpwd(r)}else console.log("formErrors",O)},children:"Change"})]})}))}}]);