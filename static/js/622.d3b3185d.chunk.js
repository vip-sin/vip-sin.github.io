(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[622],{16176:function(e,t,r){"use strict";r.d(t,{IZ:function(){return h},YA:function(){return g},dU:function(){return m},dX:function(){return f},f:function(){return l},gJ:function(){return d},gS:function(){return v},n3:function(){return p},v_:function(){return y}});var n=r(74165),a=r(15861),u=r(80571),s=r(8908),o=r(97729),i=JSON.parse(sessionStorage.getItem("logInUserData")),c=u.g.injectEndpoints({endpoints:function(e){return{validatePhoneNumber:e.mutation({query:function(e){return{url:"/backendapi/otp/newuser/send",method:"POST",body:e}}}),forgotPWD:e.mutation({query:function(e){return{url:"/backendapi/user/forget",method:"POST",body:e}}}),validateOTP:e.mutation({query:function(e){return{url:"/backendapi/otp/verify",method:"POST",body:{otp:e.otp,key:e.key}}}}),sendOTP:e.mutation({query:function(e,t){return{url:"/backendapi/otp/send",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function r(){var a,u,o,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.dispatch,u=t.queryFulfilled,o=e.recoveryId,r.prev=2,r.next=5,u;case 5:i=r.sent,o&&a((0,s.IE)({recoveryId:o,recoveryOtp:i.data})),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),a({type:"ERROR_ALL_ASSET_DATA",data:r.t0});case 12:return r.prev=12,a({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),r.finish(12);case 15:case"end":return r.stop()}}),r,null,[[2,9,12,15]])})))()}}),validateREcoveryID:e.mutation({query:function(e){return{url:"/backendapi/user/recovercheck",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function r(){var a,u,s,o;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.dispatch,u=t.queryFulfilled,s=e.recoveryId,r.prev=2,r.next=5,u;case 5:o=r.sent,console.log("response",o),a(c.endpoints.sendOTP(s)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),a({type:"ERROR_ALL_ASSET_DATA",data:r.t0});case 13:return r.prev=13,a({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[2,10,13,16]])})))()},invalidatesTags:function(e,t,r){return[{type:"Post",id:r.id}]}}),subscribe:e.mutation({query:function(e){return{url:"/backendapi/newsletter/subscribe",method:"POST",body:{token:localStorage.getItem("fcmtoken"),topic:e}}},invalidatesTags:function(e,t,r){return[{type:"Post",id:r.id}]}}),saveUser:e.mutation({query:function(e){return{url:"/backendapi/user/saveuser",method:"POST",body:e}}}),login:e.mutation({query:function(e){return{url:"/backendapi/user/login",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:null!==(u=e.sent)&&void 0!==u&&u.data&&r((0,s.Dj)(u.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"ERROR_ALL_ASSET_DATA",data:e.t0});case 11:return e.prev=11,r({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()}}),dropdown:e.mutation({query:function(e){return{url:"/backendapi/dropdowns"}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,u,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:null!==(u=e.sent)&&void 0!==u&&u.data&&sessionStorage.setItem("dropdowns",JSON.stringify(null===(s=u.data)||void 0===s?void 0:s[0])),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"ERROR_ALL_ASSET_DATA",data:e.t0});case 11:return e.prev=11,r({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()}}),getUserData:e.mutation({query:function(e){return{url:"/backendapi/user/get",method:"POST"}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:null!==(u=e.sent)&&void 0!==u&&u.data&&console.log("first dop",u.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"ERROR_ALL_ASSET_DATA",data:e.t0});case 11:return e.prev=11,r({type:"GET_ALL_ASSET_DATA_LOADING",data:!1}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()}}),updateSecrets:e.mutation({query:function(e){return{url:"/backendapi/user/update/secrets",method:"POST",body:{secrets:e,_id:i._id}}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,u,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:null!==(u=e.sent)&&void 0!==u&&u.data&&r((0,s.Dj)(null===(o=u.data)||void 0===o?void 0:o[0])),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[1,8,10,12]])})))()}}),getDocuments:e.mutation({query:function(e){var t=e.user;e.token;return{url:"/backendapi/document/".concat(null===t||void 0===t?void 0:t._id)}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var r,a,u,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:u=e.sent,i=0;case 6:if(!(i<u.length)){e.next=20;break}return e.next=9,(0,o.Y)(u[i].desc);case 9:return u[i].desc=e.sent,u[i].id=i+1,e.next=13,(0,o.Y)(u[i].expiry);case 13:return u[i].expiry=e.sent,e.next=16,(0,o.Y)(u[i].alias);case 16:u[i].alias=e.sent;case 17:i+=1,e.next=6;break;case 20:r((0,s.wF)(u)),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(1);case 25:return e.prev=25,e.finish(25);case 27:case"end":return e.stop()}}),e,null,[[1,23,25,27]])})))()}})}}}),d=(c.useValidatePhoneNumberMutation,c.useForgotPWDMutation),l=c.useValidateOTPMutation,p=c.useSendOTPMutation,f=c.useValidateREcoveryIDMutation,v=c.useGetUserDataMutation,h=c.useUpdateSecretsMutation,m=(c.useSubscribeMutation,c.useSaveUserMutation),g=c.useLoginMutation,y=c.useDropdownMutation;c.useGetDocumentsMutation},97729:function(e,t,r){"use strict";r.d(t,{Gf:function(){return c},Y:function(){return d},c_:function(){return o},zY:function(){return i}});var n=r(74165),a=r(15861),u=r(42612),s=r.n(u),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",s().md.sha512.create().update(t).digest().toHex());case 4:e.prev=4,e.t0=e.catch(0),console.log("Error while hashing: ",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,u,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t||sessionStorage.getItem("secretkey"),e.next=4,o(r);case 4:return u=e.sent,e.next=7,c(a,u);case 7:return s=e.sent,e.abrupt("return",s);case 11:e.prev=11,e.t0=e.catch(0),console.log("Error while hashing: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,u,o,i,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===t||void 0===t?void 0:t.length)>0)){e.next=19;break}return a=sessionStorage.getItem("secretkey"),u=null!==r&&void 0!==r?r:a,o=s().random.getBytesSync(32),i=s().cipher.createCipher("AES-GCM",u),e.prev=5,i.start({iv:o,additionalData:"binary-encoded string"}),i.update(s().util.createBuffer(t)),i.finish(),c={iv:o,tag:i.mode.tag.toHex(),output:i.output.toHex()},e.abrupt("return",JSON.stringify(c));case 13:return e.prev=13,e.t0=e.catch(5),console.log("Error while encrypting data: ",e.t0),e.abrupt("return","");case 17:e.next=20;break;case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,u,o,i,c,d,l,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:a=sessionStorage.getItem("secretkey"),u=null!==r&&void 0!==r?r:a;try{o=JSON.parse(t)}catch(n){console.log(n)}if(i=o.iv,c=s().util.hexToBytes(o.tag),!(d=o.output)){e.next=28;break}if(e.prev=9,(l=s().cipher.createDecipher("AES-GCM",u)).start({iv:i,additionalData:"binary-encoded string",tag:c}),p=s().util.hexToBytes(d),l.update(s().util.createBuffer(p)),!l.finish()){e.next=19;break}return e.abrupt("return",l.output.toString());case 19:console.log("Error authentication tag didn't match ");case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(9),console.log("Error while decrypting data: ",e.t0),e.abrupt("return","");case 26:e.next=29;break;case 28:return e.abrupt("return",t);case 29:case"end":return e.stop()}}),e,null,[[9,22]])})));return function(t,r){return e.apply(this,arguments)}}()},25323:function(e,t,r){"use strict";var n=r(74165),a=r(15861),u=r(29439),s=r(47313),o=r(58467),i=r(63709),c=r(71003),d=r(9506),l=r(98668),p=r(20938),f=r(54285),v=r(97729),h=r(16176),m=r(8908),g=r(69173),y=r(49969),x=r(46417);t.Z=function(){var e,t,r=(0,i.I0)(),b=(0,o.s0)(),S=(0,o.TH)(),k=(0,f.Z)(),Z=k.setAuth,w=k.setSnack,A=k.persist,T=k.setPersist,_=(0,h.v_)(),E=(0,u.Z)(_,1)[0],P=(0,h.YA)(),D=(0,u.Z)(P,2),j=D[0],I=D[1];(0,s.useEffect)((function(){var e,t;null!==I&&void 0!==I&&I.isError&&(console.log("flags.error",I),w({msg:(null===I||void 0===I||null===(e=I.error)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Something went wrong",severity:"error"}))}),[I]);var O=(0,s.useState)(""),L=(0,u.Z)(O,2),q=L[0],R=L[1],G=(0,s.useState)(""),M=(0,u.Z)(G,2),C=M[0],N=M[1],F=(null===(e=S.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/user",U=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,u,s,o,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),C&&q){e.next=4;break}return console.log("Both username and password are required"),e.abrupt("return");case 4:return e.next=6,(0,v.c_)(q);case 6:return a=e.sent,e.next=9,j({user:C.trim(),password:a}).unwrap();case 9:if("Active"!==(null===(u=e.sent)||void 0===u?void 0:u.status)){e.next=26;break}return s=u.token,o=u.passwordKey,i=u.theme,A&&(sessionStorage.setItem("authtoken",s),sessionStorage.setItem("secretkey",o),sessionStorage.setItem("logInUserData",JSON.stringify(u)),sessionStorage.setItem("logInGreeting",!0),sessionStorage.setItem("theme",i||"light")),Z(u),r((0,m.Dj)(u)),e.prev=15,e.next=18,E();case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(15),console.error(e.t0);case 23:R(""),N(""),b(F,{replace:!0});case 26:case"end":return e.stop()}}),e,null,[[15,20]])})));return function(t){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){localStorage.setItem("persist",A)}),[A]),(0,x.jsxs)(d.Z,{component:"form",onSubmit:U,sx:{mt:1},children:[(0,x.jsx)(p.nv,{required:!0,label:"Phone or Email",name:"email",autoFocus:!0,value:C,id:"emaillogin",onChange:function(e){N(e.target.value)}}),(0,x.jsx)(p.nv,{required:!0,label:"Password",name:"password",autoComplete:"current-password",value:q,type:"password",id:"password",onChange:function(e){R(e.target.value)}}),(0,x.jsx)(c.Z,{type:"submit",fullWidth:!0,variant:"contained",disabled:!C||!q||(null===I||void 0===I?void 0:I.isLoading),sx:{mt:3,mb:2},children:null!==I&&void 0!==I&&I.isLoading?(0,x.jsx)(l.Z,{size:25}):"Sign In"}),(0,x.jsx)("div",{className:"persistCheck",style:{fontSize:"0.8rem"},children:(0,x.jsx)(g.Z,{control:(0,x.jsx)(y.Z,{id:"persist",checked:A,onChange:function(){T((function(e){return!e}))},color:"primary"}),label:"Trust This Device"})})]})}},24160:function(e,t,r){"use strict";r.r(t);r(47313);var n=r(19641),a=r(63585),u=r(47605),s=r(25323),o=r(29137),i=r(2135),c=r(19860),d=r(46417);t.default=function(){var e=(0,c.Z)();return(0,d.jsxs)(n.ZP,{container:!0,style:{paddingTop:"4%"},children:[(0,d.jsx)(n.ZP,{item:!0,xs:1,md:4,sm:2}),(0,d.jsx)(n.ZP,{item:!0,xs:10,md:4,sm:8,container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:(0,d.jsxs)(n.ZP,{justifyContent:"center",alignItems:"center",style:{padding:25,backgroundColor:e.palette.background.paper,borderRadius:20,boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.30)",width:"350px"},children:[(0,d.jsx)(n.ZP,{item:!0,align:"center",xs:12,children:(0,d.jsx)(a.Z,{sx:{color:e.palette.background.paper,backgroundColor:e.palette.primary.main},children:(0,d.jsx)(o.Z,{})})}),(0,d.jsx)(n.ZP,{item:!0,children:(0,d.jsx)(u.Z,{align:"center",variant:"h5",children:"Sign In"})}),(0,d.jsx)(n.ZP,{sx:{marginTop:"1rem"},item:!0,children:(0,d.jsx)(s.Z,{})}),(0,d.jsxs)(n.ZP,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",sx:{fontSize:"0.8rem"},children:[(0,d.jsx)(n.ZP,{item:!0,children:(0,d.jsx)(i.rU,{style:{color:e.palette.primary.main},to:"/forgot",children:"Forgot password?"})}),(0,d.jsx)(n.ZP,{item:!0,children:(0,d.jsx)(i.rU,{style:{color:e.palette.primary.main},to:"/signup",children:"Haven't registered? Sign Up"})})]})]})}),(0,d.jsx)(n.ZP,{item:!0,xs:1,md:4,sm:2})]})}},29137:function(e,t,r){"use strict";var n=r(64836);t.Z=void 0;var a=n(r(45045)),u=r(46417),s=(0,a.default)((0,u.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");t.Z=s},25819:function(){}}]);