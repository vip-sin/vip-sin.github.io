"use strict";(self.webpackChunkvpn=self.webpackChunkvpn||[]).push([[46],{18825:function(e,n,s){s.d(n,{z:function(){return l}});var t=s(71535),o=s(40229),a=s(22449),r=(s(47313),s(94843)),i=s(46417),l=function(e){return(0,i.jsxs)(t.ZP,{container:!0,sx:{px:2.5,py:1},children:[(0,i.jsx)(t.ZP,{item:!0,xs:6,children:(0,i.jsx)(r.ll,{title:e.heading})}),(0,i.jsx)(t.ZP,{item:!0,xs:6,children:(0,i.jsx)(o.Z,{display:"flex",justifyContent:"flex-end",children:(0,i.jsx)(a.Z,{onChange:function(n){return e.search(n.target.value)},placeholder:"Search"})})})]})}},64046:function(e,n,s){s.r(n);var t=s(1413),o=s(93433),a=s(29439),r=s(47313),i=s(40229),l=s(34940),c=s(96327),d=s(39995),u=s(7081),p=s(88356),f=s(34061),h=s(89870),x=s(5448),w=s(22455),v=s(71535),j=s(96900),m=s(56972),g=s(71363),Z=s(61474),S=s(97729),C=s(12613),y=s(71207),P=s(35192),k=s(91210),N=s(86282),b=s(16615),M=s(18825),I=s(46417),L=function(e){return(0,I.jsx)(y.Z,{onClick:function(){return e.editRow(!0)}})},A=function(e){var n=(0,r.useState)(!1),s=(0,a.Z)(n,2),t=s[0],o=s[1];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(u.Z,{open:t,children:[(0,I.jsx)(p.Z,{children:"Are you sure you want to delete this record?"}),(0,I.jsxs)(f.Z,{children:[(0,I.jsx)(h.Z,{onClick:function(){return o(!1)},children:"Cancel"}),(0,I.jsx)(h.Z,{onClick:function(){e.deleteRow(),o(!1)},children:"Delete"})]})]}),(0,I.jsx)(c.Z,{handleConfirm:function(){e.deleteRow(),o(!1)},isOpen:t,closeModal:function(){return o(!1)}}),(0,I.jsx)(P.Z,{size:window.screen.width<500?13:20,onClick:function(){return o(!0)}})]})},z=function(e){return(0,I.jsx)(k.Z,{onClick:function(){if(e.showPass){var n=JSON.parse(sessionStorage.getItem("logInUserData")).pwdtime;(n>10||n<2)&&(n=3),n&&(C.A9,"Wait for ".concat(n," seconds as one password is already visible !"))}else e.set()}})},D=JSON.parse(sessionStorage.getItem("dropdowns")).passwordTypes;n.default=function(e){var n=(0,b.tE)(),s=(0,a.Z)(n,1)[0],c=(0,b.B)(),y=(0,a.Z)(c,1)[0],P=(0,b.np)(),k=(0,a.Z)(P,1)[0],G=(0,b.T2)(),O=(0,a.Z)(G,1)[0],U=(0,r.useState)(!1),_=(0,a.Z)(U,2),E=_[0],J=_[1],R=(0,r.useState)(!1),T=(0,a.Z)(R,2),Y=T[0],W=T[1],V=(0,r.useState)(!1),F=(0,a.Z)(V,2),H=F[0],B=F[1],q=(0,r.useState)(null),K=(0,a.Z)(q,2),Q=K[0],X=K[1],$=(0,r.useState)(!1),ee=(0,a.Z)($,2),ne=ee[0],se=ee[1],te=(0,r.useState)(""),oe=(0,a.Z)(te,2),ae=oe[0],re=oe[1],ie=(0,r.useState)(""),le=(0,a.Z)(ie,2),ce=le[0],de=le[1],ue=(0,r.useState)(""),pe=(0,a.Z)(ue,2),fe=pe[0],he=pe[1],xe=(0,r.useState)(""),we=(0,a.Z)(xe,2),ve=we[0],je=we[1],me=(0,r.useState)(""),ge=(0,a.Z)(me,2),Ze=ge[0],Se=ge[1],Ce=(0,r.useState)(""),ye=(0,a.Z)(Ce,2),Pe=ye[0],ke=ye[1],Ne=(0,r.useState)(""),be=(0,a.Z)(Ne,2),Me=be[0],Ie=be[1],Le=(0,r.useState)([]),Ae=(0,a.Z)(Le,2),ze=Ae[0],De=Ae[1],Ge=(0,r.useState)([]),Oe=(0,a.Z)(Ge,2),Ue=Oe[0],_e=Oe[1],Ee=[{label:"Edit",id:"edit",cell:function(e){return(0,I.jsx)(L,{row:e,editRow:function(){Je(e)}})}},{label:"Alias",selector:"pwdname",id:"pwdname",cell:function(e){return e.pwdname}},{label:"Type",selector:"ptype",id:"ptype",cell:function(e){return e.ptype}},{label:"UserName",selector:"userName",id:"userName",cell:function(e){return(0,I.jsx)("span",{children:e.showPass?e.userName:"********"})}},{label:"Password",selector:"pwd",cell:function(e){return(0,I.jsx)("span",{children:e.showPass?e.pwd:"********"})}},{label:"",sortable:!1,cell:function(e){return(0,I.jsx)(z,{showPass:Y,set:function(){ke(e),se(!ne)}})}},{label:"",sortable:!1,cell:function(e){return(0,I.jsx)(A,{row:e,deleteRow:function(){return Ye(e)}})}}];(0,r.useEffect)((function(){Re()}),[]),(0,r.useEffect)((function(){if(ce.length){var e=(Ue.length?Ue:ze).filter((function(e){var n,s,t=e.userName,o=e.pwdName,a=e.pType;return n=(null===t||void 0===t?void 0:t.toLowerCase().startsWith(ce.toLowerCase()))||(null===o||void 0===o?void 0:o.toLowerCase().startsWith(ce.toLowerCase()))||(null===a||void 0===a?void 0:a.toLowerCase().startsWith(ce.toLowerCase())),s=(null===t||void 0===t?void 0:t.toLowerCase().includes(ce.toLowerCase()))||(null===o||void 0===o?void 0:o.toLowerCase().includes(ce.toLowerCase()))||(null===a||void 0===a?void 0:a.toLowerCase().includes(ce.toLowerCase())),n||(!n&&s?s:null)}));De((0,o.Z)(e))}else De((0,o.Z)(Ue))}),[ce]);var Je=function(e){var n=e.ptype,s=e.pwd,t=e.pwdname,o=e.userName;he(n),B(!0),X(e),re(s),je(o),Se(t)},Re=function(){JSON.parse(sessionStorage.getItem("logInUserData"))&&y().then((function(e){console.log(e,"res");for(var n=[],s=0;s<(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length);s+=1){var t,o={};o.ptype=(0,S.Y)(e.data[s].ptype),o.pwd=(0,S.Y)(e.data[s].pwd),o.pwdId=(0,S.Y)(e.data[s].pwdId),o.pwdname=(0,S.Y)(e.data[s].pwdname),o.userName=(0,S.Y)(e.data[s].userName),o._id=e.data[s]._id,n.push(o)}null!==e&&void 0!==e&&e.data&&(De(n.reverse()),_e(n.reverse()))}))},Te=function(e,n){var s=ze.map((function(e){return Object.assign({},e)}));console.log(s.reverse,"locations"),s[n].showPass=e,De(s),W(e)},Ye=function(e){O(e).then((function(n){n&&C.A9;var s=ze.filter((function(n){return n._id!==e._id}));De(s),_e(s)})),We(!1,null)},We=function(e,n){},Ve=JSON.parse(sessionStorage.getItem("logInUserData")),Fe="";return Ve&&((Fe=Ve.pwdtime)>10||Fe<2)&&(Fe=3),(0,I.jsxs)(i.Z,{children:[(0,I.jsxs)(u.Z,{open:ne,onClose:function(){se(!ne),Ie(""),ke("")},fade:!1,children:[(0,I.jsx)(x.Z,{children:"Confirm your identity"}),(0,I.jsxs)(p.Z,{children:["Enter your login password to continue",(0,I.jsx)(C.nv,{type:"password",id:"password",placeholder:"Password",value:Me,onChange:function(e){Ie(e.target.value)}}),(0,I.jsx)(w.Z,{children:(0,I.jsxs)("span",{children:["Your password will only be visible for ",Fe," seconds!"]})})]}),(0,I.jsxs)(f.Z,{children:[(0,I.jsx)(h.Z,{color:""===Me?"primary":"success",disabled:""===Me,onClick:function(){var e=JSON.parse(sessionStorage.getItem("logInUserData")).pwdtime;(e>10||e<2)&&(e=3),(0,S.tc)(Me).then((function(n){if(n!==sessionStorage.getItem("secretkey"))return(0,I.jsx)(C.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Wrong Password",severity:"warning"});console.log(Pe);var s=ze.indexOf(Pe);console.log(s,"index"),Te(!0,s),setTimeout((function(){Te(!1,s),W(!1)}),e?1e3*e:3e3),se(!ne),Ie("")}))},children:"Accept"})," "]})]}),(0,I.jsxs)(v.ZP,{container:!0,spacing:2,sx:{p:2},children:[(0,I.jsx)(v.ZP,{item:!0,xs:12,md:9,lg:9,children:(0,I.jsx)(v.ZP,{item:!0,children:(0,I.jsx)(j.Z,{children:(0,I.jsxs)(m.Z,{children:[(0,I.jsx)(C.ll,{color:"text.secondary",title:H?"Edit Password":"Save new Password"}),(0,I.jsxs)(v.ZP,{container:!0,rowSpacing:.01,spacing:1,children:[(0,I.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(Z.gc,{id:"color",name:"color",options:D,onChange:function(e,n){return he(n?n.value:"")},value:(0,N.NA)(D,fe),renderInput:function(e){return(0,I.jsx)(C.nv,(0,t.Z)((0,t.Z)({},e),{},{placeholder:"Password Type *"}))}})}),(0,I.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(C.nv,{name:"accountNumber",id:"accountNumberMulti",placeholder:"Alias *",value:Ze,onChange:function(e){var n=e.target.value.trim();Se(n?e.target.value:"")}})}),(0,I.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(C.nv,{name:"userName1",id:"userNameMulti1",placeholder:"User Name",value:ve,onChange:function(e){var n=e.target.value.trim();je(n||"")}})}),(0,I.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(C.nv,{type:"password",name:"name",id:"nameMultiPassword",placeholder:"Password *",value:ae,onChange:function(e){re(e.target.value)}})})]}),(0,I.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,I.jsx)(Z.AG,{label:H?"Cancel":"Reset",handleClick:function(){return B(!1),re(""),he(""),je(""),void Se("")}}),(0,I.jsx)(Z.k4,{isLoading:E,label:H?"Update":"Add",handleClick:function(e){!E&&(H?function(e){if(J(!0),e.preventDefault(),""===fe||""===ae||""===Ze)return J(!1),(0,I.jsx)(C.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Mandatory Field Missing !!",severity:"warning"});var n={showPass:!1,pwdname:(0,S.Gf)(Ze),pwd:(0,S.Gf)(ae),ptype:(0,S.Gf)(fe),userName:(0,S.Gf)(ve),user:JSON.parse(sessionStorage.getItem("logInUserData"))._id,_id:Q._id};De(""),re(""),B(!1),X(null),he(""),je(""),Se(""),s(n).then((function(e){return Re(),J(!1),(0,I.jsx)(C.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Password saved successfully"})}))}(e):function(e){if(J(!0),e.preventDefault(),""===fe||""===ae||""===Ze)return J(!1),(0,I.jsx)(C.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Mandatory Field Missing !!",severity:"warning"});var n={pwdname:Ze,pwd:ae,showPass:!1,userName:ve,accountNumber:Ze},s={showPass:!1,pwdname:(0,S.Gf)(Ze),pwd:(0,S.Gf)(ae),ptype:(0,S.Gf)(fe),userName:(0,S.Gf)(ve),user:JSON.parse(sessionStorage.getItem("logInUserData"))._id};console.log(ze,"dneoidnow"),ze.push(n),De(""),re(""),he(""),je(""),Se(""),k(s).then((function(e){return Re(),J(!1),(0,I.jsx)(C.A9,{handleClick:function(){},openSnack:!0,openSnackMsg:"Password saved successfully"})}))}(e))}})]})]})})})}),(0,I.jsx)(d.Z,{}),(0,I.jsx)(v.ZP,{item:!0,xs:9,children:(0,I.jsxs)(j.Z,{children:[(0,I.jsx)(M.z,{heading:"Saved Passwords",search:function(e){de(e.target.value)}}),(0,I.jsx)(l.Z,{}),(0,I.jsxs)(m.Z,{children:[0===(null===ze||void 0===ze?void 0:ze.length)&&(0,I.jsx)(g.Z,{children:"No records found!!!"}),(null===ze||void 0===ze?void 0:ze.length)>0&&(0,I.jsx)(C.Gn,{rows:ze,columns:Ee})]})]})})]})]})}},35192:function(e,n,s){var t=s(46095),o=s(46417);n.Z=(0,t.Z)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},71207:function(e,n,s){var t=s(46095),o=s(46417);n.Z=(0,t.Z)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},91210:function(e,n,s){var t=s(46095),o=s(46417);n.Z=(0,t.Z)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility")}}]);